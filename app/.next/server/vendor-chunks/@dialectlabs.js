"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@dialectlabs";
exports.ids = ["vendor-chunks/@dialectlabs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks-core/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractActionComponent: () => (/* binding */ AbstractActionComponent),\n/* harmony export */   Action: () => (/* binding */ Action),\n/* harmony export */   ActionConfig: () => (/* binding */ ActionConfig),\n/* harmony export */   ActionsRegistry: () => (/* binding */ ActionsRegistry),\n/* harmony export */   ActionsURLMapper: () => (/* binding */ ActionsURLMapper),\n/* harmony export */   BASELINE_ACTION_BLOCKCHAIN_IDS: () => (/* binding */ BASELINE_ACTION_BLOCKCHAIN_IDS),\n/* harmony export */   BASELINE_ACTION_VERSION: () => (/* binding */ BASELINE_ACTION_VERSION),\n/* harmony export */   BLINK_CLIENT_KEY_HEADER: () => (/* binding */ BLINK_CLIENT_KEY_HEADER),\n/* harmony export */   BlinkContainer: () => (/* binding */ BlinkContainer),\n/* harmony export */   BlockchainIds: () => (/* binding */ BlockchainIds),\n/* harmony export */   ButtonActionComponent: () => (/* binding */ ButtonActionComponent),\n/* harmony export */   DEFAULT_SUPPORTED_BLOCKCHAIN_IDS: () => (/* binding */ DEFAULT_SUPPORTED_BLOCKCHAIN_IDS),\n/* harmony export */   DisclaimerType: () => (/* binding */ DisclaimerType),\n/* harmony export */   ExecutionType: () => (/* binding */ ExecutionType),\n/* harmony export */   FormActionComponent: () => (/* binding */ FormActionComponent),\n/* harmony export */   MAX_SUPPORTED_ACTION_VERSION: () => (/* binding */ MAX_SUPPORTED_ACTION_VERSION),\n/* harmony export */   MultiValueActionComponent: () => (/* binding */ MultiValueActionComponent),\n/* harmony export */   SignMessageVerificationErrorType: () => (/* binding */ SignMessageVerificationErrorType),\n/* harmony export */   SingleValueActionComponent: () => (/* binding */ SingleValueActionComponent),\n/* harmony export */   checkSecurity: () => (/* binding */ checkSecurity),\n/* harmony export */   createSignMessageText: () => (/* binding */ createSignMessageText),\n/* harmony export */   defaultActionSupportStrategy: () => (/* binding */ defaultActionSupportStrategy),\n/* harmony export */   getExtendedActionState: () => (/* binding */ getExtendedActionState),\n/* harmony export */   getExtendedInterstitialState: () => (/* binding */ getExtendedInterstitialState),\n/* harmony export */   getExtendedWebsiteState: () => (/* binding */ getExtendedWebsiteState),\n/* harmony export */   isBlockchainSupported: () => (/* binding */ isBlockchainSupported),\n/* harmony export */   isInterstitial: () => (/* binding */ isInterstitial),\n/* harmony export */   isParameterSelectable: () => (/* binding */ isParameterSelectable),\n/* harmony export */   isPatternAllowed: () => (/* binding */ isPatternAllowed),\n/* harmony export */   isVersionSupported: () => (/* binding */ isVersionSupported),\n/* harmony export */   mergeActionStates: () => (/* binding */ mergeActionStates),\n/* harmony export */   parseSignMessageText: () => (/* binding */ parseSignMessageText),\n/* harmony export */   proxify: () => (/* binding */ proxify),\n/* harmony export */   proxifyImage: () => (/* binding */ proxifyImage),\n/* harmony export */   setClientKey: () => (/* binding */ setClientKey),\n/* harmony export */   setProxyUrl: () => (/* binding */ setProxyUrl),\n/* harmony export */   unfurlUrlToActionApiUrl: () => (/* binding */ unfurlUrlToActionApiUrl),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useActionsRegistryInterval: () => (/* binding */ useActionsRegistryInterval),\n/* harmony export */   verifySignMessageData: () => (/* binding */ verifySignMessageData)\n/* harmony export */ });\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/utils/caip-2.ts\nvar BlockchainIds = {\n  SOLANA_MAINNET: \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n  SOLANA_DEVNET: \"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",\n  SOLANA_TESTNET: \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3\",\n  ETHEREUM_MAINNET: \"eip155:1\",\n  MONAD_DEVNET: \"eip155:41454\"\n};\nvar BlockchainNames = {\n  [BlockchainIds.SOLANA_MAINNET]: \"Solana Mainnet\",\n  [BlockchainIds.SOLANA_DEVNET]: \"Solana Devnet\",\n  [BlockchainIds.SOLANA_TESTNET]: \"Solana Testnet\",\n  [BlockchainIds.ETHEREUM_MAINNET]: \"Ethereum Mainnet\",\n  [BlockchainIds.MONAD_DEVNET]: \"Monad Devnet\"\n};\nfunction getShortBlockchainName(id) {\n  const blockchainName = BlockchainNames[id];\n  if (!blockchainName) {\n    const [chainId, reference] = id.split(\":\");\n    if (chainId && reference) {\n      const truncatedReference = reference.length > 3 ? reference.slice(0, 3) + \"...\" : reference;\n      return `${chainId}:${truncatedReference}`;\n    } else {\n      return id.length > 8 ? id.slice(0, 8) + \"...\" : id;\n    }\n  }\n  return blockchainName;\n}\n\n// src/utils/client-key.ts\nvar BLINK_CLIENT_KEY_HEADER = \"x-blink-client-key\";\nvar clientKey = null;\nfunction setClientKey(key) {\n  if (!key) {\n    console.warn(\"[@dialectlabs/blinks] client key is not set\");\n    clientKey = null;\n    return;\n  }\n  clientKey = key;\n}\n\n// src/utils/constants.ts\nvar SOLANA_ACTION_PREFIX = /^(solana-action:|solana:)/;\n\n// src/utils/interstitial-url.ts\nfunction isInterstitial(url) {\n  try {\n    const urlObj = new URL(url);\n    const actionUrl = urlObj.searchParams.get(\"action\");\n    if (!actionUrl) {\n      return { isInterstitial: false };\n    }\n    const urlDecodedActionUrl = decodeURIComponent(actionUrl);\n    if (!SOLANA_ACTION_PREFIX.test(urlDecodedActionUrl)) {\n      return { isInterstitial: false };\n    }\n    const decodedActionUrl = urlDecodedActionUrl.replace(\n      SOLANA_ACTION_PREFIX,\n      \"\"\n    );\n    const decodedActionUrlObj = new URL(decodedActionUrl);\n    return {\n      isInterstitial: true,\n      decodedActionUrl: decodedActionUrlObj.toString()\n    };\n  } catch (e) {\n    console.error(\n      `[@dialectlabs/blinks] Failed to check if URL is interstitial: ${url}`,\n      e\n    );\n    return { isInterstitial: false };\n  }\n}\n\n// src/utils/proxify.ts\nvar proxyUrl = \"https://proxy.dial.to\";\nfunction setProxyUrl(url) {\n  if (!url) {\n    console.warn(\n      \"[@dialectlabs/blinks] Proxy URL is not set, proxy will be disabled\"\n    );\n    proxyUrl = null;\n    return;\n  }\n  try {\n    new URL(url);\n  } catch (e) {\n    console.warn(\"[@dialectlabs/blinks] Invalid proxy URL\", e);\n    return;\n  }\n  proxyUrl = url;\n}\nfunction proxify(url) {\n  const baseUrl = new URL(url);\n  if (shouldIgnoreProxy(baseUrl)) {\n    return {\n      url: baseUrl,\n      headers: {}\n    };\n  }\n  const proxifiedUrl = new URL(proxyUrl);\n  proxifiedUrl.searchParams.set(\"url\", url);\n  return {\n    url: proxifiedUrl,\n    headers: getProxifiedHeaders()\n  };\n}\nfunction proxifyImage(url) {\n  const baseUrl = new URL(url);\n  if (shouldIgnoreProxy(baseUrl)) {\n    return {\n      url: baseUrl\n    };\n  }\n  const proxifiedUrl = new URL(`${proxyUrl}/image`);\n  proxifiedUrl.searchParams.set(\"url\", url);\n  return {\n    url: proxifiedUrl\n  };\n}\nfunction getProxifiedHeaders() {\n  return {\n    ...clientKey && { [BLINK_CLIENT_KEY_HEADER]: clientKey }\n  };\n}\nfunction shouldIgnoreProxy(url) {\n  if (url.hostname === \"localhost\" || url.hostname === \"127.0.0.1\") {\n    return true;\n  }\n  if (!proxyUrl) {\n    return true;\n  }\n  return false;\n}\n\n// src/utils/security.ts\nvar checkSecurity = (state, securityLevel) => {\n  switch (securityLevel) {\n    case \"only-trusted\":\n      return state === \"trusted\";\n    case \"non-malicious\":\n      return state !== \"malicious\";\n    case \"all\":\n      return true;\n  }\n};\nvar isUrlSameOrigin = (origin, url) => {\n  if (!url.startsWith(\"http\")) {\n    return true;\n  }\n  const urlObj = new URL(url);\n  return urlObj.origin === origin;\n};\n\n// src/utils/url-mapper.ts\nvar ActionsURLMapper = class {\n  config;\n  constructor(config) {\n    this.config = config;\n  }\n  mapUrl(url) {\n    const urlObj = typeof url === \"string\" ? new URL(url) : url;\n    const queryParams = urlObj.search;\n    for (const action of this.config.rules) {\n      if (this.isExactMatch(action.pathPattern, urlObj)) {\n        return `${action.apiPath}${queryParams}`;\n      }\n      const match = this.matchPattern(action.pathPattern, urlObj);\n      if (match) {\n        return this.constructMappedUrl(\n          action.apiPath,\n          match,\n          queryParams,\n          urlObj.origin\n        );\n      }\n    }\n    return null;\n  }\n  // Helper method to check for exact match\n  isExactMatch(pattern, urlObj) {\n    return pattern === `${urlObj.origin}${urlObj.pathname}`;\n  }\n  // Helper method to match the URL with the pattern\n  matchPattern(pattern, urlObj) {\n    const fullPattern = new RegExp(\n      `^${pattern.replace(/\\*\\*/g, \"(.*)\").replace(/\\/(\\*)/g, \"/([^/]+)\")}$`\n    );\n    const urlToMatch = pattern.startsWith(\"http\") ? urlObj.toString() : urlObj.pathname;\n    return urlToMatch.match(fullPattern);\n  }\n  // Helper method to construct the mapped URL\n  constructMappedUrl(apiPath, match, queryParams, origin) {\n    let mappedPath = apiPath;\n    match.slice(1).forEach((group) => {\n      mappedPath = mappedPath.replace(/\\*+/, group);\n    });\n    if (apiPath.startsWith(\"http\")) {\n      const mappedUrl = new URL(mappedPath);\n      return `${mappedUrl.origin}${mappedUrl.pathname}${queryParams}`;\n    }\n    return `${origin}${mappedPath}${queryParams}`;\n  }\n};\nasync function unfurlUrlToActionApiUrl(actionUrl) {\n  const url = new URL(actionUrl);\n  const strUrl = actionUrl.toString();\n  if (SOLANA_ACTION_PREFIX.test(strUrl)) {\n    return strUrl.replace(SOLANA_ACTION_PREFIX, \"\");\n  }\n  const interstitialData = isInterstitial(url);\n  if (interstitialData.isInterstitial) {\n    return interstitialData.decodedActionUrl;\n  }\n  const actionsJsonUrl = url.origin + \"/actions.json\";\n  const { url: proxyUrl2, headers: proxyHeaders } = proxify(actionsJsonUrl);\n  const actionsJson = await fetch(proxyUrl2, {\n    headers: {\n      ...proxyHeaders\n    }\n  }).then((res) => res.json());\n  const actionsUrlMapper = new ActionsURLMapper(actionsJson);\n  return actionsUrlMapper.mapUrl(url);\n}\n\n// src/api/Action/Action.ts\n\n\n// package.json\nvar package_default = {\n  name: \"@dialectlabs/blinks-core\",\n  version: \"0.14.1\",\n  license: \"Apache-2.0\",\n  private: false,\n  sideEffects: true,\n  type: \"module\",\n  repository: {\n    type: \"git\",\n    url: \"https://github.com/dialectlabs/blinks\"\n  },\n  scripts: {\n    build: \"tsup-node\",\n    dev: \"tsup-node --watch\"\n  },\n  main: \"dist/index.cjs\",\n  module: \"dist/index.js\",\n  types: \"dist/index.d.ts\",\n  exports: {\n    \".\": {\n      import: \"./dist/index.js\",\n      require: \"./dist/index.cjs\",\n      types: \"./dist/index.d.ts\"\n    }\n  },\n  files: [\n    \"dist\"\n  ],\n  devDependencies: {\n    \"@solana/actions-spec\": \"~2.4.2\",\n    \"@types/react\": \"^18.3.3\",\n    \"@types/react-dom\": \"^18.3.0\",\n    \"@typescript-eslint/eslint-plugin\": \"^7.16.1\",\n    \"@typescript-eslint/parser\": \"^7.16.1\",\n    autoprefixer: \"^10.4.19\",\n    eslint: \"^8.57.0\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-react\": \"^7.34.4\",\n    \"eslint-plugin-react-hooks\": \"^4.6.2\",\n    postcss: \"^8.4.39\",\n    \"postcss-prefix-selector\": \"^1.16.1\",\n    prettier: \"^3.3.3\",\n    \"prettier-plugin-organize-imports\": \"^4.0.0\",\n    \"prettier-plugin-tailwindcss\": \"^0.6.5\",\n    tailwindcss: \"^3.4.3\",\n    tsup: \"^8.2.0\",\n    typescript: \"^5.5.3\"\n  },\n  peerDependencies: {\n    react: \">=18\"\n  },\n  dependencies: {\n    \"@solana/web3.js\": \"^1.95.1\",\n    nanoid: \"^5.0.7\"\n  }\n};\n\n// src/utils/dependency-versions.ts\nvar pkg = package_default;\nvar ACTIONS_SPEC_VERSION = pkg.devDependencies[\"@solana/actions-spec\"].replace(/[^\\d.]/g, \"\");\n\n// src/api/Action/action-supportability.ts\nvar MAX_SUPPORTED_ACTION_VERSION = ACTIONS_SPEC_VERSION;\nvar DEFAULT_SUPPORTED_BLOCKCHAIN_IDS = [\n  BlockchainIds.SOLANA_MAINNET,\n  BlockchainIds.SOLANA_DEVNET\n];\nvar BASELINE_ACTION_VERSION = \"2.2\";\nvar BASELINE_ACTION_BLOCKCHAIN_IDS = [BlockchainIds.SOLANA_MAINNET];\nvar defaultActionSupportStrategy = async (action, adapter) => {\n  const { version: actionVersion, blockchainIds: actionBlockchainIds } = action.metadata;\n  if (!actionVersion || !actionBlockchainIds || actionBlockchainIds.length === 0) {\n    return {\n      isSupported: false,\n      message: \"Action compatibility metadata is not set. Please contact the action provider.\"\n    };\n  }\n  const supportedActionVersion = MAX_SUPPORTED_ACTION_VERSION;\n  const supportedBlockchainIds = adapter.metadata.supportedBlockchainIds;\n  const versionSupported = isVersionSupported({\n    actionVersion,\n    supportedActionVersion\n  });\n  const blockchainSupported = isBlockchainSupported({\n    actionBlockchainIds,\n    supportedBlockchainIds\n  });\n  const notSupportedBlockchainIds = actionBlockchainIds.filter(\n    (id) => !supportedBlockchainIds.includes(id)\n  );\n  const notSupportedActionBlockchainNames = notSupportedBlockchainIds.map(\n    getShortBlockchainName\n  );\n  if (!versionSupported && !blockchainSupported) {\n    const blockchainMessage = notSupportedActionBlockchainNames.length === 1 ? `blockchain ${notSupportedActionBlockchainNames[0]}` : `blockchains ${notSupportedActionBlockchainNames.join(\", \")}`;\n    return {\n      isSupported: false,\n      message: `Action version ${actionVersion} and ${blockchainMessage} are not supported by your Blink client.`\n    };\n  }\n  if (!versionSupported) {\n    return {\n      isSupported: false,\n      message: `Action version ${actionVersion} is not supported by your Blink client.`\n    };\n  }\n  if (!blockchainSupported) {\n    const blockchainMessage = notSupportedActionBlockchainNames.length === 1 ? `Action blockchain ${notSupportedActionBlockchainNames[0]} is not supported by your Blink client.` : `Action blockchains ${notSupportedActionBlockchainNames.join(\", \")} are not supported by your Blink client.`;\n    return {\n      isSupported: false,\n      message: blockchainMessage\n    };\n  }\n  return {\n    isSupported: true\n  };\n};\nfunction isVersionSupported({\n  supportedActionVersion,\n  actionVersion\n}) {\n  return compareSemverIgnoringPatch(actionVersion, supportedActionVersion) <= 0;\n}\nfunction compareSemverIgnoringPatch(v1, v2) {\n  const [major1, minor1] = v1.split(\".\").map(Number);\n  const [major2, minor2] = v2.split(\".\").map(Number);\n  if (major1 !== major2) {\n    return major1 - major2;\n  } else if (minor1 !== minor2) {\n    return minor1 - minor2;\n  }\n  return 0;\n}\nfunction isBlockchainSupported({\n  supportedBlockchainIds,\n  actionBlockchainIds\n}) {\n  if (actionBlockchainIds.length === 0 || supportedBlockchainIds.length === 0) {\n    return false;\n  }\n  const sanitizedSupportedBlockchainIds = supportedBlockchainIds.map(\n    (it) => it.trim()\n  );\n  const sanitizedActionBlockchainIds = actionBlockchainIds.map(\n    (it) => it.trim()\n  );\n  return sanitizedActionBlockchainIds.every(\n    (chain) => sanitizedSupportedBlockchainIds.includes(chain)\n  );\n}\n\n// src/api/Action/Action.ts\nvar MULTI_VALUE_TYPES = [\"checkbox\"];\nvar EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS = 1e3;\nvar Action = class _Action {\n  constructor(_url, _data, _metadata, _supportStrategy, _chainMetadata = { isChained: false }, _id, _experimental) {\n    this._url = _url;\n    this._data = _data;\n    this._metadata = _metadata;\n    this._supportStrategy = _supportStrategy;\n    this._chainMetadata = _chainMetadata;\n    this._id = _id;\n    this._experimental = _experimental;\n    if (_data.type === \"completed\" || !_data.links?.actions) {\n      this._actions = [\n        new ButtonActionComponent(this, _data.label, _url, \"transaction\")\n      ];\n      return;\n    }\n    const urlObj = new URL(_url);\n    this._actions = _data.links.actions.map((action) => {\n      const href = action.href.startsWith(\"http\") ? action.href : urlObj.origin + action.href;\n      return componentFactory(\n        this,\n        action.label,\n        href,\n        action.type ?? \"transaction\",\n        action.parameters\n      );\n    });\n  }\n  _actions;\n  // this API MAY change in the future\n  get liveData_experimental() {\n    const liveData = this._experimental?.liveData;\n    if (!liveData) {\n      return null;\n    }\n    return {\n      enabled: liveData.enabled,\n      delayMs: liveData.delayMs ? Math.max(liveData.delayMs, EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS) : EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS\n    };\n  }\n  get id() {\n    return this._id;\n  }\n  get isChained() {\n    return this._chainMetadata.isChained;\n  }\n  get isInline() {\n    return this._chainMetadata.isChained ? this._chainMetadata.isInline : false;\n  }\n  get type() {\n    return this._data.type;\n  }\n  get url() {\n    return this._url;\n  }\n  get icon() {\n    if (this._data.icon.startsWith(\"data:\")) {\n      return this._data.icon;\n    }\n    return proxifyImage(this._data.icon).url.toString();\n  }\n  get title() {\n    return this._data.title;\n  }\n  get description() {\n    return this._data.description;\n  }\n  get disabled() {\n    return this._data.disabled ?? false;\n  }\n  get actions() {\n    return this._actions;\n  }\n  get error() {\n    return this._data.error?.message ?? null;\n  }\n  get metadata() {\n    return {\n      blockchainIds: this._metadata.blockchainIds ?? BASELINE_ACTION_BLOCKCHAIN_IDS,\n      version: this._metadata.version ?? BASELINE_ACTION_VERSION\n    };\n  }\n  async isSupported(adapter) {\n    try {\n      return await this._supportStrategy(this, adapter);\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to check supportability for action ${this.url}`,\n        e\n      );\n      return {\n        isSupported: false,\n        message: \"Failed to check supportability, please contact your Blink client provider.\"\n      };\n    }\n  }\n  async chain(next, chainData) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    if (next.type === \"inline\") {\n      return new _Action(\n        this.url,\n        next.action,\n        this.metadata,\n        this._supportStrategy,\n        {\n          isChained: true,\n          isInline: true\n        },\n        id\n      );\n    }\n    const baseUrlObj = new URL(this.url);\n    if (!isUrlSameOrigin(baseUrlObj.origin, next.href)) {\n      console.error(\n        `Chained action is not the same origin as the current action. Original: ${this.url}, chained: ${next.href}`\n      );\n      return null;\n    }\n    const href = next.href.startsWith(\"http\") ? next.href : baseUrlObj.origin + next.href;\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(href);\n    const response = await fetch(proxyUrl2, {\n      method: \"POST\",\n      body: JSON.stringify(chainData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      console.error(\n        `Failed to fetch chained action ${proxyUrl2}, action url: ${next.href}`\n      );\n      return null;\n    }\n    const data = await response.json();\n    const metadata = getActionMetadata(response);\n    return new _Action(\n      href,\n      data,\n      metadata,\n      this._supportStrategy,\n      {\n        isChained: true,\n        isInline: false\n      },\n      id\n    );\n  }\n  // be sure to use this only if the action is valid\n  static hydrate(url, data, metadata, supportStrategy) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    return new _Action(\n      url,\n      data,\n      metadata,\n      supportStrategy,\n      { isChained: false },\n      id\n    );\n  }\n  static async _fetch(apiUrl, supportStrategy = defaultActionSupportStrategy, chainMetadata, id) {\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(apiUrl);\n    const response = await fetch(proxyUrl2, {\n      headers: {\n        Accept: \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      throw new Error(\n        `Failed to fetch action ${proxyUrl2}, action url: ${apiUrl}`\n      );\n    }\n    const data = await response.json();\n    const metadata = getActionMetadata(response);\n    return new _Action(\n      apiUrl,\n      { ...data, type: \"action\" },\n      metadata,\n      supportStrategy,\n      chainMetadata,\n      id,\n      data.dialectExperimental\n    );\n  }\n  static async fetch(apiUrl, supportStrategy = defaultActionSupportStrategy) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    return _Action._fetch(\n      apiUrl,\n      supportStrategy,\n      {\n        isChained: false\n      },\n      id\n    );\n  }\n  refresh() {\n    return _Action._fetch(\n      this.url,\n      this._supportStrategy,\n      this._chainMetadata,\n      this._id\n    );\n  }\n  withUpdate(update) {\n    return new _Action(\n      this._url,\n      this._data,\n      this._metadata,\n      update.supportStrategy ?? this._supportStrategy,\n      this._chainMetadata,\n      this._id,\n      this._experimental\n    );\n  }\n};\nvar getActionMetadata = (response) => {\n  const blockchainIds = response.headers.get(\"x-blockchain-ids\")?.split(\",\").map((id) => id.trim());\n  const version = response.headers.get(\"x-action-version\")?.trim();\n  return {\n    blockchainIds,\n    version\n  };\n};\nvar componentFactory = (parent, label, href, type, parameters) => {\n  if (!parameters?.length) {\n    return new ButtonActionComponent(parent, label, href, type);\n  }\n  if (parameters.length > 1) {\n    return new FormActionComponent(parent, label, href, type, parameters);\n  }\n  const [parameter] = parameters;\n  if (!parameter.type) {\n    return new SingleValueActionComponent(\n      parent,\n      label,\n      href,\n      type,\n      parameters\n    );\n  }\n  if (MULTI_VALUE_TYPES.includes(parameter.type)) {\n    return new MultiValueActionComponent(parent, label, href, type, parameters);\n  }\n  return new SingleValueActionComponent(parent, label, href, type, parameters);\n};\n\n// src/api/Action/action-components/AbstractActionComponent.ts\nvar AbstractActionComponent = class {\n  constructor(_parent, _label, _href, _type, _parameters) {\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get label() {\n    return this._label;\n  }\n  get parameters() {\n    return this._parameters ?? [];\n  }\n  get type() {\n    return this._type;\n  }\n  async post(account) {\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(this.href);\n    const response = await fetch(proxyUrl2, {\n      method: \"POST\",\n      body: JSON.stringify(this.buildBody(account)),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      const error = await response.json();\n      console.error(\n        `[@dialectlabs/blinks] Failed to execute action ${proxyUrl2}, href ${this.href}, reason: ${error.message}`\n      );\n      throw {\n        message: error.message\n      };\n    }\n    return await response.json();\n  }\n};\n\n// src/api/Action/action-components/ButtonActionComponent.ts\nvar ButtonActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  buildBody(account) {\n    return { account, type: this.type };\n  }\n  get href() {\n    return this._href;\n  }\n};\n\n// src/api/Action/action-components/SingleValueActionComponent.ts\nvar SingleValueActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValue = null;\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  buildBody(account) {\n    if (this._href.indexOf(`{${this.parameter.name}}`) > -1 || this.parameterValue === null) {\n      return { account, type: this.type };\n    }\n    return {\n      account,\n      type: this.type,\n      data: {\n        [this.parameter.name]: this.parameterValue\n      }\n    };\n  }\n  get parameter() {\n    const [param] = this.parameters;\n    return param;\n  }\n  setValue(value) {\n    this.parameterValue = value;\n  }\n  get href() {\n    return this._href.replace(\n      `{${this.parameter.name}}`,\n      encodeURIComponent(this.parameterValue?.toString().trim() ?? \"\")\n    );\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n};\n\n// src/api/Action/action-components/FormActionComponent.ts\nvar FormActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValues = {};\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  // any, since we don't know the parameter names on the client level\n  buildBody(account) {\n    const paramNames = Object.keys(this.parameterValues);\n    const bodyParams = [];\n    paramNames.forEach((paramName) => {\n      if (this._href.indexOf(`{${paramName}}`) === -1) {\n        bodyParams.push(paramName);\n      }\n    });\n    if (bodyParams.length > 0) {\n      return {\n        account,\n        type: this.type,\n        data: Object.fromEntries(\n          paramNames.filter((name) => bodyParams.includes(name)).map((paramName) => [paramName, this.parameterValues[paramName]])\n        )\n      };\n    }\n    return { account, type: this.type };\n  }\n  get href() {\n    const replacedHref = this.parameters.reduce((href, param) => {\n      const value = this.parameterValues[param.name];\n      if (!value) {\n        return href;\n      }\n      return href.replace(\n        `{${param.name}}`,\n        encodeURIComponent(\n          typeof value === \"string\" ? value : value?.join(\",\")\n        )\n      );\n    }, this._href);\n    return replacedHref.replaceAll(/={[^}]+}&/g, \"=&\").replaceAll(/={[^}]+}/g, \"=\");\n  }\n  setValue(value, name) {\n    this.parameterValues[name] = value;\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this.href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n  toInputActionComponent(paramName) {\n    const parameter = this.parameters.find((param) => param.name === paramName);\n    if (!parameter) {\n      throw new Error(`Input Parameter ${paramName} not found`);\n    }\n    return new SingleValueActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      [parameter],\n      this\n    );\n  }\n};\n\n// src/api/Action/action-components/MultiValueActionComponent.ts\nvar MultiValueActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValue = [];\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  // any, since we don't know the parameter names on the client level\n  buildBody(account) {\n    if (this._href.indexOf(`{${this.parameter.name}}`) > -1) {\n      return { account, type: this.type };\n    }\n    return {\n      account,\n      type: this.type,\n      data: {\n        [this.parameter.name]: this.isMultiOptions ? this.parameterValue : this.parameterValue[0]\n      }\n    };\n  }\n  get isMultiOptions() {\n    return this.parameter.type === \"checkbox\";\n  }\n  get parameter() {\n    const [param] = this.parameters;\n    return param;\n  }\n  setValue(value) {\n    this.parameterValue = typeof value === \"string\" ? [value] : value;\n  }\n  get href() {\n    return this._href.replace(\n      `{${this.parameter.name}}`,\n      encodeURIComponent(this.parameterValue.join(\",\"))\n    );\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n};\n\n// src/api/Action/action-components/guards.ts\nvar isPatternAllowed = (parameter) => {\n  return parameter.type !== \"select\" && parameter.type !== \"radio\" && parameter.type !== \"checkbox\";\n};\nvar isParameterSelectable = (parameter) => {\n  return parameter.type === \"select\" || parameter.type === \"radio\" || parameter.type === \"checkbox\";\n};\n\n// src/api/Action/sign-message-data.ts\nvar SignMessageVerificationErrorType = /* @__PURE__ */ ((SignMessageVerificationErrorType2) => {\n  SignMessageVerificationErrorType2[\"ADDRESS_MISMATCH\"] = \"ADDRESS_MISMATCH\";\n  SignMessageVerificationErrorType2[\"DOMAIN_MISMATCH\"] = \"DOMAIN_MISMATCH\";\n  SignMessageVerificationErrorType2[\"CHAIN_ID_MISMATCH\"] = \"CHAIN_ID_MISMATCH\";\n  SignMessageVerificationErrorType2[\"ISSUED_TOO_FAR_IN_THE_PAST\"] = \"ISSUED_TOO_FAR_IN_THE_PAST\";\n  SignMessageVerificationErrorType2[\"ISSUED_TOO_FAR_IN_THE_FUTURE\"] = \"ISSUED_TOO_FAR_IN_THE_FUTURE\";\n  SignMessageVerificationErrorType2[\"INVALID_DATA\"] = \"INVALID_DATA\";\n  return SignMessageVerificationErrorType2;\n})(SignMessageVerificationErrorType || {});\nvar DOMAIN = \"(?<domain>[^\\\\n]+?) wants you to sign a message with your account:\\\\n\";\nvar ADDRESS = \"(?<address>[^\\\\n]+)(?:\\\\n|$)\";\nvar STATEMENT = \"(?:\\\\n(?<statement>[\\\\S\\\\s]*?)(?:\\\\n|$))\";\nvar CHAIN_ID = \"(?:\\\\nChain ID: (?<chainId>[^\\\\n]+))?\";\nvar NONCE = \"\\\\nNonce: (?<nonce>[^\\\\n]+)\";\nvar ISSUED_AT = \"\\\\nIssued At: (?<issuedAt>[^\\\\n]+)\";\nvar FIELDS = `${CHAIN_ID}${NONCE}${ISSUED_AT}`;\nvar MESSAGE = new RegExp(`^${DOMAIN}${ADDRESS}${STATEMENT}${FIELDS}\\\\n*$`);\nfunction createSignMessageText(input) {\n  let message = `${input.domain} wants you to sign a message with your account:\n`;\n  message += `${input.address}`;\n  message += `\n\n${input.statement}`;\n  const fields = [];\n  if (input.chainId) {\n    fields.push(`Chain ID: ${input.chainId}`);\n  }\n  fields.push(`Nonce: ${input.nonce}`);\n  fields.push(`Issued At: ${input.issuedAt}`);\n  message += `\n\n${fields.join(\"\\n\")}`;\n  return message;\n}\nfunction parseSignMessageText(text) {\n  const match = MESSAGE.exec(text);\n  if (!match) return null;\n  const groups = match.groups;\n  if (!groups) return null;\n  return {\n    domain: groups.domain,\n    address: groups.address,\n    statement: groups.statement,\n    nonce: groups.nonce,\n    chainId: groups.chainId,\n    issuedAt: groups.issuedAt\n  };\n}\nfunction verifySignMessageData(data, opts) {\n  if (!data.address || !data.domain || !data.issuedAt || !data.nonce || !data.statement) {\n    return [\"INVALID_DATA\" /* INVALID_DATA */];\n  }\n  try {\n    const {\n      expectedAddress,\n      expectedChainIds,\n      issuedAtThreshold,\n      expectedDomains\n    } = opts;\n    const errors = [];\n    const now = Date.now();\n    if (expectedAddress && data.address !== expectedAddress) {\n      errors.push(\"ADDRESS_MISMATCH\" /* ADDRESS_MISMATCH */);\n    }\n    if (expectedDomains) {\n      const expectedDomainsNormalized = expectedDomains.map(normalizeDomain);\n      const normalizedDomain = normalizeDomain(data.domain);\n      if (!expectedDomainsNormalized.includes(normalizedDomain)) {\n        errors.push(\"DOMAIN_MISMATCH\" /* DOMAIN_MISMATCH */);\n      }\n    }\n    if (expectedChainIds && data.chainId && !expectedChainIds.includes(data.chainId)) {\n      errors.push(\"CHAIN_ID_MISMATCH\" /* CHAIN_ID_MISMATCH */);\n    }\n    if (issuedAtThreshold !== void 0) {\n      const iat = Date.parse(data.issuedAt);\n      if (Math.abs(iat - now) > issuedAtThreshold) {\n        if (iat < now) {\n          errors.push(\n            \"ISSUED_TOO_FAR_IN_THE_PAST\" /* ISSUED_TOO_FAR_IN_THE_PAST */\n          );\n        } else {\n          errors.push(\n            \"ISSUED_TOO_FAR_IN_THE_FUTURE\" /* ISSUED_TOO_FAR_IN_THE_FUTURE */\n          );\n        }\n      }\n    }\n    return errors;\n  } catch (e) {\n    return [\"INVALID_DATA\" /* INVALID_DATA */];\n  }\n}\nfunction normalizeDomain(domain) {\n  return domain.replace(/^www\\./, \"\");\n}\n\n// src/api/ActionConfig.ts\n\nvar ActionConfig = class _ActionConfig {\n  constructor(rpcUrlOrConnection, adapter) {\n    this.adapter = adapter;\n    if (!rpcUrlOrConnection) {\n      throw new Error(\"rpcUrl or connection is required\");\n    }\n    this.connection = typeof rpcUrlOrConnection === \"string\" ? new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(rpcUrlOrConnection, \"confirmed\") : rpcUrlOrConnection;\n  }\n  static CONFIRM_TIMEOUT_MS = 6e4 * 1.2;\n  // 20% extra time\n  static DEFAULT_METADATA = {\n    supportedBlockchainIds: DEFAULT_SUPPORTED_BLOCKCHAIN_IDS\n  };\n  connection;\n  get metadata() {\n    return this.adapter.metadata ?? _ActionConfig.DEFAULT_METADATA;\n  }\n  signTransaction(tx, context) {\n    return this.adapter.signTransaction(tx, context);\n  }\n  confirmTransaction(signature) {\n    return new Promise((res, rej) => {\n      const start = Date.now();\n      const confirm = async () => {\n        if (Date.now() - start >= _ActionConfig.CONFIRM_TIMEOUT_MS) {\n          rej(new Error(\"Unable to confirm transaction: timeout reached\"));\n          return;\n        }\n        try {\n          const status = await this.connection.getSignatureStatus(signature);\n          if (status.value?.err) {\n            rej(\n              new Error(\n                `Transaction execution failed, check wallet for details`\n              )\n            );\n            return;\n          }\n          if (status.value && status.value.confirmations !== null) {\n            res();\n            return;\n          }\n        } catch (e) {\n          console.error(\n            \"[@dialectlabs/blinks] Error confirming transaction\",\n            e\n          );\n        }\n        setTimeout(confirm, 3e3);\n      };\n      confirm();\n    });\n  }\n  async signMessage(data, context) {\n    return this.adapter.signMessage(data, context);\n  }\n  async connect(context) {\n    try {\n      return await this.adapter.connect(context);\n    } catch {\n      return null;\n    }\n  }\n};\n\n// src/api/ActionsRegistry.ts\nvar DEFAULT_REFRESH_INTERVAL = 10 * 60 * 1e3;\nvar ActionsRegistry = class _ActionsRegistry {\n  static instance = null;\n  actionsByHost;\n  websitesByHost;\n  interstitialsByHost;\n  initPromise = null;\n  constructor(config) {\n    this.actionsByHost = config ? Object.fromEntries(\n      config.actions.map((action) => [action.host, action])\n    ) : {};\n    this.websitesByHost = config ? Object.fromEntries(\n      config.websites.map((website) => [website.host, website])\n    ) : {};\n    this.interstitialsByHost = config ? Object.fromEntries(\n      config.interstitials.map((interstitial) => [\n        interstitial.host,\n        interstitial\n      ])\n    ) : {};\n  }\n  static getInstance(config) {\n    if (this.instance === null || config) {\n      this.instance = new _ActionsRegistry(config);\n    }\n    return this.instance;\n  }\n  async init() {\n    if (this.initPromise !== null) {\n      return;\n    }\n    await this.refresh();\n    setInterval(() => this.refresh(), DEFAULT_REFRESH_INTERVAL);\n  }\n  async refresh() {\n    this.initPromise = fetchActionsRegistryConfig();\n    const config = await this.initPromise;\n    this.actionsByHost = Object.fromEntries(\n      config.actions.map((action) => [action.host, action])\n    );\n    this.websitesByHost = Object.fromEntries(\n      config.websites.map((website) => [website.host, website])\n    );\n    this.interstitialsByHost = Object.fromEntries(\n      config.interstitials.map((interstitial) => [\n        interstitial.host,\n        interstitial\n      ])\n    );\n  }\n  lookup(url, type = \"action\") {\n    if (type === \"action\") {\n      return this.lookupAction(url);\n    }\n    if (type === \"website\") {\n      return this.lookupWebsite(url);\n    }\n    if (type === \"interstitial\") {\n      return this.lookupInterstitial(url);\n    }\n    return null;\n  }\n  lookupAction(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.actionsByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup action for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n  lookupWebsite(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.websitesByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup website for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n  lookupInterstitial(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.interstitialsByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup interstitial for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n};\nvar mergeActionStates = (...states) => {\n  if (states.includes(\"malicious\")) {\n    return \"malicious\";\n  }\n  if (states.includes(\"unknown\")) {\n    return \"unknown\";\n  }\n  return \"trusted\";\n};\nvar getExtendedActionState = (actionOrUrl) => {\n  return ActionsRegistry.getInstance().lookup(\n    typeof actionOrUrl === \"string\" ? actionOrUrl : actionOrUrl.url,\n    \"action\"\n  )?.state ?? \"unknown\";\n};\nvar getExtendedWebsiteState = (url) => {\n  return ActionsRegistry.getInstance().lookup(url, \"website\")?.state ?? \"unknown\";\n};\nvar getExtendedInterstitialState = (url) => {\n  return ActionsRegistry.getInstance().lookup(url, \"interstitial\")?.state ?? \"unknown\";\n};\nasync function fetchActionsRegistryConfig() {\n  try {\n    const response = await fetch(\"https://actions-registry.dial.to/all\");\n    if (!response.ok) {\n      console.error(\n        \"[@dialectlabs/blinks] Failed to fetch actions registry config\",\n        await response.json()\n      );\n      return { actions: [], interstitials: [], websites: [] };\n    }\n    return await response.json();\n  } catch (e) {\n    console.error(\n      \"[@dialectlabs/blinks] Failed to fetch actions registry config\",\n      e\n    );\n    return { actions: [], interstitials: [], websites: [] };\n  }\n}\n\n// src/BlinkContainer.tsx\n\n\n// src/utils/type-guards.ts\nvar isSignTransactionError = (data) => !!data.error;\nvar isSignMessageError = isSignTransactionError;\nvar isPostRequestError = (data) => !!data.error;\n\n// src/utils/validators.ts\nvar isURL = (url) => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// src/BlinkContainer.tsx\n\nvar DisclaimerType = /* @__PURE__ */ ((DisclaimerType2) => {\n  DisclaimerType2[\"BLOCKED\"] = \"blocked\";\n  DisclaimerType2[\"UNKNOWN\"] = \"unknown\";\n  return DisclaimerType2;\n})(DisclaimerType || {});\nvar ExecutionType = /* @__PURE__ */ ((ExecutionType2) => {\n  ExecutionType2[\"CHECK_SUPPORTABILITY\"] = \"CHECK_SUPPORTABILITY\";\n  ExecutionType2[\"INITIATE\"] = \"INITIATE\";\n  ExecutionType2[\"FINISH\"] = \"FINISH\";\n  ExecutionType2[\"FAIL\"] = \"FAIL\";\n  ExecutionType2[\"RESET\"] = \"RESET\";\n  ExecutionType2[\"SOFT_RESET\"] = \"SOFT_RESET\";\n  ExecutionType2[\"UNBLOCK\"] = \"UNBLOCK\";\n  ExecutionType2[\"BLOCK\"] = \"BLOCK\";\n  return ExecutionType2;\n})(ExecutionType || {});\nvar executionReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHECK_SUPPORTABILITY\" /* CHECK_SUPPORTABILITY */:\n      return {\n        status: \"checking-supportability\",\n        checkingSupportability: true\n      };\n    case \"INITIATE\" /* INITIATE */:\n      return { status: \"executing\", executingAction: action.executingAction };\n    case \"FINISH\" /* FINISH */:\n      return {\n        ...state,\n        status: \"success\",\n        successMessage: action.successMessage,\n        errorMessage: null\n      };\n    case \"FAIL\" /* FAIL */:\n      return {\n        ...state,\n        status: \"error\",\n        errorMessage: action.errorMessage,\n        successMessage: null\n      };\n    case \"RESET\" /* RESET */:\n      return {\n        status: \"idle\"\n      };\n    case \"SOFT_RESET\" /* SOFT_RESET */:\n      return {\n        ...state,\n        executingAction: null,\n        status: \"idle\",\n        errorMessage: action.errorMessage,\n        successMessage: null\n      };\n    case \"BLOCK\" /* BLOCK */:\n      return {\n        status: \"blocked\"\n      };\n    case \"UNBLOCK\" /* UNBLOCK */:\n      return {\n        status: \"idle\"\n      };\n  }\n};\nvar getOverallActionState = (action, websiteUrl) => {\n  const actionState = getExtendedActionState(action);\n  const originalUrlData = websiteUrl ? isInterstitial(websiteUrl) : null;\n  if (!originalUrlData) {\n    return {\n      action: actionState\n    };\n  }\n  if (originalUrlData.isInterstitial) {\n    return {\n      action: actionState,\n      origin: getExtendedInterstitialState(websiteUrl),\n      originType: \"interstitials\"\n    };\n  }\n  return {\n    action: actionState,\n    origin: getExtendedWebsiteState(websiteUrl),\n    originType: \"websites\"\n  };\n};\nvar checkSecurityFromActionState = (state, normalizedSecurityLevel) => {\n  const checkAction = checkSecurity(\n    state.action,\n    normalizedSecurityLevel.actions\n  );\n  if (!state.origin) {\n    return checkAction;\n  }\n  return checkAction && checkSecurity(state.origin, normalizedSecurityLevel[state.originType]);\n};\nvar DEFAULT_SECURITY_LEVEL = \"only-trusted\";\nvar BlinkContainer = ({\n  action: initialAction,\n  adapter,\n  websiteUrl,\n  websiteText,\n  callbacks,\n  securityLevel = DEFAULT_SECURITY_LEVEL,\n  Layout,\n  selector\n}) => {\n  const [action, setAction] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialAction);\n  const singleComponent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => selector?.(action), [action, selector]);\n  const isPartialAction = typeof selector === \"function\";\n  const normalizedSecurityLevel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (typeof securityLevel === \"string\") {\n      return {\n        websites: securityLevel,\n        interstitials: securityLevel,\n        actions: securityLevel\n      };\n    }\n    return securityLevel;\n  }, [securityLevel]);\n  const [actionState, setActionState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    getOverallActionState(action, websiteUrl)\n  );\n  const [supportability, setSupportability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n    isSupported: true\n  });\n  const overallState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => mergeActionStates(\n      ...[actionState.action, actionState.origin].filter(\n        Boolean\n      )\n    ),\n    [actionState]\n  );\n  const isPassingSecurityCheck = isPartialAction ? true : checkSecurityFromActionState(actionState, normalizedSecurityLevel);\n  const [executionState, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useReducer)(executionReducer, {\n    status: isPartialAction ? \"idle\" : \"checking-supportability\"\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (action === initialAction || action.isChained) {\n      return;\n    }\n    setAction(initialAction);\n    setActionState(getOverallActionState(initialAction, websiteUrl));\n    dispatch({\n      type: isPartialAction ? \"RESET\" /* RESET */ : \"CHECK_SUPPORTABILITY\" /* CHECK_SUPPORTABILITY */\n    });\n  }, [initialAction, websiteUrl]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    callbacks?.onActionMount?.(\n      action,\n      websiteUrl ?? action.url,\n      actionState.action\n    );\n  }, [action.id]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const liveDataConfig = action.liveData_experimental;\n    if (!liveDataConfig || !liveDataConfig.enabled || executionState.status !== \"idle\" || action.isChained) {\n      return;\n    }\n    let timeout;\n    const fetcher = async () => {\n      try {\n        const newAction = await action.refresh();\n        if (executionState.status === \"idle\") {\n          setAction(newAction);\n        }\n      } catch (e) {\n        console.error(\n          `[@dialectlabs/blinks] Failed to fetch live data for action ${action.url}`\n        );\n        timeout = setTimeout(fetcher, liveDataConfig.delayMs);\n      }\n    };\n    timeout = setTimeout(fetcher, liveDataConfig.delayMs);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [action, executionState.status, isPartialAction]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const checkSupportability = async (action2) => {\n      if (action2.isChained || executionState.status !== \"checking-supportability\") {\n        return;\n      }\n      try {\n        const supportability2 = await action2.isSupported(adapter);\n        setSupportability(supportability2);\n      } finally {\n        dispatch({\n          type: overallState !== \"malicious\" && isPassingSecurityCheck ? \"RESET\" /* RESET */ : \"BLOCK\" /* BLOCK */\n        });\n      }\n    };\n    checkSupportability(action);\n  }, [\n    action,\n    adapter,\n    executionState.status,\n    overallState,\n    isPassingSecurityCheck\n  ]);\n  const execute = async (component, params) => {\n    if (params) {\n      if (component instanceof FormActionComponent) {\n        Object.entries(params).forEach(\n          ([name, value]) => component.setValue(value, name)\n        );\n      }\n      if (component instanceof MultiValueActionComponent) {\n        component.setValue(params[component.parameter.name]);\n      }\n      if (component instanceof SingleValueActionComponent) {\n        const incomingValues = params[component.parameter.name];\n        const value = typeof incomingValues === \"string\" ? incomingValues : incomingValues[0];\n        component.setValue(value);\n      }\n    }\n    const newActionState = getOverallActionState(action, websiteUrl);\n    const newIsPassingSecurityCheck = checkSecurityFromActionState(\n      newActionState,\n      normalizedSecurityLevel\n    );\n    if ((newActionState.action !== actionState.action || newActionState.origin !== actionState.origin) && !newIsPassingSecurityCheck) {\n      setActionState(newActionState);\n      dispatch({ type: \"BLOCK\" /* BLOCK */ });\n      return;\n    }\n    dispatch({ type: \"INITIATE\" /* INITIATE */, executingAction: component });\n    const context = {\n      action: component.parent,\n      actionType: actionState.action,\n      originalUrl: websiteUrl ?? component.parent.url,\n      triggeredLinkedAction: component\n    };\n    try {\n      const account = await adapter.connect(context);\n      if (!account) {\n        dispatch({ type: \"RESET\" /* RESET */ });\n        return;\n      }\n      const response = await component.post(account).catch((e) => ({ error: e.message }));\n      if (isPostRequestError(response)) {\n        dispatch({\n          type: \"SOFT_RESET\" /* SOFT_RESET */,\n          errorMessage: isPostRequestError(response) ? response.error : \"Transaction data missing\"\n        });\n        return;\n      }\n      const chain = async (signature) => {\n        if (!response.links?.next) {\n          dispatch({\n            type: \"FINISH\" /* FINISH */,\n            successMessage: response.message\n          });\n          return;\n        }\n        if (response.type === \"message\" && !signature) {\n          dispatch({\n            type: \"SOFT_RESET\" /* SOFT_RESET */,\n            errorMessage: \"Missing signature for message\"\n          });\n          return;\n        }\n        const chainData = response.type === \"message\" ? {\n          signature,\n          account,\n          state: response.state,\n          data: response.data\n        } : {\n          signature,\n          account\n        };\n        const nextAction = await action.chain(response.links.next, chainData);\n        if (!nextAction || isPartialAction && !selector?.(nextAction)) {\n          dispatch({\n            type: \"FINISH\" /* FINISH */,\n            successMessage: response.message\n          });\n          return;\n        }\n        setAction(nextAction);\n        dispatch({ type: \"RESET\" /* RESET */ });\n      };\n      if (response.type === \"transaction\" || !response.type) {\n        const signResult = await adapter.signTransaction(\n          response.transaction,\n          context\n        );\n        if (!signResult || isSignTransactionError(signResult)) {\n          dispatch({ type: \"RESET\" /* RESET */ });\n          return;\n        }\n        await adapter.confirmTransaction(signResult.signature, context);\n        await chain(signResult.signature);\n        return;\n      }\n      if (response.type === \"message\") {\n        const signResult = await adapter.signMessage(response.data, context);\n        if (!signResult || isSignMessageError(signResult)) {\n          dispatch({ type: \"RESET\" /* RESET */ });\n          return;\n        }\n        await chain(signResult.signature);\n      }\n      if (response.type === \"post\") {\n        await chain();\n        return;\n      }\n      if (response.type === \"external-link\") {\n        if (isURL(response.externalLink)) {\n          return {\n            type: \"external-link\",\n            data: {\n              externalLink: response.externalLink\n            },\n            onNext: () => chain(),\n            onCancel: () => chain()\n          };\n        }\n        await chain();\n        return;\n      }\n    } catch (e) {\n      dispatch({\n        type: \"SOFT_RESET\" /* SOFT_RESET */,\n        errorMessage: e.message ?? \"Unknown error, please try again\"\n      });\n    }\n  };\n  const disclaimer = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (overallState === \"malicious\") {\n      return {\n        type: \"blocked\" /* BLOCKED */,\n        ignorable: isPassingSecurityCheck,\n        hidden: executionState.status !== \"blocked\" && executionState.status !== \"checking-supportability\",\n        onSkip: () => dispatch({ type: \"UNBLOCK\" /* UNBLOCK */ })\n      };\n    }\n    if (overallState === \"unknown\") {\n      return {\n        type: \"unknown\" /* UNKNOWN */,\n        ignorable: isPassingSecurityCheck\n      };\n    }\n    return null;\n  }, [executionState.status, isPassingSecurityCheck, overallState]);\n  const blinkCaption = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (executionState.errorMessage) {\n      return { type: \"error\", text: executionState.errorMessage };\n    }\n    if (executionState.successMessage) {\n      return { type: \"success\", text: executionState.successMessage };\n    }\n    return null;\n  }, [executionState.errorMessage, executionState.successMessage]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    Layout,\n    {\n      securityState: overallState,\n      websiteUrl,\n      websiteText,\n      action,\n      component: singleComponent,\n      caption: blinkCaption,\n      executionStatus: executionState.status,\n      executingAction: executionState.executingAction,\n      executeFn: execute,\n      disclaimer,\n      supportability,\n      id: action.id\n    }\n  );\n};\n\n// src/hooks/useAction.ts\n\n\n// src/hooks/useActionRegistryInterval.ts\n\nfunction useActionsRegistryInterval() {\n  const [isRegistryLoaded, setRegistryLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    ActionsRegistry.getInstance().init().then(() => {\n      setRegistryLoaded(true);\n    });\n  }, [isRegistryLoaded]);\n  return { isRegistryLoaded };\n}\n\n// src/hooks/useAction.ts\nfunction useActionApiUrl(url) {\n  const [apiUrl, setApiUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    let ignore = false;\n    unfurlUrlToActionApiUrl(new URL(url)).then((apiUrl2) => {\n      if (ignore) {\n        return;\n      }\n      setApiUrl(apiUrl2);\n    }).catch((e) => {\n      console.error(\n        \"[@dialectlabs/blinks-core] Failed to unfurl action URL\",\n        e\n      );\n      setApiUrl(null);\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [url]);\n  return { actionApiUrl: apiUrl };\n}\nfunction useAction({\n  url,\n  supportStrategy = defaultActionSupportStrategy\n}) {\n  const { isRegistryLoaded } = useActionsRegistryInterval();\n  const { actionApiUrl } = useActionApiUrl(url);\n  const [action, setAction] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [hasFetched, setHasFetched] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setIsLoading(true);\n    if (!isRegistryLoaded || !actionApiUrl) {\n      return;\n    }\n    let ignore = false;\n    setHasFetched(false);\n    Action.fetch(actionApiUrl, supportStrategy).then((action2) => {\n      if (ignore) {\n        return;\n      }\n      setAction(action2);\n      setHasFetched(true);\n    }).catch((e) => {\n      console.error(\"[@dialectlabs/blinks-core] Failed to fetch action\", e);\n      setAction(null);\n    }).finally(() => {\n      if (!ignore) {\n        setIsLoading(false);\n      }\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [actionApiUrl, isRegistryLoaded]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!action || !hasFetched) {\n      return;\n    }\n    try {\n      const updated = action.withUpdate({\n        supportStrategy\n      });\n      setAction(updated);\n    } catch (e) {\n      console.error(\"[@dialectlabs/blinks-core] Failed to update action\", e);\n    }\n  }, [supportStrategy, hasFetched]);\n  return { action, isLoading };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxHQUFHLG1CQUFtQjtBQUM5QyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHVFQUF1RSxJQUFJO0FBQzNFO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFNBQVM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBd0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFVBQVUsU0FBUyxVQUFVLFlBQVksY0FBYztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEVBQUUscUJBQXFCO0FBQ3BELGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEVBQUUscUJBQXFCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0Esa0VBQWtFLElBQUk7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxtRUFBbUUsSUFBSTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHdFQUF3RSxJQUFJO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFB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QTtBQUNBO0FBQ0EsQ0FBQztBQUNELFVBQVUsbUJBQW1CO0FBQzdCLFVBQVUsZUFBZTtBQUN6Qiw4QkFBOEIsK0NBQVM7QUFDdkMsb0NBQW9DLCtDQUFTO0FBQzdDLHNDQUFzQywrQ0FBUztBQUMvQyxFQUFFLGdEQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYO0FBMENFIiwic291cmNlcyI6WyIvVXNlcnMvQ2lhbi9EZXNrdG9wL0ZPTW9sdDNEL2FwcC9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2NhaXAtMi50c1xudmFyIEJsb2NrY2hhaW5JZHMgPSB7XG4gIFNPTEFOQV9NQUlOTkVUOiBcInNvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcFwiLFxuICBTT0xBTkFfREVWTkVUOiBcInNvbGFuYTpFdFdUUkFCWmFZcTZpTWZlWUtvdVJ1MTY2VlUyeHFhMVwiLFxuICBTT0xBTkFfVEVTVE5FVDogXCJzb2xhbmE6NHVoY1ZKeVU5cEprdlF5Uzg4dVJEaXN3SFhTQ2tZM1wiLFxuICBFVEhFUkVVTV9NQUlOTkVUOiBcImVpcDE1NToxXCIsXG4gIE1PTkFEX0RFVk5FVDogXCJlaXAxNTU6NDE0NTRcIlxufTtcbnZhciBCbG9ja2NoYWluTmFtZXMgPSB7XG4gIFtCbG9ja2NoYWluSWRzLlNPTEFOQV9NQUlOTkVUXTogXCJTb2xhbmEgTWFpbm5ldFwiLFxuICBbQmxvY2tjaGFpbklkcy5TT0xBTkFfREVWTkVUXTogXCJTb2xhbmEgRGV2bmV0XCIsXG4gIFtCbG9ja2NoYWluSWRzLlNPTEFOQV9URVNUTkVUXTogXCJTb2xhbmEgVGVzdG5ldFwiLFxuICBbQmxvY2tjaGFpbklkcy5FVEhFUkVVTV9NQUlOTkVUXTogXCJFdGhlcmV1bSBNYWlubmV0XCIsXG4gIFtCbG9ja2NoYWluSWRzLk1PTkFEX0RFVk5FVF06IFwiTW9uYWQgRGV2bmV0XCJcbn07XG5mdW5jdGlvbiBnZXRTaG9ydEJsb2NrY2hhaW5OYW1lKGlkKSB7XG4gIGNvbnN0IGJsb2NrY2hhaW5OYW1lID0gQmxvY2tjaGFpbk5hbWVzW2lkXTtcbiAgaWYgKCFibG9ja2NoYWluTmFtZSkge1xuICAgIGNvbnN0IFtjaGFpbklkLCByZWZlcmVuY2VdID0gaWQuc3BsaXQoXCI6XCIpO1xuICAgIGlmIChjaGFpbklkICYmIHJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgdHJ1bmNhdGVkUmVmZXJlbmNlID0gcmVmZXJlbmNlLmxlbmd0aCA+IDMgPyByZWZlcmVuY2Uuc2xpY2UoMCwgMykgKyBcIi4uLlwiIDogcmVmZXJlbmNlO1xuICAgICAgcmV0dXJuIGAke2NoYWluSWR9OiR7dHJ1bmNhdGVkUmVmZXJlbmNlfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpZC5sZW5ndGggPiA4ID8gaWQuc2xpY2UoMCwgOCkgKyBcIi4uLlwiIDogaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBibG9ja2NoYWluTmFtZTtcbn1cblxuLy8gc3JjL3V0aWxzL2NsaWVudC1rZXkudHNcbnZhciBCTElOS19DTElFTlRfS0VZX0hFQURFUiA9IFwieC1ibGluay1jbGllbnQta2V5XCI7XG52YXIgY2xpZW50S2V5ID0gbnVsbDtcbmZ1bmN0aW9uIHNldENsaWVudEtleShrZXkpIHtcbiAgaWYgKCFrZXkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gY2xpZW50IGtleSBpcyBub3Qgc2V0XCIpO1xuICAgIGNsaWVudEtleSA9IG51bGw7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNsaWVudEtleSA9IGtleTtcbn1cblxuLy8gc3JjL3V0aWxzL2NvbnN0YW50cy50c1xudmFyIFNPTEFOQV9BQ1RJT05fUFJFRklYID0gL14oc29sYW5hLWFjdGlvbjp8c29sYW5hOikvO1xuXG4vLyBzcmMvdXRpbHMvaW50ZXJzdGl0aWFsLXVybC50c1xuZnVuY3Rpb24gaXNJbnRlcnN0aXRpYWwodXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgIGNvbnN0IGFjdGlvblVybCA9IHVybE9iai5zZWFyY2hQYXJhbXMuZ2V0KFwiYWN0aW9uXCIpO1xuICAgIGlmICghYWN0aW9uVXJsKSB7XG4gICAgICByZXR1cm4geyBpc0ludGVyc3RpdGlhbDogZmFsc2UgfTtcbiAgICB9XG4gICAgY29uc3QgdXJsRGVjb2RlZEFjdGlvblVybCA9IGRlY29kZVVSSUNvbXBvbmVudChhY3Rpb25VcmwpO1xuICAgIGlmICghU09MQU5BX0FDVElPTl9QUkVGSVgudGVzdCh1cmxEZWNvZGVkQWN0aW9uVXJsKSkge1xuICAgICAgcmV0dXJuIHsgaXNJbnRlcnN0aXRpYWw6IGZhbHNlIH07XG4gICAgfVxuICAgIGNvbnN0IGRlY29kZWRBY3Rpb25VcmwgPSB1cmxEZWNvZGVkQWN0aW9uVXJsLnJlcGxhY2UoXG4gICAgICBTT0xBTkFfQUNUSU9OX1BSRUZJWCxcbiAgICAgIFwiXCJcbiAgICApO1xuICAgIGNvbnN0IGRlY29kZWRBY3Rpb25VcmxPYmogPSBuZXcgVVJMKGRlY29kZWRBY3Rpb25VcmwpO1xuICAgIHJldHVybiB7XG4gICAgICBpc0ludGVyc3RpdGlhbDogdHJ1ZSxcbiAgICAgIGRlY29kZWRBY3Rpb25Vcmw6IGRlY29kZWRBY3Rpb25VcmxPYmoudG9TdHJpbmcoKVxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gY2hlY2sgaWYgVVJMIGlzIGludGVyc3RpdGlhbDogJHt1cmx9YCxcbiAgICAgIGVcbiAgICApO1xuICAgIHJldHVybiB7IGlzSW50ZXJzdGl0aWFsOiBmYWxzZSB9O1xuICB9XG59XG5cbi8vIHNyYy91dGlscy9wcm94aWZ5LnRzXG52YXIgcHJveHlVcmwgPSBcImh0dHBzOi8vcHJveHkuZGlhbC50b1wiO1xuZnVuY3Rpb24gc2V0UHJveHlVcmwodXJsKSB7XG4gIGlmICghdXJsKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gUHJveHkgVVJMIGlzIG5vdCBzZXQsIHByb3h5IHdpbGwgYmUgZGlzYWJsZWRcIlxuICAgICk7XG4gICAgcHJveHlVcmwgPSBudWxsO1xuICAgIHJldHVybjtcbiAgfVxuICB0cnkge1xuICAgIG5ldyBVUkwodXJsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybihcIltAZGlhbGVjdGxhYnMvYmxpbmtzXSBJbnZhbGlkIHByb3h5IFVSTFwiLCBlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJveHlVcmwgPSB1cmw7XG59XG5mdW5jdGlvbiBwcm94aWZ5KHVybCkge1xuICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTCh1cmwpO1xuICBpZiAoc2hvdWxkSWdub3JlUHJveHkoYmFzZVVybCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBiYXNlVXJsLFxuICAgICAgaGVhZGVyczoge31cbiAgICB9O1xuICB9XG4gIGNvbnN0IHByb3hpZmllZFVybCA9IG5ldyBVUkwocHJveHlVcmwpO1xuICBwcm94aWZpZWRVcmwuc2VhcmNoUGFyYW1zLnNldChcInVybFwiLCB1cmwpO1xuICByZXR1cm4ge1xuICAgIHVybDogcHJveGlmaWVkVXJsLFxuICAgIGhlYWRlcnM6IGdldFByb3hpZmllZEhlYWRlcnMoKVxuICB9O1xufVxuZnVuY3Rpb24gcHJveGlmeUltYWdlKHVybCkge1xuICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTCh1cmwpO1xuICBpZiAoc2hvdWxkSWdub3JlUHJveHkoYmFzZVVybCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBiYXNlVXJsXG4gICAgfTtcbiAgfVxuICBjb25zdCBwcm94aWZpZWRVcmwgPSBuZXcgVVJMKGAke3Byb3h5VXJsfS9pbWFnZWApO1xuICBwcm94aWZpZWRVcmwuc2VhcmNoUGFyYW1zLnNldChcInVybFwiLCB1cmwpO1xuICByZXR1cm4ge1xuICAgIHVybDogcHJveGlmaWVkVXJsXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQcm94aWZpZWRIZWFkZXJzKCkge1xuICByZXR1cm4ge1xuICAgIC4uLmNsaWVudEtleSAmJiB7IFtCTElOS19DTElFTlRfS0VZX0hFQURFUl06IGNsaWVudEtleSB9XG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRJZ25vcmVQcm94eSh1cmwpIHtcbiAgaWYgKHVybC5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiB8fCB1cmwuaG9zdG5hbWUgPT09IFwiMTI3LjAuMC4xXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXByb3h5VXJsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBzcmMvdXRpbHMvc2VjdXJpdHkudHNcbnZhciBjaGVja1NlY3VyaXR5ID0gKHN0YXRlLCBzZWN1cml0eUxldmVsKSA9PiB7XG4gIHN3aXRjaCAoc2VjdXJpdHlMZXZlbCkge1xuICAgIGNhc2UgXCJvbmx5LXRydXN0ZWRcIjpcbiAgICAgIHJldHVybiBzdGF0ZSA9PT0gXCJ0cnVzdGVkXCI7XG4gICAgY2FzZSBcIm5vbi1tYWxpY2lvdXNcIjpcbiAgICAgIHJldHVybiBzdGF0ZSAhPT0gXCJtYWxpY2lvdXNcIjtcbiAgICBjYXNlIFwiYWxsXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbnZhciBpc1VybFNhbWVPcmlnaW4gPSAob3JpZ2luLCB1cmwpID0+IHtcbiAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gIHJldHVybiB1cmxPYmoub3JpZ2luID09PSBvcmlnaW47XG59O1xuXG4vLyBzcmMvdXRpbHMvdXJsLW1hcHBlci50c1xudmFyIEFjdGlvbnNVUkxNYXBwZXIgPSBjbGFzcyB7XG4gIGNvbmZpZztcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgbWFwVXJsKHVybCkge1xuICAgIGNvbnN0IHVybE9iaiA9IHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgPyBuZXcgVVJMKHVybCkgOiB1cmw7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSB1cmxPYmouc2VhcmNoO1xuICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHRoaXMuY29uZmlnLnJ1bGVzKSB7XG4gICAgICBpZiAodGhpcy5pc0V4YWN0TWF0Y2goYWN0aW9uLnBhdGhQYXR0ZXJuLCB1cmxPYmopKSB7XG4gICAgICAgIHJldHVybiBgJHthY3Rpb24uYXBpUGF0aH0ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgICB9XG4gICAgICBjb25zdCBtYXRjaCA9IHRoaXMubWF0Y2hQYXR0ZXJuKGFjdGlvbi5wYXRoUGF0dGVybiwgdXJsT2JqKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RNYXBwZWRVcmwoXG4gICAgICAgICAgYWN0aW9uLmFwaVBhdGgsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgcXVlcnlQYXJhbXMsXG4gICAgICAgICAgdXJsT2JqLm9yaWdpblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBIZWxwZXIgbWV0aG9kIHRvIGNoZWNrIGZvciBleGFjdCBtYXRjaFxuICBpc0V4YWN0TWF0Y2gocGF0dGVybiwgdXJsT2JqKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4gPT09IGAke3VybE9iai5vcmlnaW59JHt1cmxPYmoucGF0aG5hbWV9YDtcbiAgfVxuICAvLyBIZWxwZXIgbWV0aG9kIHRvIG1hdGNoIHRoZSBVUkwgd2l0aCB0aGUgcGF0dGVyblxuICBtYXRjaFBhdHRlcm4ocGF0dGVybiwgdXJsT2JqKSB7XG4gICAgY29uc3QgZnVsbFBhdHRlcm4gPSBuZXcgUmVnRXhwKFxuICAgICAgYF4ke3BhdHRlcm4ucmVwbGFjZSgvXFwqXFwqL2csIFwiKC4qKVwiKS5yZXBsYWNlKC9cXC8oXFwqKS9nLCBcIi8oW14vXSspXCIpfSRgXG4gICAgKTtcbiAgICBjb25zdCB1cmxUb01hdGNoID0gcGF0dGVybi5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IHVybE9iai50b1N0cmluZygpIDogdXJsT2JqLnBhdGhuYW1lO1xuICAgIHJldHVybiB1cmxUb01hdGNoLm1hdGNoKGZ1bGxQYXR0ZXJuKTtcbiAgfVxuICAvLyBIZWxwZXIgbWV0aG9kIHRvIGNvbnN0cnVjdCB0aGUgbWFwcGVkIFVSTFxuICBjb25zdHJ1Y3RNYXBwZWRVcmwoYXBpUGF0aCwgbWF0Y2gsIHF1ZXJ5UGFyYW1zLCBvcmlnaW4pIHtcbiAgICBsZXQgbWFwcGVkUGF0aCA9IGFwaVBhdGg7XG4gICAgbWF0Y2guc2xpY2UoMSkuZm9yRWFjaCgoZ3JvdXApID0+IHtcbiAgICAgIG1hcHBlZFBhdGggPSBtYXBwZWRQYXRoLnJlcGxhY2UoL1xcKisvLCBncm91cCk7XG4gICAgfSk7XG4gICAgaWYgKGFwaVBhdGguc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAgIGNvbnN0IG1hcHBlZFVybCA9IG5ldyBVUkwobWFwcGVkUGF0aCk7XG4gICAgICByZXR1cm4gYCR7bWFwcGVkVXJsLm9yaWdpbn0ke21hcHBlZFVybC5wYXRobmFtZX0ke3F1ZXJ5UGFyYW1zfWA7XG4gICAgfVxuICAgIHJldHVybiBgJHtvcmlnaW59JHttYXBwZWRQYXRofSR7cXVlcnlQYXJhbXN9YDtcbiAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIHVuZnVybFVybFRvQWN0aW9uQXBpVXJsKGFjdGlvblVybCkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGFjdGlvblVybCk7XG4gIGNvbnN0IHN0clVybCA9IGFjdGlvblVybC50b1N0cmluZygpO1xuICBpZiAoU09MQU5BX0FDVElPTl9QUkVGSVgudGVzdChzdHJVcmwpKSB7XG4gICAgcmV0dXJuIHN0clVybC5yZXBsYWNlKFNPTEFOQV9BQ1RJT05fUFJFRklYLCBcIlwiKTtcbiAgfVxuICBjb25zdCBpbnRlcnN0aXRpYWxEYXRhID0gaXNJbnRlcnN0aXRpYWwodXJsKTtcbiAgaWYgKGludGVyc3RpdGlhbERhdGEuaXNJbnRlcnN0aXRpYWwpIHtcbiAgICByZXR1cm4gaW50ZXJzdGl0aWFsRGF0YS5kZWNvZGVkQWN0aW9uVXJsO1xuICB9XG4gIGNvbnN0IGFjdGlvbnNKc29uVXJsID0gdXJsLm9yaWdpbiArIFwiL2FjdGlvbnMuanNvblwiO1xuICBjb25zdCB7IHVybDogcHJveHlVcmwyLCBoZWFkZXJzOiBwcm94eUhlYWRlcnMgfSA9IHByb3hpZnkoYWN0aW9uc0pzb25VcmwpO1xuICBjb25zdCBhY3Rpb25zSnNvbiA9IGF3YWl0IGZldGNoKHByb3h5VXJsMiwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIC4uLnByb3h5SGVhZGVyc1xuICAgIH1cbiAgfSkudGhlbigocmVzKSA9PiByZXMuanNvbigpKTtcbiAgY29uc3QgYWN0aW9uc1VybE1hcHBlciA9IG5ldyBBY3Rpb25zVVJMTWFwcGVyKGFjdGlvbnNKc29uKTtcbiAgcmV0dXJuIGFjdGlvbnNVcmxNYXBwZXIubWFwVXJsKHVybCk7XG59XG5cbi8vIHNyYy9hcGkvQWN0aW9uL0FjdGlvbi50c1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZC9ub24tc2VjdXJlXCI7XG5cbi8vIHBhY2thZ2UuanNvblxudmFyIHBhY2thZ2VfZGVmYXVsdCA9IHtcbiAgbmFtZTogXCJAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVcIixcbiAgdmVyc2lvbjogXCIwLjE0LjFcIixcbiAgbGljZW5zZTogXCJBcGFjaGUtMi4wXCIsXG4gIHByaXZhdGU6IGZhbHNlLFxuICBzaWRlRWZmZWN0czogdHJ1ZSxcbiAgdHlwZTogXCJtb2R1bGVcIixcbiAgcmVwb3NpdG9yeToge1xuICAgIHR5cGU6IFwiZ2l0XCIsXG4gICAgdXJsOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9kaWFsZWN0bGFicy9ibGlua3NcIlxuICB9LFxuICBzY3JpcHRzOiB7XG4gICAgYnVpbGQ6IFwidHN1cC1ub2RlXCIsXG4gICAgZGV2OiBcInRzdXAtbm9kZSAtLXdhdGNoXCJcbiAgfSxcbiAgbWFpbjogXCJkaXN0L2luZGV4LmNqc1wiLFxuICBtb2R1bGU6IFwiZGlzdC9pbmRleC5qc1wiLFxuICB0eXBlczogXCJkaXN0L2luZGV4LmQudHNcIixcbiAgZXhwb3J0czoge1xuICAgIFwiLlwiOiB7XG4gICAgICBpbXBvcnQ6IFwiLi9kaXN0L2luZGV4LmpzXCIsXG4gICAgICByZXF1aXJlOiBcIi4vZGlzdC9pbmRleC5janNcIixcbiAgICAgIHR5cGVzOiBcIi4vZGlzdC9pbmRleC5kLnRzXCJcbiAgICB9XG4gIH0sXG4gIGZpbGVzOiBbXG4gICAgXCJkaXN0XCJcbiAgXSxcbiAgZGV2RGVwZW5kZW5jaWVzOiB7XG4gICAgXCJAc29sYW5hL2FjdGlvbnMtc3BlY1wiOiBcIn4yLjQuMlwiLFxuICAgIFwiQHR5cGVzL3JlYWN0XCI6IFwiXjE4LjMuM1wiLFxuICAgIFwiQHR5cGVzL3JlYWN0LWRvbVwiOiBcIl4xOC4zLjBcIixcbiAgICBcIkB0eXBlc2NyaXB0LWVzbGludC9lc2xpbnQtcGx1Z2luXCI6IFwiXjcuMTYuMVwiLFxuICAgIFwiQHR5cGVzY3JpcHQtZXNsaW50L3BhcnNlclwiOiBcIl43LjE2LjFcIixcbiAgICBhdXRvcHJlZml4ZXI6IFwiXjEwLjQuMTlcIixcbiAgICBlc2xpbnQ6IFwiXjguNTcuMFwiLFxuICAgIFwiZXNsaW50LWNvbmZpZy1wcmV0dGllclwiOiBcIl45LjEuMFwiLFxuICAgIFwiZXNsaW50LXBsdWdpbi1yZWFjdFwiOiBcIl43LjM0LjRcIixcbiAgICBcImVzbGludC1wbHVnaW4tcmVhY3QtaG9va3NcIjogXCJeNC42LjJcIixcbiAgICBwb3N0Y3NzOiBcIl44LjQuMzlcIixcbiAgICBcInBvc3Rjc3MtcHJlZml4LXNlbGVjdG9yXCI6IFwiXjEuMTYuMVwiLFxuICAgIHByZXR0aWVyOiBcIl4zLjMuM1wiLFxuICAgIFwicHJldHRpZXItcGx1Z2luLW9yZ2FuaXplLWltcG9ydHNcIjogXCJeNC4wLjBcIixcbiAgICBcInByZXR0aWVyLXBsdWdpbi10YWlsd2luZGNzc1wiOiBcIl4wLjYuNVwiLFxuICAgIHRhaWx3aW5kY3NzOiBcIl4zLjQuM1wiLFxuICAgIHRzdXA6IFwiXjguMi4wXCIsXG4gICAgdHlwZXNjcmlwdDogXCJeNS41LjNcIlxuICB9LFxuICBwZWVyRGVwZW5kZW5jaWVzOiB7XG4gICAgcmVhY3Q6IFwiPj0xOFwiXG4gIH0sXG4gIGRlcGVuZGVuY2llczoge1xuICAgIFwiQHNvbGFuYS93ZWIzLmpzXCI6IFwiXjEuOTUuMVwiLFxuICAgIG5hbm9pZDogXCJeNS4wLjdcIlxuICB9XG59O1xuXG4vLyBzcmMvdXRpbHMvZGVwZW5kZW5jeS12ZXJzaW9ucy50c1xudmFyIHBrZyA9IHBhY2thZ2VfZGVmYXVsdDtcbnZhciBBQ1RJT05TX1NQRUNfVkVSU0lPTiA9IHBrZy5kZXZEZXBlbmRlbmNpZXNbXCJAc29sYW5hL2FjdGlvbnMtc3BlY1wiXS5yZXBsYWNlKC9bXlxcZC5dL2csIFwiXCIpO1xuXG4vLyBzcmMvYXBpL0FjdGlvbi9hY3Rpb24tc3VwcG9ydGFiaWxpdHkudHNcbnZhciBNQVhfU1VQUE9SVEVEX0FDVElPTl9WRVJTSU9OID0gQUNUSU9OU19TUEVDX1ZFUlNJT047XG52YXIgREVGQVVMVF9TVVBQT1JURURfQkxPQ0tDSEFJTl9JRFMgPSBbXG4gIEJsb2NrY2hhaW5JZHMuU09MQU5BX01BSU5ORVQsXG4gIEJsb2NrY2hhaW5JZHMuU09MQU5BX0RFVk5FVFxuXTtcbnZhciBCQVNFTElORV9BQ1RJT05fVkVSU0lPTiA9IFwiMi4yXCI7XG52YXIgQkFTRUxJTkVfQUNUSU9OX0JMT0NLQ0hBSU5fSURTID0gW0Jsb2NrY2hhaW5JZHMuU09MQU5BX01BSU5ORVRdO1xudmFyIGRlZmF1bHRBY3Rpb25TdXBwb3J0U3RyYXRlZ3kgPSBhc3luYyAoYWN0aW9uLCBhZGFwdGVyKSA9PiB7XG4gIGNvbnN0IHsgdmVyc2lvbjogYWN0aW9uVmVyc2lvbiwgYmxvY2tjaGFpbklkczogYWN0aW9uQmxvY2tjaGFpbklkcyB9ID0gYWN0aW9uLm1ldGFkYXRhO1xuICBpZiAoIWFjdGlvblZlcnNpb24gfHwgIWFjdGlvbkJsb2NrY2hhaW5JZHMgfHwgYWN0aW9uQmxvY2tjaGFpbklkcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJBY3Rpb24gY29tcGF0aWJpbGl0eSBtZXRhZGF0YSBpcyBub3Qgc2V0LiBQbGVhc2UgY29udGFjdCB0aGUgYWN0aW9uIHByb3ZpZGVyLlwiXG4gICAgfTtcbiAgfVxuICBjb25zdCBzdXBwb3J0ZWRBY3Rpb25WZXJzaW9uID0gTUFYX1NVUFBPUlRFRF9BQ1RJT05fVkVSU0lPTjtcbiAgY29uc3Qgc3VwcG9ydGVkQmxvY2tjaGFpbklkcyA9IGFkYXB0ZXIubWV0YWRhdGEuc3VwcG9ydGVkQmxvY2tjaGFpbklkcztcbiAgY29uc3QgdmVyc2lvblN1cHBvcnRlZCA9IGlzVmVyc2lvblN1cHBvcnRlZCh7XG4gICAgYWN0aW9uVmVyc2lvbixcbiAgICBzdXBwb3J0ZWRBY3Rpb25WZXJzaW9uXG4gIH0pO1xuICBjb25zdCBibG9ja2NoYWluU3VwcG9ydGVkID0gaXNCbG9ja2NoYWluU3VwcG9ydGVkKHtcbiAgICBhY3Rpb25CbG9ja2NoYWluSWRzLFxuICAgIHN1cHBvcnRlZEJsb2NrY2hhaW5JZHNcbiAgfSk7XG4gIGNvbnN0IG5vdFN1cHBvcnRlZEJsb2NrY2hhaW5JZHMgPSBhY3Rpb25CbG9ja2NoYWluSWRzLmZpbHRlcihcbiAgICAoaWQpID0+ICFzdXBwb3J0ZWRCbG9ja2NoYWluSWRzLmluY2x1ZGVzKGlkKVxuICApO1xuICBjb25zdCBub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXMgPSBub3RTdXBwb3J0ZWRCbG9ja2NoYWluSWRzLm1hcChcbiAgICBnZXRTaG9ydEJsb2NrY2hhaW5OYW1lXG4gICk7XG4gIGlmICghdmVyc2lvblN1cHBvcnRlZCAmJiAhYmxvY2tjaGFpblN1cHBvcnRlZCkge1xuICAgIGNvbnN0IGJsb2NrY2hhaW5NZXNzYWdlID0gbm90U3VwcG9ydGVkQWN0aW9uQmxvY2tjaGFpbk5hbWVzLmxlbmd0aCA9PT0gMSA/IGBibG9ja2NoYWluICR7bm90U3VwcG9ydGVkQWN0aW9uQmxvY2tjaGFpbk5hbWVzWzBdfWAgOiBgYmxvY2tjaGFpbnMgJHtub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXMuam9pbihcIiwgXCIpfWA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzU3VwcG9ydGVkOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGBBY3Rpb24gdmVyc2lvbiAke2FjdGlvblZlcnNpb259IGFuZCAke2Jsb2NrY2hhaW5NZXNzYWdlfSBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIEJsaW5rIGNsaWVudC5gXG4gICAgfTtcbiAgfVxuICBpZiAoIXZlcnNpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogYEFjdGlvbiB2ZXJzaW9uICR7YWN0aW9uVmVyc2lvbn0gaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIEJsaW5rIGNsaWVudC5gXG4gICAgfTtcbiAgfVxuICBpZiAoIWJsb2NrY2hhaW5TdXBwb3J0ZWQpIHtcbiAgICBjb25zdCBibG9ja2NoYWluTWVzc2FnZSA9IG5vdFN1cHBvcnRlZEFjdGlvbkJsb2NrY2hhaW5OYW1lcy5sZW5ndGggPT09IDEgPyBgQWN0aW9uIGJsb2NrY2hhaW4gJHtub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXNbMF19IGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBCbGluayBjbGllbnQuYCA6IGBBY3Rpb24gYmxvY2tjaGFpbnMgJHtub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXMuam9pbihcIiwgXCIpfSBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIEJsaW5rIGNsaWVudC5gO1xuICAgIHJldHVybiB7XG4gICAgICBpc1N1cHBvcnRlZDogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBibG9ja2NoYWluTWVzc2FnZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZDogdHJ1ZVxuICB9O1xufTtcbmZ1bmN0aW9uIGlzVmVyc2lvblN1cHBvcnRlZCh7XG4gIHN1cHBvcnRlZEFjdGlvblZlcnNpb24sXG4gIGFjdGlvblZlcnNpb25cbn0pIHtcbiAgcmV0dXJuIGNvbXBhcmVTZW12ZXJJZ25vcmluZ1BhdGNoKGFjdGlvblZlcnNpb24sIHN1cHBvcnRlZEFjdGlvblZlcnNpb24pIDw9IDA7XG59XG5mdW5jdGlvbiBjb21wYXJlU2VtdmVySWdub3JpbmdQYXRjaCh2MSwgdjIpIHtcbiAgY29uc3QgW21ham9yMSwgbWlub3IxXSA9IHYxLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKTtcbiAgY29uc3QgW21ham9yMiwgbWlub3IyXSA9IHYyLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKTtcbiAgaWYgKG1ham9yMSAhPT0gbWFqb3IyKSB7XG4gICAgcmV0dXJuIG1ham9yMSAtIG1ham9yMjtcbiAgfSBlbHNlIGlmIChtaW5vcjEgIT09IG1pbm9yMikge1xuICAgIHJldHVybiBtaW5vcjEgLSBtaW5vcjI7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBpc0Jsb2NrY2hhaW5TdXBwb3J0ZWQoe1xuICBzdXBwb3J0ZWRCbG9ja2NoYWluSWRzLFxuICBhY3Rpb25CbG9ja2NoYWluSWRzXG59KSB7XG4gIGlmIChhY3Rpb25CbG9ja2NoYWluSWRzLmxlbmd0aCA9PT0gMCB8fCBzdXBwb3J0ZWRCbG9ja2NoYWluSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBzYW5pdGl6ZWRTdXBwb3J0ZWRCbG9ja2NoYWluSWRzID0gc3VwcG9ydGVkQmxvY2tjaGFpbklkcy5tYXAoXG4gICAgKGl0KSA9PiBpdC50cmltKClcbiAgKTtcbiAgY29uc3Qgc2FuaXRpemVkQWN0aW9uQmxvY2tjaGFpbklkcyA9IGFjdGlvbkJsb2NrY2hhaW5JZHMubWFwKFxuICAgIChpdCkgPT4gaXQudHJpbSgpXG4gICk7XG4gIHJldHVybiBzYW5pdGl6ZWRBY3Rpb25CbG9ja2NoYWluSWRzLmV2ZXJ5KFxuICAgIChjaGFpbikgPT4gc2FuaXRpemVkU3VwcG9ydGVkQmxvY2tjaGFpbklkcy5pbmNsdWRlcyhjaGFpbilcbiAgKTtcbn1cblxuLy8gc3JjL2FwaS9BY3Rpb24vQWN0aW9uLnRzXG52YXIgTVVMVElfVkFMVUVfVFlQRVMgPSBbXCJjaGVja2JveFwiXTtcbnZhciBFWFBFUklNRU5UQUxfTElWRV9EQVRBX0RFRkFVTFRfREVMQVlfTVMgPSAxZTM7XG52YXIgQWN0aW9uID0gY2xhc3MgX0FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKF91cmwsIF9kYXRhLCBfbWV0YWRhdGEsIF9zdXBwb3J0U3RyYXRlZ3ksIF9jaGFpbk1ldGFkYXRhID0geyBpc0NoYWluZWQ6IGZhbHNlIH0sIF9pZCwgX2V4cGVyaW1lbnRhbCkge1xuICAgIHRoaXMuX3VybCA9IF91cmw7XG4gICAgdGhpcy5fZGF0YSA9IF9kYXRhO1xuICAgIHRoaXMuX21ldGFkYXRhID0gX21ldGFkYXRhO1xuICAgIHRoaXMuX3N1cHBvcnRTdHJhdGVneSA9IF9zdXBwb3J0U3RyYXRlZ3k7XG4gICAgdGhpcy5fY2hhaW5NZXRhZGF0YSA9IF9jaGFpbk1ldGFkYXRhO1xuICAgIHRoaXMuX2lkID0gX2lkO1xuICAgIHRoaXMuX2V4cGVyaW1lbnRhbCA9IF9leHBlcmltZW50YWw7XG4gICAgaWYgKF9kYXRhLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgIV9kYXRhLmxpbmtzPy5hY3Rpb25zKSB7XG4gICAgICB0aGlzLl9hY3Rpb25zID0gW1xuICAgICAgICBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KHRoaXMsIF9kYXRhLmxhYmVsLCBfdXJsLCBcInRyYW5zYWN0aW9uXCIpXG4gICAgICBdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKF91cmwpO1xuICAgIHRoaXMuX2FjdGlvbnMgPSBfZGF0YS5saW5rcy5hY3Rpb25zLm1hcCgoYWN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBocmVmID0gYWN0aW9uLmhyZWYuc3RhcnRzV2l0aChcImh0dHBcIikgPyBhY3Rpb24uaHJlZiA6IHVybE9iai5vcmlnaW4gKyBhY3Rpb24uaHJlZjtcbiAgICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBhY3Rpb24ubGFiZWwsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIGFjdGlvbi50eXBlID8/IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgYWN0aW9uLnBhcmFtZXRlcnNcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgX2FjdGlvbnM7XG4gIC8vIHRoaXMgQVBJIE1BWSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVxuICBnZXQgbGl2ZURhdGFfZXhwZXJpbWVudGFsKCkge1xuICAgIGNvbnN0IGxpdmVEYXRhID0gdGhpcy5fZXhwZXJpbWVudGFsPy5saXZlRGF0YTtcbiAgICBpZiAoIWxpdmVEYXRhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuYWJsZWQ6IGxpdmVEYXRhLmVuYWJsZWQsXG4gICAgICBkZWxheU1zOiBsaXZlRGF0YS5kZWxheU1zID8gTWF0aC5tYXgobGl2ZURhdGEuZGVsYXlNcywgRVhQRVJJTUVOVEFMX0xJVkVfREFUQV9ERUZBVUxUX0RFTEFZX01TKSA6IEVYUEVSSU1FTlRBTF9MSVZFX0RBVEFfREVGQVVMVF9ERUxBWV9NU1xuICAgIH07XG4gIH1cbiAgZ2V0IGlkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuICBnZXQgaXNDaGFpbmVkKCkge1xuICAgIHJldHVybiB0aGlzLl9jaGFpbk1ldGFkYXRhLmlzQ2hhaW5lZDtcbiAgfVxuICBnZXQgaXNJbmxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYWluTWV0YWRhdGEuaXNDaGFpbmVkID8gdGhpcy5fY2hhaW5NZXRhZGF0YS5pc0lubGluZSA6IGZhbHNlO1xuICB9XG4gIGdldCB0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnR5cGU7XG4gIH1cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsO1xuICB9XG4gIGdldCBpY29uKCkge1xuICAgIGlmICh0aGlzLl9kYXRhLmljb24uc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YS5pY29uO1xuICAgIH1cbiAgICByZXR1cm4gcHJveGlmeUltYWdlKHRoaXMuX2RhdGEuaWNvbikudXJsLnRvU3RyaW5nKCk7XG4gIH1cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnRpdGxlO1xuICB9XG4gIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5kZXNjcmlwdGlvbjtcbiAgfVxuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuZGlzYWJsZWQgPz8gZmFsc2U7XG4gIH1cbiAgZ2V0IGFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGlvbnM7XG4gIH1cbiAgZ2V0IGVycm9yKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmVycm9yPy5tZXNzYWdlID8/IG51bGw7XG4gIH1cbiAgZ2V0IG1ldGFkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBibG9ja2NoYWluSWRzOiB0aGlzLl9tZXRhZGF0YS5ibG9ja2NoYWluSWRzID8/IEJBU0VMSU5FX0FDVElPTl9CTE9DS0NIQUlOX0lEUyxcbiAgICAgIHZlcnNpb246IHRoaXMuX21ldGFkYXRhLnZlcnNpb24gPz8gQkFTRUxJTkVfQUNUSU9OX1ZFUlNJT05cbiAgICB9O1xuICB9XG4gIGFzeW5jIGlzU3VwcG9ydGVkKGFkYXB0ZXIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3N1cHBvcnRTdHJhdGVneSh0aGlzLCBhZGFwdGVyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBjaGVjayBzdXBwb3J0YWJpbGl0eSBmb3IgYWN0aW9uICR7dGhpcy51cmx9YCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzU3VwcG9ydGVkOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gY2hlY2sgc3VwcG9ydGFiaWxpdHksIHBsZWFzZSBjb250YWN0IHlvdXIgQmxpbmsgY2xpZW50IHByb3ZpZGVyLlwiXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBhc3luYyBjaGFpbihuZXh0LCBjaGFpbkRhdGEpIHtcbiAgICBjb25zdCBpZCA9IG5hbm9pZCgpO1xuICAgIGlmIChuZXh0LnR5cGUgPT09IFwiaW5saW5lXCIpIHtcbiAgICAgIHJldHVybiBuZXcgX0FjdGlvbihcbiAgICAgICAgdGhpcy51cmwsXG4gICAgICAgIG5leHQuYWN0aW9uLFxuICAgICAgICB0aGlzLm1ldGFkYXRhLFxuICAgICAgICB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICAgIHtcbiAgICAgICAgICBpc0NoYWluZWQ6IHRydWUsXG4gICAgICAgICAgaXNJbmxpbmU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaWRcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGJhc2VVcmxPYmogPSBuZXcgVVJMKHRoaXMudXJsKTtcbiAgICBpZiAoIWlzVXJsU2FtZU9yaWdpbihiYXNlVXJsT2JqLm9yaWdpbiwgbmV4dC5ocmVmKSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYENoYWluZWQgYWN0aW9uIGlzIG5vdCB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgYWN0aW9uLiBPcmlnaW5hbDogJHt0aGlzLnVybH0sIGNoYWluZWQ6ICR7bmV4dC5ocmVmfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaHJlZiA9IG5leHQuaHJlZi5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IG5leHQuaHJlZiA6IGJhc2VVcmxPYmoub3JpZ2luICsgbmV4dC5ocmVmO1xuICAgIGNvbnN0IHsgdXJsOiBwcm94eVVybDIsIGhlYWRlcnM6IHByb3h5SGVhZGVycyB9ID0gcHJveGlmeShocmVmKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHByb3h5VXJsMiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNoYWluRGF0YSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5wcm94eUhlYWRlcnNcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGNoYWluZWQgYWN0aW9uICR7cHJveHlVcmwyfSwgYWN0aW9uIHVybDogJHtuZXh0LmhyZWZ9YFxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0QWN0aW9uTWV0YWRhdGEocmVzcG9uc2UpO1xuICAgIHJldHVybiBuZXcgX0FjdGlvbihcbiAgICAgIGhyZWYsXG4gICAgICBkYXRhLFxuICAgICAgbWV0YWRhdGEsXG4gICAgICB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICB7XG4gICAgICAgIGlzQ2hhaW5lZDogdHJ1ZSxcbiAgICAgICAgaXNJbmxpbmU6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaWRcbiAgICApO1xuICB9XG4gIC8vIGJlIHN1cmUgdG8gdXNlIHRoaXMgb25seSBpZiB0aGUgYWN0aW9uIGlzIHZhbGlkXG4gIHN0YXRpYyBoeWRyYXRlKHVybCwgZGF0YSwgbWV0YWRhdGEsIHN1cHBvcnRTdHJhdGVneSkge1xuICAgIGNvbnN0IGlkID0gbmFub2lkKCk7XG4gICAgcmV0dXJuIG5ldyBfQWN0aW9uKFxuICAgICAgdXJsLFxuICAgICAgZGF0YSxcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgc3VwcG9ydFN0cmF0ZWd5LFxuICAgICAgeyBpc0NoYWluZWQ6IGZhbHNlIH0sXG4gICAgICBpZFxuICAgICk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIF9mZXRjaChhcGlVcmwsIHN1cHBvcnRTdHJhdGVneSA9IGRlZmF1bHRBY3Rpb25TdXBwb3J0U3RyYXRlZ3ksIGNoYWluTWV0YWRhdGEsIGlkKSB7XG4gICAgY29uc3QgeyB1cmw6IHByb3h5VXJsMiwgaGVhZGVyczogcHJveHlIZWFkZXJzIH0gPSBwcm94aWZ5KGFwaVVybCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwcm94eVVybDIsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgLi4ucHJveHlIZWFkZXJzXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGFjdGlvbiAke3Byb3h5VXJsMn0sIGFjdGlvbiB1cmw6ICR7YXBpVXJsfWBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBnZXRBY3Rpb25NZXRhZGF0YShyZXNwb25zZSk7XG4gICAgcmV0dXJuIG5ldyBfQWN0aW9uKFxuICAgICAgYXBpVXJsLFxuICAgICAgeyAuLi5kYXRhLCB0eXBlOiBcImFjdGlvblwiIH0sXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIHN1cHBvcnRTdHJhdGVneSxcbiAgICAgIGNoYWluTWV0YWRhdGEsXG4gICAgICBpZCxcbiAgICAgIGRhdGEuZGlhbGVjdEV4cGVyaW1lbnRhbFxuICAgICk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIGZldGNoKGFwaVVybCwgc3VwcG9ydFN0cmF0ZWd5ID0gZGVmYXVsdEFjdGlvblN1cHBvcnRTdHJhdGVneSkge1xuICAgIGNvbnN0IGlkID0gbmFub2lkKCk7XG4gICAgcmV0dXJuIF9BY3Rpb24uX2ZldGNoKFxuICAgICAgYXBpVXJsLFxuICAgICAgc3VwcG9ydFN0cmF0ZWd5LFxuICAgICAge1xuICAgICAgICBpc0NoYWluZWQ6IGZhbHNlXG4gICAgICB9LFxuICAgICAgaWRcbiAgICApO1xuICB9XG4gIHJlZnJlc2goKSB7XG4gICAgcmV0dXJuIF9BY3Rpb24uX2ZldGNoKFxuICAgICAgdGhpcy51cmwsXG4gICAgICB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICB0aGlzLl9jaGFpbk1ldGFkYXRhLFxuICAgICAgdGhpcy5faWRcbiAgICApO1xuICB9XG4gIHdpdGhVcGRhdGUodXBkYXRlKSB7XG4gICAgcmV0dXJuIG5ldyBfQWN0aW9uKFxuICAgICAgdGhpcy5fdXJsLFxuICAgICAgdGhpcy5fZGF0YSxcbiAgICAgIHRoaXMuX21ldGFkYXRhLFxuICAgICAgdXBkYXRlLnN1cHBvcnRTdHJhdGVneSA/PyB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICB0aGlzLl9jaGFpbk1ldGFkYXRhLFxuICAgICAgdGhpcy5faWQsXG4gICAgICB0aGlzLl9leHBlcmltZW50YWxcbiAgICApO1xuICB9XG59O1xudmFyIGdldEFjdGlvbk1ldGFkYXRhID0gKHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IGJsb2NrY2hhaW5JZHMgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIngtYmxvY2tjaGFpbi1pZHNcIik/LnNwbGl0KFwiLFwiKS5tYXAoKGlkKSA9PiBpZC50cmltKCkpO1xuICBjb25zdCB2ZXJzaW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJ4LWFjdGlvbi12ZXJzaW9uXCIpPy50cmltKCk7XG4gIHJldHVybiB7XG4gICAgYmxvY2tjaGFpbklkcyxcbiAgICB2ZXJzaW9uXG4gIH07XG59O1xudmFyIGNvbXBvbmVudEZhY3RvcnkgPSAocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycykgPT4ge1xuICBpZiAoIXBhcmFtZXRlcnM/Lmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KHBhcmVudCwgbGFiZWwsIGhyZWYsIHR5cGUpO1xuICB9XG4gIGlmIChwYXJhbWV0ZXJzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gbmV3IEZvcm1BY3Rpb25Db21wb25lbnQocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycyk7XG4gIH1cbiAgY29uc3QgW3BhcmFtZXRlcl0gPSBwYXJhbWV0ZXJzO1xuICBpZiAoIXBhcmFtZXRlci50eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudChcbiAgICAgIHBhcmVudCxcbiAgICAgIGxhYmVsLFxuICAgICAgaHJlZixcbiAgICAgIHR5cGUsXG4gICAgICBwYXJhbWV0ZXJzXG4gICAgKTtcbiAgfVxuICBpZiAoTVVMVElfVkFMVUVfVFlQRVMuaW5jbHVkZXMocGFyYW1ldGVyLnR5cGUpKSB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50KHBhcmVudCwgbGFiZWwsIGhyZWYsIHR5cGUsIHBhcmFtZXRlcnMpO1xuICB9XG4gIHJldHVybiBuZXcgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycyk7XG59O1xuXG4vLyBzcmMvYXBpL0FjdGlvbi9hY3Rpb24tY29tcG9uZW50cy9BYnN0cmFjdEFjdGlvbkNvbXBvbmVudC50c1xudmFyIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMpIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgIHRoaXMuX2xhYmVsID0gX2xhYmVsO1xuICAgIHRoaXMuX2hyZWYgPSBfaHJlZjtcbiAgICB0aGlzLl90eXBlID0gX3R5cGU7XG4gICAgdGhpcy5fcGFyYW1ldGVycyA9IF9wYXJhbWV0ZXJzO1xuICB9XG4gIGdldCBwYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgfVxuICBnZXQgbGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhYmVsO1xuICB9XG4gIGdldCBwYXJhbWV0ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJzID8/IFtdO1xuICB9XG4gIGdldCB0eXBlKCkge1xuICAgIHJldHVybiB0aGlzLl90eXBlO1xuICB9XG4gIGFzeW5jIHBvc3QoYWNjb3VudCkge1xuICAgIGNvbnN0IHsgdXJsOiBwcm94eVVybDIsIGhlYWRlcnM6IHByb3h5SGVhZGVycyB9ID0gcHJveGlmeSh0aGlzLmhyZWYpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocHJveHlVcmwyLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5idWlsZEJvZHkoYWNjb3VudCkpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgLi4ucHJveHlIZWFkZXJzXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBleGVjdXRlIGFjdGlvbiAke3Byb3h5VXJsMn0sIGhyZWYgJHt0aGlzLmhyZWZ9LCByZWFzb246ICR7ZXJyb3IubWVzc2FnZX1gXG4gICAgICApO1xuICAgICAgdGhyb3cge1xuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9XG59O1xuXG4vLyBzcmMvYXBpL0FjdGlvbi9hY3Rpb24tY29tcG9uZW50cy9CdXR0b25BY3Rpb25Db21wb25lbnQudHNcbnZhciBCdXR0b25BY3Rpb25Db21wb25lbnQgPSBjbGFzcyBleHRlbmRzIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzLCBfcGFyZW50Q29tcG9uZW50KSB7XG4gICAgc3VwZXIoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzKTtcbiAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgIHRoaXMuX2xhYmVsID0gX2xhYmVsO1xuICAgIHRoaXMuX2hyZWYgPSBfaHJlZjtcbiAgICB0aGlzLl90eXBlID0gX3R5cGU7XG4gICAgdGhpcy5fcGFyYW1ldGVycyA9IF9wYXJhbWV0ZXJzO1xuICAgIHRoaXMuX3BhcmVudENvbXBvbmVudCA9IF9wYXJlbnRDb21wb25lbnQ7XG4gIH1cbiAgZ2V0IHBhcmVudENvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50Q29tcG9uZW50ID8/IG51bGw7XG4gIH1cbiAgYnVpbGRCb2R5KGFjY291bnQpIHtcbiAgICByZXR1cm4geyBhY2NvdW50LCB0eXBlOiB0aGlzLnR5cGUgfTtcbiAgfVxuICBnZXQgaHJlZigpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZjtcbiAgfVxufTtcblxuLy8gc3JjL2FwaS9BY3Rpb24vYWN0aW9uLWNvbXBvbmVudHMvU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQudHNcbnZhciBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudCA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMsIF9wYXJlbnRDb21wb25lbnQpIHtcbiAgICBzdXBlcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMpO1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fbGFiZWwgPSBfbGFiZWw7XG4gICAgdGhpcy5faHJlZiA9IF9ocmVmO1xuICAgIHRoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzID0gX3BhcmFtZXRlcnM7XG4gICAgdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gX3BhcmVudENvbXBvbmVudDtcbiAgfVxuICBwYXJhbWV0ZXJWYWx1ZSA9IG51bGw7XG4gIGdldCBwYXJlbnRDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudENvbXBvbmVudCA/PyBudWxsO1xuICB9XG4gIGJ1aWxkQm9keShhY2NvdW50KSB7XG4gICAgaWYgKHRoaXMuX2hyZWYuaW5kZXhPZihgeyR7dGhpcy5wYXJhbWV0ZXIubmFtZX19YCkgPiAtMSB8fCB0aGlzLnBhcmFtZXRlclZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBhY2NvdW50LCB0eXBlOiB0aGlzLnR5cGUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjY291bnQsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFt0aGlzLnBhcmFtZXRlci5uYW1lXTogdGhpcy5wYXJhbWV0ZXJWYWx1ZVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZ2V0IHBhcmFtZXRlcigpIHtcbiAgICBjb25zdCBbcGFyYW1dID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgIHJldHVybiBwYXJhbTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucGFyYW1ldGVyVmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBnZXQgaHJlZigpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZi5yZXBsYWNlKFxuICAgICAgYHske3RoaXMucGFyYW1ldGVyLm5hbWV9fWAsXG4gICAgICBlbmNvZGVVUklDb21wb25lbnQodGhpcy5wYXJhbWV0ZXJWYWx1ZT8udG9TdHJpbmcoKS50cmltKCkgPz8gXCJcIilcbiAgICApO1xuICB9XG4gIHRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkge1xuICAgIHJldHVybiBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KFxuICAgICAgdGhpcy5fcGFyZW50LFxuICAgICAgdGhpcy5fbGFiZWwsXG4gICAgICB0aGlzLl9ocmVmLFxuICAgICAgdGhpcy5fdHlwZSxcbiAgICAgIHZvaWQgMCxcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG59O1xuXG4vLyBzcmMvYXBpL0FjdGlvbi9hY3Rpb24tY29tcG9uZW50cy9Gb3JtQWN0aW9uQ29tcG9uZW50LnRzXG52YXIgRm9ybUFjdGlvbkNvbXBvbmVudCA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMsIF9wYXJlbnRDb21wb25lbnQpIHtcbiAgICBzdXBlcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMpO1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fbGFiZWwgPSBfbGFiZWw7XG4gICAgdGhpcy5faHJlZiA9IF9ocmVmO1xuICAgIHRoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzID0gX3BhcmFtZXRlcnM7XG4gICAgdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gX3BhcmVudENvbXBvbmVudDtcbiAgfVxuICBwYXJhbWV0ZXJWYWx1ZXMgPSB7fTtcbiAgZ2V0IHBhcmVudENvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50Q29tcG9uZW50ID8/IG51bGw7XG4gIH1cbiAgLy8gYW55LCBzaW5jZSB3ZSBkb24ndCBrbm93IHRoZSBwYXJhbWV0ZXIgbmFtZXMgb24gdGhlIGNsaWVudCBsZXZlbFxuICBidWlsZEJvZHkoYWNjb3VudCkge1xuICAgIGNvbnN0IHBhcmFtTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnBhcmFtZXRlclZhbHVlcyk7XG4gICAgY29uc3QgYm9keVBhcmFtcyA9IFtdO1xuICAgIHBhcmFtTmFtZXMuZm9yRWFjaCgocGFyYW1OYW1lKSA9PiB7XG4gICAgICBpZiAodGhpcy5faHJlZi5pbmRleE9mKGB7JHtwYXJhbU5hbWV9fWApID09PSAtMSkge1xuICAgICAgICBib2R5UGFyYW1zLnB1c2gocGFyYW1OYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYm9keVBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NvdW50LFxuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIGRhdGE6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBwYXJhbU5hbWVzLmZpbHRlcigobmFtZSkgPT4gYm9keVBhcmFtcy5pbmNsdWRlcyhuYW1lKSkubWFwKChwYXJhbU5hbWUpID0+IFtwYXJhbU5hbWUsIHRoaXMucGFyYW1ldGVyVmFsdWVzW3BhcmFtTmFtZV1dKVxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBhY2NvdW50LCB0eXBlOiB0aGlzLnR5cGUgfTtcbiAgfVxuICBnZXQgaHJlZigpIHtcbiAgICBjb25zdCByZXBsYWNlZEhyZWYgPSB0aGlzLnBhcmFtZXRlcnMucmVkdWNlKChocmVmLCBwYXJhbSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnBhcmFtZXRlclZhbHVlc1twYXJhbS5uYW1lXTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGhyZWY7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHJlZi5yZXBsYWNlKFxuICAgICAgICBgeyR7cGFyYW0ubmFtZX19YCxcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdmFsdWU/LmpvaW4oXCIsXCIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSwgdGhpcy5faHJlZik7XG4gICAgcmV0dXJuIHJlcGxhY2VkSHJlZi5yZXBsYWNlQWxsKC89e1tefV0rfSYvZywgXCI9JlwiKS5yZXBsYWNlQWxsKC89e1tefV0rfS9nLCBcIj1cIik7XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUsIG5hbWUpIHtcbiAgICB0aGlzLnBhcmFtZXRlclZhbHVlc1tuYW1lXSA9IHZhbHVlO1xuICB9XG4gIHRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkge1xuICAgIHJldHVybiBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KFxuICAgICAgdGhpcy5fcGFyZW50LFxuICAgICAgdGhpcy5fbGFiZWwsXG4gICAgICB0aGlzLmhyZWYsXG4gICAgICB0aGlzLl90eXBlLFxuICAgICAgdm9pZCAwLFxuICAgICAgdGhpc1xuICAgICk7XG4gIH1cbiAgdG9JbnB1dEFjdGlvbkNvbXBvbmVudChwYXJhbU5hbWUpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXIgPSB0aGlzLnBhcmFtZXRlcnMuZmluZCgocGFyYW0pID0+IHBhcmFtLm5hbWUgPT09IHBhcmFtTmFtZSk7XG4gICAgaWYgKCFwYXJhbWV0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW5wdXQgUGFyYW1ldGVyICR7cGFyYW1OYW1lfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudChcbiAgICAgIHRoaXMuX3BhcmVudCxcbiAgICAgIHRoaXMuX2xhYmVsLFxuICAgICAgdGhpcy5faHJlZixcbiAgICAgIHRoaXMuX3R5cGUsXG4gICAgICBbcGFyYW1ldGVyXSxcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG59O1xuXG4vLyBzcmMvYXBpL0FjdGlvbi9hY3Rpb24tY29tcG9uZW50cy9NdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50LnRzXG52YXIgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudCA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMsIF9wYXJlbnRDb21wb25lbnQpIHtcbiAgICBzdXBlcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMpO1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fbGFiZWwgPSBfbGFiZWw7XG4gICAgdGhpcy5faHJlZiA9IF9ocmVmO1xuICAgIHRoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzID0gX3BhcmFtZXRlcnM7XG4gICAgdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gX3BhcmVudENvbXBvbmVudDtcbiAgfVxuICBwYXJhbWV0ZXJWYWx1ZSA9IFtdO1xuICBnZXQgcGFyZW50Q29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRDb21wb25lbnQgPz8gbnVsbDtcbiAgfVxuICAvLyBhbnksIHNpbmNlIHdlIGRvbid0IGtub3cgdGhlIHBhcmFtZXRlciBuYW1lcyBvbiB0aGUgY2xpZW50IGxldmVsXG4gIGJ1aWxkQm9keShhY2NvdW50KSB7XG4gICAgaWYgKHRoaXMuX2hyZWYuaW5kZXhPZihgeyR7dGhpcy5wYXJhbWV0ZXIubmFtZX19YCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHsgYWNjb3VudCwgdHlwZTogdGhpcy50eXBlIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhY2NvdW50LFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgZGF0YToge1xuICAgICAgICBbdGhpcy5wYXJhbWV0ZXIubmFtZV06IHRoaXMuaXNNdWx0aU9wdGlvbnMgPyB0aGlzLnBhcmFtZXRlclZhbHVlIDogdGhpcy5wYXJhbWV0ZXJWYWx1ZVswXVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZ2V0IGlzTXVsdGlPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtZXRlci50eXBlID09PSBcImNoZWNrYm94XCI7XG4gIH1cbiAgZ2V0IHBhcmFtZXRlcigpIHtcbiAgICBjb25zdCBbcGFyYW1dID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgIHJldHVybiBwYXJhbTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucGFyYW1ldGVyVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBbdmFsdWVdIDogdmFsdWU7XG4gIH1cbiAgZ2V0IGhyZWYoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hyZWYucmVwbGFjZShcbiAgICAgIGB7JHt0aGlzLnBhcmFtZXRlci5uYW1lfX1gLFxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucGFyYW1ldGVyVmFsdWUuam9pbihcIixcIikpXG4gICAgKTtcbiAgfVxuICB0b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbmV3IEJ1dHRvbkFjdGlvbkNvbXBvbmVudChcbiAgICAgIHRoaXMuX3BhcmVudCxcbiAgICAgIHRoaXMuX2xhYmVsLFxuICAgICAgdGhpcy5faHJlZixcbiAgICAgIHRoaXMuX3R5cGUsXG4gICAgICB2b2lkIDAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gc3JjL2FwaS9BY3Rpb24vYWN0aW9uLWNvbXBvbmVudHMvZ3VhcmRzLnRzXG52YXIgaXNQYXR0ZXJuQWxsb3dlZCA9IChwYXJhbWV0ZXIpID0+IHtcbiAgcmV0dXJuIHBhcmFtZXRlci50eXBlICE9PSBcInNlbGVjdFwiICYmIHBhcmFtZXRlci50eXBlICE9PSBcInJhZGlvXCIgJiYgcGFyYW1ldGVyLnR5cGUgIT09IFwiY2hlY2tib3hcIjtcbn07XG52YXIgaXNQYXJhbWV0ZXJTZWxlY3RhYmxlID0gKHBhcmFtZXRlcikgPT4ge1xuICByZXR1cm4gcGFyYW1ldGVyLnR5cGUgPT09IFwic2VsZWN0XCIgfHwgcGFyYW1ldGVyLnR5cGUgPT09IFwicmFkaW9cIiB8fCBwYXJhbWV0ZXIudHlwZSA9PT0gXCJjaGVja2JveFwiO1xufTtcblxuLy8gc3JjL2FwaS9BY3Rpb24vc2lnbi1tZXNzYWdlLWRhdGEudHNcbnZhciBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlMikgPT4ge1xuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTJbXCJBRERSRVNTX01JU01BVENIXCJdID0gXCJBRERSRVNTX01JU01BVENIXCI7XG4gIFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlMltcIkRPTUFJTl9NSVNNQVRDSFwiXSA9IFwiRE9NQUlOX01JU01BVENIXCI7XG4gIFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlMltcIkNIQUlOX0lEX01JU01BVENIXCJdID0gXCJDSEFJTl9JRF9NSVNNQVRDSFwiO1xuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTJbXCJJU1NVRURfVE9PX0ZBUl9JTl9USEVfUEFTVFwiXSA9IFwiSVNTVUVEX1RPT19GQVJfSU5fVEhFX1BBU1RcIjtcbiAgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUyW1wiSVNTVUVEX1RPT19GQVJfSU5fVEhFX0ZVVFVSRVwiXSA9IFwiSVNTVUVEX1RPT19GQVJfSU5fVEhFX0ZVVFVSRVwiO1xuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTJbXCJJTlZBTElEX0RBVEFcIl0gPSBcIklOVkFMSURfREFUQVwiO1xuICByZXR1cm4gU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUyO1xufSkoU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUgfHwge30pO1xudmFyIERPTUFJTiA9IFwiKD88ZG9tYWluPlteXFxcXG5dKz8pIHdhbnRzIHlvdSB0byBzaWduIGEgbWVzc2FnZSB3aXRoIHlvdXIgYWNjb3VudDpcXFxcblwiO1xudmFyIEFERFJFU1MgPSBcIig/PGFkZHJlc3M+W15cXFxcbl0rKSg/OlxcXFxufCQpXCI7XG52YXIgU1RBVEVNRU5UID0gXCIoPzpcXFxcbig/PHN0YXRlbWVudD5bXFxcXFNcXFxcc10qPykoPzpcXFxcbnwkKSlcIjtcbnZhciBDSEFJTl9JRCA9IFwiKD86XFxcXG5DaGFpbiBJRDogKD88Y2hhaW5JZD5bXlxcXFxuXSspKT9cIjtcbnZhciBOT05DRSA9IFwiXFxcXG5Ob25jZTogKD88bm9uY2U+W15cXFxcbl0rKVwiO1xudmFyIElTU1VFRF9BVCA9IFwiXFxcXG5Jc3N1ZWQgQXQ6ICg/PGlzc3VlZEF0PlteXFxcXG5dKylcIjtcbnZhciBGSUVMRFMgPSBgJHtDSEFJTl9JRH0ke05PTkNFfSR7SVNTVUVEX0FUfWA7XG52YXIgTUVTU0FHRSA9IG5ldyBSZWdFeHAoYF4ke0RPTUFJTn0ke0FERFJFU1N9JHtTVEFURU1FTlR9JHtGSUVMRFN9XFxcXG4qJGApO1xuZnVuY3Rpb24gY3JlYXRlU2lnbk1lc3NhZ2VUZXh0KGlucHV0KSB7XG4gIGxldCBtZXNzYWdlID0gYCR7aW5wdXQuZG9tYWlufSB3YW50cyB5b3UgdG8gc2lnbiBhIG1lc3NhZ2Ugd2l0aCB5b3VyIGFjY291bnQ6XG5gO1xuICBtZXNzYWdlICs9IGAke2lucHV0LmFkZHJlc3N9YDtcbiAgbWVzc2FnZSArPSBgXG5cbiR7aW5wdXQuc3RhdGVtZW50fWA7XG4gIGNvbnN0IGZpZWxkcyA9IFtdO1xuICBpZiAoaW5wdXQuY2hhaW5JZCkge1xuICAgIGZpZWxkcy5wdXNoKGBDaGFpbiBJRDogJHtpbnB1dC5jaGFpbklkfWApO1xuICB9XG4gIGZpZWxkcy5wdXNoKGBOb25jZTogJHtpbnB1dC5ub25jZX1gKTtcbiAgZmllbGRzLnB1c2goYElzc3VlZCBBdDogJHtpbnB1dC5pc3N1ZWRBdH1gKTtcbiAgbWVzc2FnZSArPSBgXG5cbiR7ZmllbGRzLmpvaW4oXCJcXG5cIil9YDtcbiAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBwYXJzZVNpZ25NZXNzYWdlVGV4dCh0ZXh0KSB7XG4gIGNvbnN0IG1hdGNoID0gTUVTU0FHRS5leGVjKHRleHQpO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZ3JvdXBzID0gbWF0Y2guZ3JvdXBzO1xuICBpZiAoIWdyb3VwcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiB7XG4gICAgZG9tYWluOiBncm91cHMuZG9tYWluLFxuICAgIGFkZHJlc3M6IGdyb3Vwcy5hZGRyZXNzLFxuICAgIHN0YXRlbWVudDogZ3JvdXBzLnN0YXRlbWVudCxcbiAgICBub25jZTogZ3JvdXBzLm5vbmNlLFxuICAgIGNoYWluSWQ6IGdyb3Vwcy5jaGFpbklkLFxuICAgIGlzc3VlZEF0OiBncm91cHMuaXNzdWVkQXRcbiAgfTtcbn1cbmZ1bmN0aW9uIHZlcmlmeVNpZ25NZXNzYWdlRGF0YShkYXRhLCBvcHRzKSB7XG4gIGlmICghZGF0YS5hZGRyZXNzIHx8ICFkYXRhLmRvbWFpbiB8fCAhZGF0YS5pc3N1ZWRBdCB8fCAhZGF0YS5ub25jZSB8fCAhZGF0YS5zdGF0ZW1lbnQpIHtcbiAgICByZXR1cm4gW1wiSU5WQUxJRF9EQVRBXCIgLyogSU5WQUxJRF9EQVRBICovXTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIGV4cGVjdGVkQWRkcmVzcyxcbiAgICAgIGV4cGVjdGVkQ2hhaW5JZHMsXG4gICAgICBpc3N1ZWRBdFRocmVzaG9sZCxcbiAgICAgIGV4cGVjdGVkRG9tYWluc1xuICAgIH0gPSBvcHRzO1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKGV4cGVjdGVkQWRkcmVzcyAmJiBkYXRhLmFkZHJlc3MgIT09IGV4cGVjdGVkQWRkcmVzcykge1xuICAgICAgZXJyb3JzLnB1c2goXCJBRERSRVNTX01JU01BVENIXCIgLyogQUREUkVTU19NSVNNQVRDSCAqLyk7XG4gICAgfVxuICAgIGlmIChleHBlY3RlZERvbWFpbnMpIHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkRG9tYWluc05vcm1hbGl6ZWQgPSBleHBlY3RlZERvbWFpbnMubWFwKG5vcm1hbGl6ZURvbWFpbik7XG4gICAgICBjb25zdCBub3JtYWxpemVkRG9tYWluID0gbm9ybWFsaXplRG9tYWluKGRhdGEuZG9tYWluKTtcbiAgICAgIGlmICghZXhwZWN0ZWREb21haW5zTm9ybWFsaXplZC5pbmNsdWRlcyhub3JtYWxpemVkRG9tYWluKSkge1xuICAgICAgICBlcnJvcnMucHVzaChcIkRPTUFJTl9NSVNNQVRDSFwiIC8qIERPTUFJTl9NSVNNQVRDSCAqLyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHBlY3RlZENoYWluSWRzICYmIGRhdGEuY2hhaW5JZCAmJiAhZXhwZWN0ZWRDaGFpbklkcy5pbmNsdWRlcyhkYXRhLmNoYWluSWQpKSB7XG4gICAgICBlcnJvcnMucHVzaChcIkNIQUlOX0lEX01JU01BVENIXCIgLyogQ0hBSU5fSURfTUlTTUFUQ0ggKi8pO1xuICAgIH1cbiAgICBpZiAoaXNzdWVkQXRUaHJlc2hvbGQgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgaWF0ID0gRGF0ZS5wYXJzZShkYXRhLmlzc3VlZEF0KTtcbiAgICAgIGlmIChNYXRoLmFicyhpYXQgLSBub3cpID4gaXNzdWVkQXRUaHJlc2hvbGQpIHtcbiAgICAgICAgaWYgKGlhdCA8IG5vdykge1xuICAgICAgICAgIGVycm9ycy5wdXNoKFxuICAgICAgICAgICAgXCJJU1NVRURfVE9PX0ZBUl9JTl9USEVfUEFTVFwiIC8qIElTU1VFRF9UT09fRkFSX0lOX1RIRV9QQVNUICovXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcbiAgICAgICAgICAgIFwiSVNTVUVEX1RPT19GQVJfSU5fVEhFX0ZVVFVSRVwiIC8qIElTU1VFRF9UT09fRkFSX0lOX1RIRV9GVVRVUkUgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcnJvcnM7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gW1wiSU5WQUxJRF9EQVRBXCIgLyogSU5WQUxJRF9EQVRBICovXTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRG9tYWluKGRvbWFpbikge1xuICByZXR1cm4gZG9tYWluLnJlcGxhY2UoL153d3dcXC4vLCBcIlwiKTtcbn1cblxuLy8gc3JjL2FwaS9BY3Rpb25Db25maWcudHNcbmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG52YXIgQWN0aW9uQ29uZmlnID0gY2xhc3MgX0FjdGlvbkNvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKHJwY1VybE9yQ29ubmVjdGlvbiwgYWRhcHRlcikge1xuICAgIHRoaXMuYWRhcHRlciA9IGFkYXB0ZXI7XG4gICAgaWYgKCFycGNVcmxPckNvbm5lY3Rpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJwY1VybCBvciBjb25uZWN0aW9uIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3Rpb24gPSB0eXBlb2YgcnBjVXJsT3JDb25uZWN0aW9uID09PSBcInN0cmluZ1wiID8gbmV3IENvbm5lY3Rpb24ocnBjVXJsT3JDb25uZWN0aW9uLCBcImNvbmZpcm1lZFwiKSA6IHJwY1VybE9yQ29ubmVjdGlvbjtcbiAgfVxuICBzdGF0aWMgQ09ORklSTV9USU1FT1VUX01TID0gNmU0ICogMS4yO1xuICAvLyAyMCUgZXh0cmEgdGltZVxuICBzdGF0aWMgREVGQVVMVF9NRVRBREFUQSA9IHtcbiAgICBzdXBwb3J0ZWRCbG9ja2NoYWluSWRzOiBERUZBVUxUX1NVUFBPUlRFRF9CTE9DS0NIQUlOX0lEU1xuICB9O1xuICBjb25uZWN0aW9uO1xuICBnZXQgbWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci5tZXRhZGF0YSA/PyBfQWN0aW9uQ29uZmlnLkRFRkFVTFRfTUVUQURBVEE7XG4gIH1cbiAgc2lnblRyYW5zYWN0aW9uKHR4LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRlci5zaWduVHJhbnNhY3Rpb24odHgsIGNvbnRleHQpO1xuICB9XG4gIGNvbmZpcm1UcmFuc2FjdGlvbihzaWduYXR1cmUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBjb25maXJtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID49IF9BY3Rpb25Db25maWcuQ09ORklSTV9USU1FT1VUX01TKSB7XG4gICAgICAgICAgcmVqKG5ldyBFcnJvcihcIlVuYWJsZSB0byBjb25maXJtIHRyYW5zYWN0aW9uOiB0aW1lb3V0IHJlYWNoZWRcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IHRoaXMuY29ubmVjdGlvbi5nZXRTaWduYXR1cmVTdGF0dXMoc2lnbmF0dXJlKTtcbiAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlPy5lcnIpIHtcbiAgICAgICAgICAgIHJlaihcbiAgICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBUcmFuc2FjdGlvbiBleGVjdXRpb24gZmFpbGVkLCBjaGVjayB3YWxsZXQgZm9yIGRldGFpbHNgXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgJiYgc3RhdHVzLnZhbHVlLmNvbmZpcm1hdGlvbnMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlcygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzXSBFcnJvciBjb25maXJtaW5nIHRyYW5zYWN0aW9uXCIsXG4gICAgICAgICAgICBlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGNvbmZpcm0sIDNlMyk7XG4gICAgICB9O1xuICAgICAgY29uZmlybSgpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHNpZ25NZXNzYWdlKGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdGVyLnNpZ25NZXNzYWdlKGRhdGEsIGNvbnRleHQpO1xuICB9XG4gIGFzeW5jIGNvbm5lY3QoY29udGV4dCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5hZGFwdGVyLmNvbm5lY3QoY29udGV4dCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9hcGkvQWN0aW9uc1JlZ2lzdHJ5LnRzXG52YXIgREVGQVVMVF9SRUZSRVNIX0lOVEVSVkFMID0gMTAgKiA2MCAqIDFlMztcbnZhciBBY3Rpb25zUmVnaXN0cnkgPSBjbGFzcyBfQWN0aW9uc1JlZ2lzdHJ5IHtcbiAgc3RhdGljIGluc3RhbmNlID0gbnVsbDtcbiAgYWN0aW9uc0J5SG9zdDtcbiAgd2Vic2l0ZXNCeUhvc3Q7XG4gIGludGVyc3RpdGlhbHNCeUhvc3Q7XG4gIGluaXRQcm9taXNlID0gbnVsbDtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5hY3Rpb25zQnlIb3N0ID0gY29uZmlnID8gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgY29uZmlnLmFjdGlvbnMubWFwKChhY3Rpb24pID0+IFthY3Rpb24uaG9zdCwgYWN0aW9uXSlcbiAgICApIDoge307XG4gICAgdGhpcy53ZWJzaXRlc0J5SG9zdCA9IGNvbmZpZyA/IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIGNvbmZpZy53ZWJzaXRlcy5tYXAoKHdlYnNpdGUpID0+IFt3ZWJzaXRlLmhvc3QsIHdlYnNpdGVdKVxuICAgICkgOiB7fTtcbiAgICB0aGlzLmludGVyc3RpdGlhbHNCeUhvc3QgPSBjb25maWcgPyBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBjb25maWcuaW50ZXJzdGl0aWFscy5tYXAoKGludGVyc3RpdGlhbCkgPT4gW1xuICAgICAgICBpbnRlcnN0aXRpYWwuaG9zdCxcbiAgICAgICAgaW50ZXJzdGl0aWFsXG4gICAgICBdKVxuICAgICkgOiB7fTtcbiAgfVxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoY29uZmlnKSB7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgY29uZmlnKSB7XG4gICAgICB0aGlzLmluc3RhbmNlID0gbmV3IF9BY3Rpb25zUmVnaXN0cnkoY29uZmlnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH1cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBpZiAodGhpcy5pbml0UHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnJlZnJlc2goKTtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnJlZnJlc2goKSwgREVGQVVMVF9SRUZSRVNIX0lOVEVSVkFMKTtcbiAgfVxuICBhc3luYyByZWZyZXNoKCkge1xuICAgIHRoaXMuaW5pdFByb21pc2UgPSBmZXRjaEFjdGlvbnNSZWdpc3RyeUNvbmZpZygpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHRoaXMuaW5pdFByb21pc2U7XG4gICAgdGhpcy5hY3Rpb25zQnlIb3N0ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgY29uZmlnLmFjdGlvbnMubWFwKChhY3Rpb24pID0+IFthY3Rpb24uaG9zdCwgYWN0aW9uXSlcbiAgICApO1xuICAgIHRoaXMud2Vic2l0ZXNCeUhvc3QgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBjb25maWcud2Vic2l0ZXMubWFwKCh3ZWJzaXRlKSA9PiBbd2Vic2l0ZS5ob3N0LCB3ZWJzaXRlXSlcbiAgICApO1xuICAgIHRoaXMuaW50ZXJzdGl0aWFsc0J5SG9zdCA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIGNvbmZpZy5pbnRlcnN0aXRpYWxzLm1hcCgoaW50ZXJzdGl0aWFsKSA9PiBbXG4gICAgICAgIGludGVyc3RpdGlhbC5ob3N0LFxuICAgICAgICBpbnRlcnN0aXRpYWxcbiAgICAgIF0pXG4gICAgKTtcbiAgfVxuICBsb29rdXAodXJsLCB0eXBlID0gXCJhY3Rpb25cIikge1xuICAgIGlmICh0eXBlID09PSBcImFjdGlvblwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb29rdXBBY3Rpb24odXJsKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwid2Vic2l0ZVwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb29rdXBXZWJzaXRlKHVybCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcImludGVyc3RpdGlhbFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb29rdXBJbnRlcnN0aXRpYWwodXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbG9va3VwQWN0aW9uKHVybCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgICBjb25zdCBob3N0ID0gdXJsT2JqLmhvc3Q7XG4gICAgICByZXR1cm4gdGhpcy5hY3Rpb25zQnlIb3N0W2hvc3RdID8/IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gbG9va3VwIGFjdGlvbiBmb3IgVVJMOiAke3VybH1gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGxvb2t1cFdlYnNpdGUodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB1cmxPYmouaG9zdDtcbiAgICAgIHJldHVybiB0aGlzLndlYnNpdGVzQnlIb3N0W2hvc3RdID8/IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gbG9va3VwIHdlYnNpdGUgZm9yIFVSTDogJHt1cmx9YCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBsb29rdXBJbnRlcnN0aXRpYWwodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB1cmxPYmouaG9zdDtcbiAgICAgIHJldHVybiB0aGlzLmludGVyc3RpdGlhbHNCeUhvc3RbaG9zdF0gPz8gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBsb29rdXAgaW50ZXJzdGl0aWFsIGZvciBVUkw6ICR7dXJsfWAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn07XG52YXIgbWVyZ2VBY3Rpb25TdGF0ZXMgPSAoLi4uc3RhdGVzKSA9PiB7XG4gIGlmIChzdGF0ZXMuaW5jbHVkZXMoXCJtYWxpY2lvdXNcIikpIHtcbiAgICByZXR1cm4gXCJtYWxpY2lvdXNcIjtcbiAgfVxuICBpZiAoc3RhdGVzLmluY2x1ZGVzKFwidW5rbm93blwiKSkge1xuICAgIHJldHVybiBcInVua25vd25cIjtcbiAgfVxuICByZXR1cm4gXCJ0cnVzdGVkXCI7XG59O1xudmFyIGdldEV4dGVuZGVkQWN0aW9uU3RhdGUgPSAoYWN0aW9uT3JVcmwpID0+IHtcbiAgcmV0dXJuIEFjdGlvbnNSZWdpc3RyeS5nZXRJbnN0YW5jZSgpLmxvb2t1cChcbiAgICB0eXBlb2YgYWN0aW9uT3JVcmwgPT09IFwic3RyaW5nXCIgPyBhY3Rpb25PclVybCA6IGFjdGlvbk9yVXJsLnVybCxcbiAgICBcImFjdGlvblwiXG4gICk/LnN0YXRlID8/IFwidW5rbm93blwiO1xufTtcbnZhciBnZXRFeHRlbmRlZFdlYnNpdGVTdGF0ZSA9ICh1cmwpID0+IHtcbiAgcmV0dXJuIEFjdGlvbnNSZWdpc3RyeS5nZXRJbnN0YW5jZSgpLmxvb2t1cCh1cmwsIFwid2Vic2l0ZVwiKT8uc3RhdGUgPz8gXCJ1bmtub3duXCI7XG59O1xudmFyIGdldEV4dGVuZGVkSW50ZXJzdGl0aWFsU3RhdGUgPSAodXJsKSA9PiB7XG4gIHJldHVybiBBY3Rpb25zUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKS5sb29rdXAodXJsLCBcImludGVyc3RpdGlhbFwiKT8uc3RhdGUgPz8gXCJ1bmtub3duXCI7XG59O1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBY3Rpb25zUmVnaXN0cnlDb25maWcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vYWN0aW9ucy1yZWdpc3RyeS5kaWFsLnRvL2FsbFwiKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gZmV0Y2ggYWN0aW9ucyByZWdpc3RyeSBjb25maWdcIixcbiAgICAgICAgYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgYWN0aW9uczogW10sIGludGVyc3RpdGlhbHM6IFtdLCB3ZWJzaXRlczogW10gfTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gZmV0Y2ggYWN0aW9ucyByZWdpc3RyeSBjb25maWdcIixcbiAgICAgIGVcbiAgICApO1xuICAgIHJldHVybiB7IGFjdGlvbnM6IFtdLCBpbnRlcnN0aXRpYWxzOiBbXSwgd2Vic2l0ZXM6IFtdIH07XG4gIH1cbn1cblxuLy8gc3JjL0JsaW5rQ29udGFpbmVyLnRzeFxuaW1wb3J0IHtcbiAgdXNlRWZmZWN0LFxuICB1c2VNZW1vLFxuICB1c2VSZWR1Y2VyLFxuICB1c2VTdGF0ZVxufSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3V0aWxzL3R5cGUtZ3VhcmRzLnRzXG52YXIgaXNTaWduVHJhbnNhY3Rpb25FcnJvciA9IChkYXRhKSA9PiAhIWRhdGEuZXJyb3I7XG52YXIgaXNTaWduTWVzc2FnZUVycm9yID0gaXNTaWduVHJhbnNhY3Rpb25FcnJvcjtcbnZhciBpc1Bvc3RSZXF1ZXN0RXJyb3IgPSAoZGF0YSkgPT4gISFkYXRhLmVycm9yO1xuXG4vLyBzcmMvdXRpbHMvdmFsaWRhdG9ycy50c1xudmFyIGlzVVJMID0gKHVybCkgPT4ge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBzcmMvQmxpbmtDb250YWluZXIudHN4XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBEaXNjbGFpbWVyVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKERpc2NsYWltZXJUeXBlMikgPT4ge1xuICBEaXNjbGFpbWVyVHlwZTJbXCJCTE9DS0VEXCJdID0gXCJibG9ja2VkXCI7XG4gIERpc2NsYWltZXJUeXBlMltcIlVOS05PV05cIl0gPSBcInVua25vd25cIjtcbiAgcmV0dXJuIERpc2NsYWltZXJUeXBlMjtcbn0pKERpc2NsYWltZXJUeXBlIHx8IHt9KTtcbnZhciBFeGVjdXRpb25UeXBlID0gLyogQF9fUFVSRV9fICovICgoRXhlY3V0aW9uVHlwZTIpID0+IHtcbiAgRXhlY3V0aW9uVHlwZTJbXCJDSEVDS19TVVBQT1JUQUJJTElUWVwiXSA9IFwiQ0hFQ0tfU1VQUE9SVEFCSUxJVFlcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJJTklUSUFURVwiXSA9IFwiSU5JVElBVEVcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJGSU5JU0hcIl0gPSBcIkZJTklTSFwiO1xuICBFeGVjdXRpb25UeXBlMltcIkZBSUxcIl0gPSBcIkZBSUxcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJSRVNFVFwiXSA9IFwiUkVTRVRcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJTT0ZUX1JFU0VUXCJdID0gXCJTT0ZUX1JFU0VUXCI7XG4gIEV4ZWN1dGlvblR5cGUyW1wiVU5CTE9DS1wiXSA9IFwiVU5CTE9DS1wiO1xuICBFeGVjdXRpb25UeXBlMltcIkJMT0NLXCJdID0gXCJCTE9DS1wiO1xuICByZXR1cm4gRXhlY3V0aW9uVHlwZTI7XG59KShFeGVjdXRpb25UeXBlIHx8IHt9KTtcbnZhciBleGVjdXRpb25SZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgXCJDSEVDS19TVVBQT1JUQUJJTElUWVwiIC8qIENIRUNLX1NVUFBPUlRBQklMSVRZICovOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcImNoZWNraW5nLXN1cHBvcnRhYmlsaXR5XCIsXG4gICAgICAgIGNoZWNraW5nU3VwcG9ydGFiaWxpdHk6IHRydWVcbiAgICAgIH07XG4gICAgY2FzZSBcIklOSVRJQVRFXCIgLyogSU5JVElBVEUgKi86XG4gICAgICByZXR1cm4geyBzdGF0dXM6IFwiZXhlY3V0aW5nXCIsIGV4ZWN1dGluZ0FjdGlvbjogYWN0aW9uLmV4ZWN1dGluZ0FjdGlvbiB9O1xuICAgIGNhc2UgXCJGSU5JU0hcIiAvKiBGSU5JU0ggKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IGFjdGlvbi5zdWNjZXNzTWVzc2FnZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBudWxsXG4gICAgICB9O1xuICAgIGNhc2UgXCJGQUlMXCIgLyogRkFJTCAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBzdGF0dXM6IFwiZXJyb3JcIixcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBhY3Rpb24uZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdWNjZXNzTWVzc2FnZTogbnVsbFxuICAgICAgfTtcbiAgICBjYXNlIFwiUkVTRVRcIiAvKiBSRVNFVCAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogXCJpZGxlXCJcbiAgICAgIH07XG4gICAgY2FzZSBcIlNPRlRfUkVTRVRcIiAvKiBTT0ZUX1JFU0VUICovOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV4ZWN1dGluZ0FjdGlvbjogbnVsbCxcbiAgICAgICAgc3RhdHVzOiBcImlkbGVcIixcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBhY3Rpb24uZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdWNjZXNzTWVzc2FnZTogbnVsbFxuICAgICAgfTtcbiAgICBjYXNlIFwiQkxPQ0tcIiAvKiBCTE9DSyAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogXCJibG9ja2VkXCJcbiAgICAgIH07XG4gICAgY2FzZSBcIlVOQkxPQ0tcIiAvKiBVTkJMT0NLICovOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcImlkbGVcIlxuICAgICAgfTtcbiAgfVxufTtcbnZhciBnZXRPdmVyYWxsQWN0aW9uU3RhdGUgPSAoYWN0aW9uLCB3ZWJzaXRlVXJsKSA9PiB7XG4gIGNvbnN0IGFjdGlvblN0YXRlID0gZ2V0RXh0ZW5kZWRBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICBjb25zdCBvcmlnaW5hbFVybERhdGEgPSB3ZWJzaXRlVXJsID8gaXNJbnRlcnN0aXRpYWwod2Vic2l0ZVVybCkgOiBudWxsO1xuICBpZiAoIW9yaWdpbmFsVXJsRGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246IGFjdGlvblN0YXRlXG4gICAgfTtcbiAgfVxuICBpZiAob3JpZ2luYWxVcmxEYXRhLmlzSW50ZXJzdGl0aWFsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogYWN0aW9uU3RhdGUsXG4gICAgICBvcmlnaW46IGdldEV4dGVuZGVkSW50ZXJzdGl0aWFsU3RhdGUod2Vic2l0ZVVybCksXG4gICAgICBvcmlnaW5UeXBlOiBcImludGVyc3RpdGlhbHNcIlxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246IGFjdGlvblN0YXRlLFxuICAgIG9yaWdpbjogZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUod2Vic2l0ZVVybCksXG4gICAgb3JpZ2luVHlwZTogXCJ3ZWJzaXRlc1wiXG4gIH07XG59O1xudmFyIGNoZWNrU2VjdXJpdHlGcm9tQWN0aW9uU3RhdGUgPSAoc3RhdGUsIG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsKSA9PiB7XG4gIGNvbnN0IGNoZWNrQWN0aW9uID0gY2hlY2tTZWN1cml0eShcbiAgICBzdGF0ZS5hY3Rpb24sXG4gICAgbm9ybWFsaXplZFNlY3VyaXR5TGV2ZWwuYWN0aW9uc1xuICApO1xuICBpZiAoIXN0YXRlLm9yaWdpbikge1xuICAgIHJldHVybiBjaGVja0FjdGlvbjtcbiAgfVxuICByZXR1cm4gY2hlY2tBY3Rpb24gJiYgY2hlY2tTZWN1cml0eShzdGF0ZS5vcmlnaW4sIG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsW3N0YXRlLm9yaWdpblR5cGVdKTtcbn07XG52YXIgREVGQVVMVF9TRUNVUklUWV9MRVZFTCA9IFwib25seS10cnVzdGVkXCI7XG52YXIgQmxpbmtDb250YWluZXIgPSAoe1xuICBhY3Rpb246IGluaXRpYWxBY3Rpb24sXG4gIGFkYXB0ZXIsXG4gIHdlYnNpdGVVcmwsXG4gIHdlYnNpdGVUZXh0LFxuICBjYWxsYmFja3MsXG4gIHNlY3VyaXR5TGV2ZWwgPSBERUZBVUxUX1NFQ1VSSVRZX0xFVkVMLFxuICBMYXlvdXQsXG4gIHNlbGVjdG9yXG59KSA9PiB7XG4gIGNvbnN0IFthY3Rpb24sIHNldEFjdGlvbl0gPSB1c2VTdGF0ZShpbml0aWFsQWN0aW9uKTtcbiAgY29uc3Qgc2luZ2xlQ29tcG9uZW50ID0gdXNlTWVtbygoKSA9PiBzZWxlY3Rvcj8uKGFjdGlvbiksIFthY3Rpb24sIHNlbGVjdG9yXSk7XG4gIGNvbnN0IGlzUGFydGlhbEFjdGlvbiA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiO1xuICBjb25zdCBub3JtYWxpemVkU2VjdXJpdHlMZXZlbCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VjdXJpdHlMZXZlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2Vic2l0ZXM6IHNlY3VyaXR5TGV2ZWwsXG4gICAgICAgIGludGVyc3RpdGlhbHM6IHNlY3VyaXR5TGV2ZWwsXG4gICAgICAgIGFjdGlvbnM6IHNlY3VyaXR5TGV2ZWxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBzZWN1cml0eUxldmVsO1xuICB9LCBbc2VjdXJpdHlMZXZlbF0pO1xuICBjb25zdCBbYWN0aW9uU3RhdGUsIHNldEFjdGlvblN0YXRlXSA9IHVzZVN0YXRlKFxuICAgIGdldE92ZXJhbGxBY3Rpb25TdGF0ZShhY3Rpb24sIHdlYnNpdGVVcmwpXG4gICk7XG4gIGNvbnN0IFtzdXBwb3J0YWJpbGl0eSwgc2V0U3VwcG9ydGFiaWxpdHldID0gdXNlU3RhdGUoe1xuICAgIGlzU3VwcG9ydGVkOiB0cnVlXG4gIH0pO1xuICBjb25zdCBvdmVyYWxsU3RhdGUgPSB1c2VNZW1vKFxuICAgICgpID0+IG1lcmdlQWN0aW9uU3RhdGVzKFxuICAgICAgLi4uW2FjdGlvblN0YXRlLmFjdGlvbiwgYWN0aW9uU3RhdGUub3JpZ2luXS5maWx0ZXIoXG4gICAgICAgIEJvb2xlYW5cbiAgICAgIClcbiAgICApLFxuICAgIFthY3Rpb25TdGF0ZV1cbiAgKTtcbiAgY29uc3QgaXNQYXNzaW5nU2VjdXJpdHlDaGVjayA9IGlzUGFydGlhbEFjdGlvbiA/IHRydWUgOiBjaGVja1NlY3VyaXR5RnJvbUFjdGlvblN0YXRlKGFjdGlvblN0YXRlLCBub3JtYWxpemVkU2VjdXJpdHlMZXZlbCk7XG4gIGNvbnN0IFtleGVjdXRpb25TdGF0ZSwgZGlzcGF0Y2hdID0gdXNlUmVkdWNlcihleGVjdXRpb25SZWR1Y2VyLCB7XG4gICAgc3RhdHVzOiBpc1BhcnRpYWxBY3Rpb24gPyBcImlkbGVcIiA6IFwiY2hlY2tpbmctc3VwcG9ydGFiaWxpdHlcIlxuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aW9uID09PSBpbml0aWFsQWN0aW9uIHx8IGFjdGlvbi5pc0NoYWluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QWN0aW9uKGluaXRpYWxBY3Rpb24pO1xuICAgIHNldEFjdGlvblN0YXRlKGdldE92ZXJhbGxBY3Rpb25TdGF0ZShpbml0aWFsQWN0aW9uLCB3ZWJzaXRlVXJsKSk7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogaXNQYXJ0aWFsQWN0aW9uID8gXCJSRVNFVFwiIC8qIFJFU0VUICovIDogXCJDSEVDS19TVVBQT1JUQUJJTElUWVwiIC8qIENIRUNLX1NVUFBPUlRBQklMSVRZICovXG4gICAgfSk7XG4gIH0sIFtpbml0aWFsQWN0aW9uLCB3ZWJzaXRlVXJsXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tzPy5vbkFjdGlvbk1vdW50Py4oXG4gICAgICBhY3Rpb24sXG4gICAgICB3ZWJzaXRlVXJsID8/IGFjdGlvbi51cmwsXG4gICAgICBhY3Rpb25TdGF0ZS5hY3Rpb25cbiAgICApO1xuICB9LCBbYWN0aW9uLmlkXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbGl2ZURhdGFDb25maWcgPSBhY3Rpb24ubGl2ZURhdGFfZXhwZXJpbWVudGFsO1xuICAgIGlmICghbGl2ZURhdGFDb25maWcgfHwgIWxpdmVEYXRhQ29uZmlnLmVuYWJsZWQgfHwgZXhlY3V0aW9uU3RhdGUuc3RhdHVzICE9PSBcImlkbGVcIiB8fCBhY3Rpb24uaXNDaGFpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0aW1lb3V0O1xuICAgIGNvbnN0IGZldGNoZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdBY3Rpb24gPSBhd2FpdCBhY3Rpb24ucmVmcmVzaCgpO1xuICAgICAgICBpZiAoZXhlY3V0aW9uU3RhdGUuc3RhdHVzID09PSBcImlkbGVcIikge1xuICAgICAgICAgIHNldEFjdGlvbihuZXdBY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gZmV0Y2ggbGl2ZSBkYXRhIGZvciBhY3Rpb24gJHthY3Rpb24udXJsfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZmV0Y2hlciwgbGl2ZURhdGFDb25maWcuZGVsYXlNcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmZXRjaGVyLCBsaXZlRGF0YUNvbmZpZy5kZWxheU1zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH07XG4gIH0sIFthY3Rpb24sIGV4ZWN1dGlvblN0YXRlLnN0YXR1cywgaXNQYXJ0aWFsQWN0aW9uXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tTdXBwb3J0YWJpbGl0eSA9IGFzeW5jIChhY3Rpb24yKSA9PiB7XG4gICAgICBpZiAoYWN0aW9uMi5pc0NoYWluZWQgfHwgZXhlY3V0aW9uU3RhdGUuc3RhdHVzICE9PSBcImNoZWNraW5nLXN1cHBvcnRhYmlsaXR5XCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGFiaWxpdHkyID0gYXdhaXQgYWN0aW9uMi5pc1N1cHBvcnRlZChhZGFwdGVyKTtcbiAgICAgICAgc2V0U3VwcG9ydGFiaWxpdHkoc3VwcG9ydGFiaWxpdHkyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBvdmVyYWxsU3RhdGUgIT09IFwibWFsaWNpb3VzXCIgJiYgaXNQYXNzaW5nU2VjdXJpdHlDaGVjayA/IFwiUkVTRVRcIiAvKiBSRVNFVCAqLyA6IFwiQkxPQ0tcIiAvKiBCTE9DSyAqL1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNoZWNrU3VwcG9ydGFiaWxpdHkoYWN0aW9uKTtcbiAgfSwgW1xuICAgIGFjdGlvbixcbiAgICBhZGFwdGVyLFxuICAgIGV4ZWN1dGlvblN0YXRlLnN0YXR1cyxcbiAgICBvdmVyYWxsU3RhdGUsXG4gICAgaXNQYXNzaW5nU2VjdXJpdHlDaGVja1xuICBdKTtcbiAgY29uc3QgZXhlY3V0ZSA9IGFzeW5jIChjb21wb25lbnQsIHBhcmFtcykgPT4ge1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBGb3JtQWN0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaChcbiAgICAgICAgICAoW25hbWUsIHZhbHVlXSkgPT4gY29tcG9uZW50LnNldFZhbHVlKHZhbHVlLCBuYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50LnNldFZhbHVlKHBhcmFtc1tjb21wb25lbnQucGFyYW1ldGVyLm5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBpbmNvbWluZ1ZhbHVlcyA9IHBhcmFtc1tjb21wb25lbnQucGFyYW1ldGVyLm5hbWVdO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBpbmNvbWluZ1ZhbHVlcyA9PT0gXCJzdHJpbmdcIiA/IGluY29taW5nVmFsdWVzIDogaW5jb21pbmdWYWx1ZXNbMF07XG4gICAgICAgIGNvbXBvbmVudC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5ld0FjdGlvblN0YXRlID0gZ2V0T3ZlcmFsbEFjdGlvblN0YXRlKGFjdGlvbiwgd2Vic2l0ZVVybCk7XG4gICAgY29uc3QgbmV3SXNQYXNzaW5nU2VjdXJpdHlDaGVjayA9IGNoZWNrU2VjdXJpdHlGcm9tQWN0aW9uU3RhdGUoXG4gICAgICBuZXdBY3Rpb25TdGF0ZSxcbiAgICAgIG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsXG4gICAgKTtcbiAgICBpZiAoKG5ld0FjdGlvblN0YXRlLmFjdGlvbiAhPT0gYWN0aW9uU3RhdGUuYWN0aW9uIHx8IG5ld0FjdGlvblN0YXRlLm9yaWdpbiAhPT0gYWN0aW9uU3RhdGUub3JpZ2luKSAmJiAhbmV3SXNQYXNzaW5nU2VjdXJpdHlDaGVjaykge1xuICAgICAgc2V0QWN0aW9uU3RhdGUobmV3QWN0aW9uU3RhdGUpO1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIkJMT0NLXCIgLyogQkxPQ0sgKi8gfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJJTklUSUFURVwiIC8qIElOSVRJQVRFICovLCBleGVjdXRpbmdBY3Rpb246IGNvbXBvbmVudCB9KTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgYWN0aW9uOiBjb21wb25lbnQucGFyZW50LFxuICAgICAgYWN0aW9uVHlwZTogYWN0aW9uU3RhdGUuYWN0aW9uLFxuICAgICAgb3JpZ2luYWxVcmw6IHdlYnNpdGVVcmwgPz8gY29tcG9uZW50LnBhcmVudC51cmwsXG4gICAgICB0cmlnZ2VyZWRMaW5rZWRBY3Rpb246IGNvbXBvbmVudFxuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBhZGFwdGVyLmNvbm5lY3QoY29udGV4dCk7XG4gICAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFU0VUXCIgLyogUkVTRVQgKi8gfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY29tcG9uZW50LnBvc3QoYWNjb3VudCkuY2F0Y2goKGUpID0+ICh7IGVycm9yOiBlLm1lc3NhZ2UgfSkpO1xuICAgICAgaWYgKGlzUG9zdFJlcXVlc3RFcnJvcihyZXNwb25zZSkpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IFwiU09GVF9SRVNFVFwiIC8qIFNPRlRfUkVTRVQgKi8sXG4gICAgICAgICAgZXJyb3JNZXNzYWdlOiBpc1Bvc3RSZXF1ZXN0RXJyb3IocmVzcG9uc2UpID8gcmVzcG9uc2UuZXJyb3IgOiBcIlRyYW5zYWN0aW9uIGRhdGEgbWlzc2luZ1wiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGFpbiA9IGFzeW5jIChzaWduYXR1cmUpID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5saW5rcz8ubmV4dCkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiRklOSVNIXCIgLyogRklOSVNIICovLFxuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwibWVzc2FnZVwiICYmICFzaWduYXR1cmUpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBcIlNPRlRfUkVTRVRcIiAvKiBTT0ZUX1JFU0VUICovLFxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIk1pc3Npbmcgc2lnbmF0dXJlIGZvciBtZXNzYWdlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhaW5EYXRhID0gcmVzcG9uc2UudHlwZSA9PT0gXCJtZXNzYWdlXCIgPyB7XG4gICAgICAgICAgc2lnbmF0dXJlLFxuICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgc3RhdGU6IHJlc3BvbnNlLnN0YXRlLFxuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgYWNjb3VudFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuZXh0QWN0aW9uID0gYXdhaXQgYWN0aW9uLmNoYWluKHJlc3BvbnNlLmxpbmtzLm5leHQsIGNoYWluRGF0YSk7XG4gICAgICAgIGlmICghbmV4dEFjdGlvbiB8fCBpc1BhcnRpYWxBY3Rpb24gJiYgIXNlbGVjdG9yPy4obmV4dEFjdGlvbikpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBcIkZJTklTSFwiIC8qIEZJTklTSCAqLyxcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEFjdGlvbihuZXh0QWN0aW9uKTtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFU0VUXCIgLyogUkVTRVQgKi8gfSk7XG4gICAgICB9O1xuICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwidHJhbnNhY3Rpb25cIiB8fCAhcmVzcG9uc2UudHlwZSkge1xuICAgICAgICBjb25zdCBzaWduUmVzdWx0ID0gYXdhaXQgYWRhcHRlci5zaWduVHJhbnNhY3Rpb24oXG4gICAgICAgICAgcmVzcG9uc2UudHJhbnNhY3Rpb24sXG4gICAgICAgICAgY29udGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXNpZ25SZXN1bHQgfHwgaXNTaWduVHJhbnNhY3Rpb25FcnJvcihzaWduUmVzdWx0KSkge1xuICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRVNFVFwiIC8qIFJFU0VUICovIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBhZGFwdGVyLmNvbmZpcm1UcmFuc2FjdGlvbihzaWduUmVzdWx0LnNpZ25hdHVyZSwgY29udGV4dCk7XG4gICAgICAgIGF3YWl0IGNoYWluKHNpZ25SZXN1bHQuc2lnbmF0dXJlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIGNvbnN0IHNpZ25SZXN1bHQgPSBhd2FpdCBhZGFwdGVyLnNpZ25NZXNzYWdlKHJlc3BvbnNlLmRhdGEsIGNvbnRleHQpO1xuICAgICAgICBpZiAoIXNpZ25SZXN1bHQgfHwgaXNTaWduTWVzc2FnZUVycm9yKHNpZ25SZXN1bHQpKSB7XG4gICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFU0VUXCIgLyogUkVTRVQgKi8gfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNoYWluKHNpZ25SZXN1bHQuc2lnbmF0dXJlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS50eXBlID09PSBcInBvc3RcIikge1xuICAgICAgICBhd2FpdCBjaGFpbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVzcG9uc2UudHlwZSA9PT0gXCJleHRlcm5hbC1saW5rXCIpIHtcbiAgICAgICAgaWYgKGlzVVJMKHJlc3BvbnNlLmV4dGVybmFsTGluaykpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJleHRlcm5hbC1saW5rXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGV4dGVybmFsTGluazogcmVzcG9uc2UuZXh0ZXJuYWxMaW5rXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25OZXh0OiAoKSA9PiBjaGFpbigpLFxuICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IGNoYWluKClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNoYWluKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFwiU09GVF9SRVNFVFwiIC8qIFNPRlRfUkVTRVQgKi8sXG4gICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlID8/IFwiVW5rbm93biBlcnJvciwgcGxlYXNlIHRyeSBhZ2FpblwiXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRpc2NsYWltZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAob3ZlcmFsbFN0YXRlID09PSBcIm1hbGljaW91c1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJsb2NrZWRcIiAvKiBCTE9DS0VEICovLFxuICAgICAgICBpZ25vcmFibGU6IGlzUGFzc2luZ1NlY3VyaXR5Q2hlY2ssXG4gICAgICAgIGhpZGRlbjogZXhlY3V0aW9uU3RhdGUuc3RhdHVzICE9PSBcImJsb2NrZWRcIiAmJiBleGVjdXRpb25TdGF0ZS5zdGF0dXMgIT09IFwiY2hlY2tpbmctc3VwcG9ydGFiaWxpdHlcIixcbiAgICAgICAgb25Ta2lwOiAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiVU5CTE9DS1wiIC8qIFVOQkxPQ0sgKi8gfSlcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvdmVyYWxsU3RhdGUgPT09IFwidW5rbm93blwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInVua25vd25cIiAvKiBVTktOT1dOICovLFxuICAgICAgICBpZ25vcmFibGU6IGlzUGFzc2luZ1NlY3VyaXR5Q2hlY2tcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbZXhlY3V0aW9uU3RhdGUuc3RhdHVzLCBpc1Bhc3NpbmdTZWN1cml0eUNoZWNrLCBvdmVyYWxsU3RhdGVdKTtcbiAgY29uc3QgYmxpbmtDYXB0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGV4ZWN1dGlvblN0YXRlLmVycm9yTWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCB0ZXh0OiBleGVjdXRpb25TdGF0ZS5lcnJvck1lc3NhZ2UgfTtcbiAgICB9XG4gICAgaWYgKGV4ZWN1dGlvblN0YXRlLnN1Y2Nlc3NNZXNzYWdlKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgdGV4dDogZXhlY3V0aW9uU3RhdGUuc3VjY2Vzc01lc3NhZ2UgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIFtleGVjdXRpb25TdGF0ZS5lcnJvck1lc3NhZ2UsIGV4ZWN1dGlvblN0YXRlLnN1Y2Nlc3NNZXNzYWdlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIExheW91dCxcbiAgICB7XG4gICAgICBzZWN1cml0eVN0YXRlOiBvdmVyYWxsU3RhdGUsXG4gICAgICB3ZWJzaXRlVXJsLFxuICAgICAgd2Vic2l0ZVRleHQsXG4gICAgICBhY3Rpb24sXG4gICAgICBjb21wb25lbnQ6IHNpbmdsZUNvbXBvbmVudCxcbiAgICAgIGNhcHRpb246IGJsaW5rQ2FwdGlvbixcbiAgICAgIGV4ZWN1dGlvblN0YXR1czogZXhlY3V0aW9uU3RhdGUuc3RhdHVzLFxuICAgICAgZXhlY3V0aW5nQWN0aW9uOiBleGVjdXRpb25TdGF0ZS5leGVjdXRpbmdBY3Rpb24sXG4gICAgICBleGVjdXRlRm46IGV4ZWN1dGUsXG4gICAgICBkaXNjbGFpbWVyLFxuICAgICAgc3VwcG9ydGFiaWxpdHksXG4gICAgICBpZDogYWN0aW9uLmlkXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZUFjdGlvbi50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDMsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlQWN0aW9uUmVnaXN0cnlJbnRlcnZhbC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQWN0aW9uc1JlZ2lzdHJ5SW50ZXJ2YWwoKSB7XG4gIGNvbnN0IFtpc1JlZ2lzdHJ5TG9hZGVkLCBzZXRSZWdpc3RyeUxvYWRlZF0gPSB1c2VTdGF0ZTIoZmFsc2UpO1xuICB1c2VFZmZlY3QyKCgpID0+IHtcbiAgICBBY3Rpb25zUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKS5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICBzZXRSZWdpc3RyeUxvYWRlZCh0cnVlKTtcbiAgICB9KTtcbiAgfSwgW2lzUmVnaXN0cnlMb2FkZWRdKTtcbiAgcmV0dXJuIHsgaXNSZWdpc3RyeUxvYWRlZCB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlQWN0aW9uLnRzXG5mdW5jdGlvbiB1c2VBY3Rpb25BcGlVcmwodXJsKSB7XG4gIGNvbnN0IFthcGlVcmwsIHNldEFwaVVybF0gPSB1c2VTdGF0ZTMobnVsbCk7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICB1bmZ1cmxVcmxUb0FjdGlvbkFwaVVybChuZXcgVVJMKHVybCkpLnRoZW4oKGFwaVVybDIpID0+IHtcbiAgICAgIGlmIChpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0QXBpVXJsKGFwaVVybDIpO1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVdIEZhaWxlZCB0byB1bmZ1cmwgYWN0aW9uIFVSTFwiLFxuICAgICAgICBlXG4gICAgICApO1xuICAgICAgc2V0QXBpVXJsKG51bGwpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZ25vcmUgPSB0cnVlO1xuICAgIH07XG4gIH0sIFt1cmxdKTtcbiAgcmV0dXJuIHsgYWN0aW9uQXBpVXJsOiBhcGlVcmwgfTtcbn1cbmZ1bmN0aW9uIHVzZUFjdGlvbih7XG4gIHVybCxcbiAgc3VwcG9ydFN0cmF0ZWd5ID0gZGVmYXVsdEFjdGlvblN1cHBvcnRTdHJhdGVneVxufSkge1xuICBjb25zdCB7IGlzUmVnaXN0cnlMb2FkZWQgfSA9IHVzZUFjdGlvbnNSZWdpc3RyeUludGVydmFsKCk7XG4gIGNvbnN0IHsgYWN0aW9uQXBpVXJsIH0gPSB1c2VBY3Rpb25BcGlVcmwodXJsKTtcbiAgY29uc3QgW2FjdGlvbiwgc2V0QWN0aW9uXSA9IHVzZVN0YXRlMyhudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlMyhmYWxzZSk7XG4gIGNvbnN0IFtoYXNGZXRjaGVkLCBzZXRIYXNGZXRjaGVkXSA9IHVzZVN0YXRlMyhmYWxzZSk7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBpZiAoIWlzUmVnaXN0cnlMb2FkZWQgfHwgIWFjdGlvbkFwaVVybCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgc2V0SGFzRmV0Y2hlZChmYWxzZSk7XG4gICAgQWN0aW9uLmZldGNoKGFjdGlvbkFwaVVybCwgc3VwcG9ydFN0cmF0ZWd5KS50aGVuKChhY3Rpb24yKSA9PiB7XG4gICAgICBpZiAoaWdub3JlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEFjdGlvbihhY3Rpb24yKTtcbiAgICAgIHNldEhhc0ZldGNoZWQodHJ1ZSk7XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gZmV0Y2ggYWN0aW9uXCIsIGUpO1xuICAgICAgc2V0QWN0aW9uKG51bGwpO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbYWN0aW9uQXBpVXJsLCBpc1JlZ2lzdHJ5TG9hZGVkXSk7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIGlmICghYWN0aW9uIHx8ICFoYXNGZXRjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gYWN0aW9uLndpdGhVcGRhdGUoe1xuICAgICAgICBzdXBwb3J0U3RyYXRlZ3lcbiAgICAgIH0pO1xuICAgICAgc2V0QWN0aW9uKHVwZGF0ZWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gdXBkYXRlIGFjdGlvblwiLCBlKTtcbiAgICB9XG4gIH0sIFtzdXBwb3J0U3RyYXRlZ3ksIGhhc0ZldGNoZWRdKTtcbiAgcmV0dXJuIHsgYWN0aW9uLCBpc0xvYWRpbmcgfTtcbn1cbmV4cG9ydCB7XG4gIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50LFxuICBBY3Rpb24sXG4gIEFjdGlvbkNvbmZpZyxcbiAgQWN0aW9uc1JlZ2lzdHJ5LFxuICBBY3Rpb25zVVJMTWFwcGVyLFxuICBCQVNFTElORV9BQ1RJT05fQkxPQ0tDSEFJTl9JRFMsXG4gIEJBU0VMSU5FX0FDVElPTl9WRVJTSU9OLFxuICBCTElOS19DTElFTlRfS0VZX0hFQURFUixcbiAgQmxpbmtDb250YWluZXIsXG4gIEJsb2NrY2hhaW5JZHMsXG4gIEJ1dHRvbkFjdGlvbkNvbXBvbmVudCxcbiAgREVGQVVMVF9TVVBQT1JURURfQkxPQ0tDSEFJTl9JRFMsXG4gIERpc2NsYWltZXJUeXBlLFxuICBFeGVjdXRpb25UeXBlLFxuICBGb3JtQWN0aW9uQ29tcG9uZW50LFxuICBNQVhfU1VQUE9SVEVEX0FDVElPTl9WRVJTSU9OLFxuICBNdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50LFxuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZSxcbiAgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQsXG4gIGNoZWNrU2VjdXJpdHksXG4gIGNyZWF0ZVNpZ25NZXNzYWdlVGV4dCxcbiAgZGVmYXVsdEFjdGlvblN1cHBvcnRTdHJhdGVneSxcbiAgZ2V0RXh0ZW5kZWRBY3Rpb25TdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRJbnRlcnN0aXRpYWxTdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUsXG4gIGlzQmxvY2tjaGFpblN1cHBvcnRlZCxcbiAgaXNJbnRlcnN0aXRpYWwsXG4gIGlzUGFyYW1ldGVyU2VsZWN0YWJsZSxcbiAgaXNQYXR0ZXJuQWxsb3dlZCxcbiAgaXNWZXJzaW9uU3VwcG9ydGVkLFxuICBtZXJnZUFjdGlvblN0YXRlcyxcbiAgcGFyc2VTaWduTWVzc2FnZVRleHQsXG4gIHByb3hpZnksXG4gIHByb3hpZnlJbWFnZSxcbiAgc2V0Q2xpZW50S2V5LFxuICBzZXRQcm94eVVybCxcbiAgdW5mdXJsVXJsVG9BY3Rpb25BcGlVcmwsXG4gIHVzZUFjdGlvbixcbiAgdXNlQWN0aW9uc1JlZ2lzdHJ5SW50ZXJ2YWwsXG4gIHZlcmlmeVNpZ25NZXNzYWdlRGF0YVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-MA5MH5OQ.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/chunk-MA5MH5OQ.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blink: () => (/* binding */ Blink),\n/* harmony export */   Miniblink: () => (/* binding */ Miniblink),\n/* harmony export */   NormalizedBaseBlinkLayout: () => (/* binding */ NormalizedBaseBlinkLayout),\n/* harmony export */   NormalizedIsolatedBlinkLayout: () => (/* binding */ NormalizedIsolatedBlinkLayout)\n/* harmony export */ });\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! markdown-to-jsx */ \"(ssr)/./node_modules/markdown-to-jsx/dist/index.module.js\");\n// src/ui/Blink.tsx\n\n\n\n// src/ui/internal/hooks/useLayoutPropNormalizer.tsx\n\n\n\n// src/ui/internal/utils.ts\nvar confirmLinkTransition = (url) => {\n  return window.confirm(\n    `This action redirects to another website: ${url}, the link will open in a new tab of your browser`\n  );\n};\n\n// src/ui/internal/hooks/ui-mappers.ts\nvar buttonVariantMap = {\n  \"checking-supportability\": \"default\",\n  blocked: \"default\",\n  idle: \"default\",\n  executing: \"default\",\n  success: \"success\",\n  error: \"error\"\n};\nvar buttonLabelMap = {\n  \"checking-supportability\": \"Loading\",\n  blocked: null,\n  idle: null,\n  executing: \"Executing\",\n  success: \"Completed\",\n  error: \"Failed\"\n};\n\n// src/ui/internal/hooks/useLayoutPropNormalizer.tsx\nvar SOFT_LIMIT_BUTTONS = 10;\nvar SOFT_LIMIT_INPUTS = 3;\nvar SOFT_LIMIT_FORM_INPUTS = 10;\nvar useLayoutPropNormalizer = ({\n  executeFn,\n  executionStatus,\n  executingAction,\n  action,\n  caption,\n  ...props\n}) => {\n  const buttons = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => action?.actions.filter((it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.ButtonActionComponent).filter((it) => executingAction ? executingAction === it : true).toSpliced(SOFT_LIMIT_BUTTONS) ?? [],\n    [action, executingAction]\n  );\n  const inputs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => action?.actions.filter(\n      (it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent || it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.MultiValueActionComponent\n    ).filter((it) => executingAction ? executingAction === it : true).toSpliced(SOFT_LIMIT_INPUTS) ?? [],\n    [action, executingAction]\n  );\n  const form = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const [formComponent] = action?.actions.filter((it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.FormActionComponent).filter((it) => executingAction ? executingAction === it : true) ?? [];\n    return formComponent;\n  }, [action, executingAction]);\n  const asButtonProps = (it) => {\n    return {\n      text: buttonLabelMap[executionStatus] ?? it.label,\n      loading: executionStatus === \"executing\" && it === executingAction,\n      disabled: action.disabled || action.type === \"completed\" || executionStatus !== \"idle\",\n      variant: buttonVariantMap[action.type === \"completed\" ? \"success\" : executionStatus],\n      ctaType: it.type === \"external-link\" && (executionStatus === \"idle\" || executionStatus === \"blocked\") ? \"link\" : \"button\",\n      onClick: async (params) => {\n        const extra = await executeFn(it.parentComponent ?? it, params);\n        if (!extra) {\n          return;\n        }\n        if (extra.type === \"external-link\") {\n          const result = confirmLinkTransition(extra.data.externalLink);\n          if (result) {\n            window.open(\n              extra.data.externalLink,\n              \"_blank\",\n              \"norefferer,noopener\"\n            );\n            return extra.onNext();\n          }\n          return extra.onCancel?.();\n        }\n      }\n    };\n  };\n  const asInputProps = (it, { placement } = {\n    placement: \"standalone\"\n  }) => {\n    return {\n      type: it.parameter.type ?? \"text\",\n      placeholder: it.parameter.label,\n      disabled: action.disabled || action.type === \"completed\" || executionStatus !== \"idle\",\n      name: it.parameter.name,\n      required: it.parameter.required,\n      min: it.parameter.min,\n      max: it.parameter.max,\n      pattern: it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent && (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isPatternAllowed)(it.parameter) ? it.parameter.pattern : void 0,\n      options: (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isParameterSelectable)(it.parameter) ? it.parameter.options : void 0,\n      description: it.parameter.patternDescription,\n      button: placement === \"standalone\" ? asButtonProps(it.toButtonActionComponent()) : void 0\n    };\n  };\n  const asFormProps = (it) => {\n    return {\n      button: asButtonProps(it.toButtonActionComponent()),\n      inputs: it.parameters.toSpliced(SOFT_LIMIT_FORM_INPUTS).map(\n        (parameter) => asInputProps(it.toInputActionComponent(parameter.name), {\n          placement: \"form\"\n        })\n      )\n    };\n  };\n  const normalizedCaption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!caption) {\n      return {};\n    }\n    if (caption.type === \"success\") {\n      return {\n        success: caption.text\n      };\n    }\n    if (caption.type === \"error\") {\n      return {\n        error: caption.text\n      };\n    }\n    return {};\n  }, [caption]);\n  return {\n    ...props,\n    title: action.title,\n    description: action.description,\n    image: action.icon,\n    buttons: buttons.map(asButtonProps),\n    inputs: inputs.map((i) => asInputProps(i)),\n    form: form ? asFormProps(form) : void 0,\n    websiteText: props.websiteText ?? props.websiteUrl ?? action.url,\n    ...normalizedCaption\n  };\n};\n\n// src/ui/layouts/BaseBlinkLayout.tsx\n\n\n\n\n// src/ui/internal/Badge.tsx\n\n\nvar variantClasses = {\n  error: {\n    container: \"group bg-transparent-error\",\n    text: \"text-text-error group-hover:text-text-error-hover\",\n    icon: \"text-icon-error group-hover:text-icon-error-hover\"\n  },\n  warning: {\n    container: \"group bg-transparent-warning\",\n    text: \"text-text-warning group-hover:text-text-warning-hover\",\n    icon: \"text-icon-warning group-hover:text-icon-warning-hover\"\n  },\n  default: {\n    container: \"group bg-transparent-grey\",\n    text: \"text-text-primary group-hover:text-text-primary-hover\",\n    icon: \"text-icon-primary group-hover:text-icon-primary-hover\"\n  }\n};\nvar Badge = ({\n  variant = \"default\",\n  children,\n  className,\n  icon\n}) => {\n  const { container, icon: iconClassNames, text } = variantClasses[variant];\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        container,\n        \"text-subtext inline-flex items-center justify-center gap-1 rounded-full font-semibold leading-none\",\n        className,\n        {\n          \"aspect-square p-1\": !children && icon,\n          \"px-1.5 py-1\": children\n        }\n      ),\n      children: [\n        children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"span\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              text,\n              \"mt-0.5 transition-colors motion-reduce:transition-none\"\n            ),\n            children\n          }\n        ),\n        icon && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"div\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              iconClassNames,\n              \"transition-colors motion-reduce:transition-none\"\n            ),\n            children: icon\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/SimpleMarkdown.tsx\n\n\n\nvar LinkWithConfirm = ({\n  href,\n  title,\n  children\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"a\",\n    {\n      href,\n      className: \"text-text-link hover:text-text-link-hover underline transition-colors motion-reduce:transition-none\",\n      target: \"_blank\",\n      title,\n      onClick: (e) => {\n        if (!confirmLinkTransition(href)) {\n          e.preventDefault();\n        }\n      },\n      rel: \"noopener noreferrer\",\n      children\n    }\n  );\n};\nvar SimpleMarkdown = ({ text }) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    {\n      options: {\n        disableParsingRawHTML: true,\n        slugify: (str) => `${str}-${id}`,\n        // @ts-expect-error - return type ReactChild is deprecated, assuming ReactNode\n        renderRule(next, node, renderChildren, state) {\n          switch (node.type) {\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.image:\n              return null;\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.gfmTask:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"mb-[0.125em] inline-block\", children: node.completed ? \"\\u2705\" : \"\\u2B1C\" });\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.link:\n              const sanitizedHref = (0,markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.sanitizer)(node.target);\n              if (sanitizedHref) {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                  LinkWithConfirm,\n                  {\n                    href: sanitizedHref,\n                    title: node.title,\n                    children: renderChildren(node.children, state)\n                  },\n                  state.key\n                );\n              }\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.heading:\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.paragraph:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", { className: \"mb-[0.35em] last:mb-0\", children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.blockQuote:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"blockquote\", { className: \"mb-[0.35em] last:mb-0\", children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.codeBlock:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"pre\", { className: \"text-wrap\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"code\", { children: node.text }) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.orderedList:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"ol\",\n                {\n                  className: \"list-inside list-decimal [li>&]:ps-4\",\n                  children: node.items.map((item, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"li\", { children: renderChildren(item, state) }, index))\n                },\n                state.key\n              );\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.unorderedList:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"ul\",\n                {\n                  className: \"list-inside list-disc [li>&]:ps-4\",\n                  children: node.items.map((item, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"li\", { children: renderChildren(item, state) }, index))\n                },\n                state.key\n              );\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.breakThematic:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"hr\", { className: \"my-[0.5em]\" }, state.key);\n            default:\n              return next();\n          }\n        }\n      },\n      children: text\n    }\n  );\n};\n\n// src/ui/internal/Snackbar.tsx\n\n\nvar variantClasses2 = {\n  error: \"bg-transparent-error text-text-error border-stroke-error\",\n  warning: \"bg-transparent-warning text-text-warning border-stroke-warning\"\n};\nvar Snackbar = ({ variant = \"warning\", children }) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        variantClasses2[variant],\n        \"rounded-lg border p-3 text-subtext\"\n      ),\n      children\n    }\n  );\n};\n\n// src/ui/internal/icons/CheckIcon.tsx\n\nvar CheckIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        d: \"M15.348 3.509a.984.984 0 010 1.437l-8.173 8.172a.984.984 0 01-1.437 0L1.652 9.032a.984.984 0 010-1.437.984.984 0 011.437 0l3.384 3.353 7.438-7.439a.984.984 0 011.437 0z\",\n        fill: \"currentColor\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/ConfigIcon.tsx\n\nvar ConfigIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M7.037 8.108a2.65 2.65 0 1 1 1.07-1.071 1.522 1.522 0 0 1 1.553.094 1.523 1.523 0 0 1 1.498-1.239h.398v-.49a.666.666 0 0 0-.55-.653l-.866-.151a4.488 4.488 0 0 0-.447-1.078l.505-.72a.666.666 0 0 0-.076-.84l-.519-.528a.666.666 0 0 0-.852-.074l-.72.505a4.482 4.482 0 0 0-1.078-.447L6.802.55A.666.666 0 0 0 6.149 0h-.735a.666.666 0 0 0-.653.55l-.152.866a4.48 4.48 0 0 0-1.078.447l-.726-.505a.666.666 0 0 0-.846.074l-.527.527a.666.666 0 0 0-.074.854l.505.72c-.195.338-.346.7-.447 1.078l-.866.151a.666.666 0 0 0-.55.654v.734a.666.666 0 0 0 .55.653l.866.152c.101.377.251.74.447 1.078l-.505.716a.666.666 0 0 0 .074.854l.527.52a.666.666 0 0 0 .854.075l.72-.505c.338.195.7.346 1.078.447l.151.866a.666.666 0 0 0 .654.55h.49v-.398A1.523 1.523 0 0 1 7.143 9.66a1.522 1.522 0 0 1-.107-1.552ZM16 11.158v.578a.524.524 0 0 1-.434.509l-.683.12a3.53 3.53 0 0 1-.352.86l.398.568a.524.524 0 0 1-.059.672l-.41.41a.524.524 0 0 1-.672.059l-.563-.403a3.537 3.537 0 0 1-.85.352l-.13.683a.524.524 0 0 1-.51.434h-.577a.524.524 0 0 1-.518-.434l-.12-.683a3.536 3.536 0 0 1-.848-.352l-.568.398a.525.525 0 0 1-.673-.059l-.41-.41a.524.524 0 0 1-.059-.672l.4-.563a3.535 3.535 0 0 1-.352-.85l-.683-.13a.524.524 0 0 1-.434-.518v-.57a.524.524 0 0 1 .434-.517l.683-.12a3.54 3.54 0 0 1 .352-.848l-.398-.567a.524.524 0 0 1 .059-.672l.41-.41a.524.524 0 0 1 .672-.059l.567.398c.266-.154.552-.272.849-.352l.119-.683a.524.524 0 0 1 .518-.434h.578a.524.524 0 0 1 .509.434l.12.683c.3.079.59.197.86.352l.566-.398a.524.524 0 0 1 .673.059l.41.41a.524.524 0 0 1 .058.672l-.401.567c.154.266.272.552.352.849l.683.119a.524.524 0 0 1 .434.518Zm-2.991.289a1.563 1.563 0 1 0-3.126 0 1.563 1.563 0 0 0 3.126 0Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M6.886 5.777a1.105 1.105 0 1 1-2.21 0 1.105 1.105 0 0 1 2.21 0Z\"\n        }\n      )\n    ]\n  }\n);\n\n// src/ui/internal/icons/DeepLinkIcon.tsx\n\nvar DeepLinkIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 10,\n    height: 10,\n    fill: \"none\",\n    viewBox: \"0 0 10 10\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M2.5 1h1.793v1H2.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V5.707h1V7.5A1.5 1.5 0 0 1 7.5 9h-5A1.5 1.5 0 0 1 1 7.5v-5A1.5 1.5 0 0 1 2.5 1Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M9 4H8V2.708l-3 3L4.293 5l3-3H6V1h2.5a.5.5 0 0 1 .5.5V4Z\"\n        }\n      )\n    ]\n  }\n);\n\n// src/ui/internal/icons/ExclamationShieldIcon.tsx\n\n\nvar ExclamationShieldIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"m8.38 1.087 5.483 2.334c.641.291 1.137.904 1.137 1.662-.03 2.916-1.225 8.195-6.241 10.616a1.794 1.794 0 0 1-1.546 0c-5.016-2.42-6.212-7.7-6.212-10.616-.029-.758.467-1.37 1.108-1.662l5.483-2.334a.932.932 0 0 1 .788 0Zm-1.313 10.29c0 .524.408.933.933.933a.94.94 0 0 0 .933-.934.96.96 0 0 0-.933-.933.94.94 0 0 0-.933.934ZM8 4.109a.9.9 0 0 0-.9.9v3.606a.9.9 0 0 0 1.8 0V5.01a.9.9 0 0 0-.9-.9Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/InfoShieldIcon.tsx\n\n\nvar InfoShieldIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M13.863 3.42 8.38 1.088a.932.932 0 0 0-.787 0L2.108 3.421c-.641.291-1.137.904-1.108 1.662 0 2.916 1.196 8.195 6.212 10.616.496.233 1.05.233 1.546 0 5.016-2.42 6.212-7.7 6.241-10.616 0-.758-.496-1.37-1.137-1.662Zm-6.33 7.35h-.582a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h2.216c.379 0 .7-.292.7-.7 0-.38-.321-.7-.7-.7h-.234V8.204c0-.38-.32-.7-.7-.7H7.208a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h.326v1.866Zm-.466-5.133c0 .525.408.933.933.933a.94.94 0 0 0 .933-.933A.96.96 0 0 0 8 4.704a.94.94 0 0 0-.933.933Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/LinkIcon.tsx\n\n\nvar LinkIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"g\", { fill: \"currentColor\", clipPath: \"url(#a)\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { d: \"M7.409 9.774 9.774 7.41a.836.836 0 1 0-1.183-1.183L6.226 8.592A.836.836 0 1 0 7.41 9.774Z\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { d: \"M10.76.503A4.709 4.709 0 0 0 7.41 1.889L5.83 3.467A.836.836 0 1 0 7.014 4.65L8.59 3.072a3.067 3.067 0 0 1 4.338 4.337L11.35 8.987a.835.835 0 1 0 1.182 1.182l1.578-1.577a4.738 4.738 0 0 0-3.35-8.09ZM5.24 15.497a4.706 4.706 0 0 0 3.351-1.386l1.578-1.577a.836.836 0 1 0-1.182-1.183l-1.578 1.578a3.067 3.067 0 1 1-4.337-4.337L4.65 7.014A.836.836 0 1 0 3.467 5.83L1.889 7.41a4.737 4.737 0 0 0 3.351 8.088Z\" })\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"clipPath\", { id: \"a\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { fill: \"#fff\", d: \"M0 0h16v16H0z\" }) }) })\n    ]\n  }\n);\n\n// src/ui/internal/icons/SpinnerDots.tsx\n\n\nvar POINTS = [0, 45, 90, 135, 180, 225, 270, 315];\nvar SpinnerDots = ({\n  width = 16\n}) => {\n  const dots = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => POINTS.map((point, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"circle\",\n      {\n        cy: 12,\n        cx: 12,\n        r: 4,\n        transform: `rotate(${point}, 24, 24)`,\n        fillOpacity: index < 2 ? 0 : 1\n      },\n      point\n    )),\n    []\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"style\", { children: \"@keyframes spin{to{transform:rotate(360deg)}}\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"svg\",\n      {\n        viewBox: \"0 0 48 48\",\n        width,\n        fill: \"currentColor\",\n        \"data-testid\": \"rotating-dots-svg\",\n        \"aria-label\": \"rotating-dots-loading\",\n        style: {\n          animationDuration: \"1s\",\n          animation: \"spin 1s steps(8, end) infinite\"\n        },\n        children: dots\n      }\n    )\n  ] });\n};\n\n// src/ui/internal/Button.tsx\n\n\nvar Button = ({\n  onClick,\n  disabled,\n  variant = \"default\",\n  children,\n  ctaType = \"button\"\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        \"rounded-button text-text relative flex w-full items-center justify-center text-nowrap px-5 py-3 font-semibold transition-colors motion-reduce:transition-none\",\n        {\n          \"bg-button-disabled text-text-button-disabled\": disabled && variant !== \"success\",\n          \"bg-button text-text-button hover:bg-button-hover\": !disabled && variant !== \"success\",\n          \"bg-button-success text-text-button-success\": variant === \"success\"\n          // success is likely to be always disabled\n        }\n      ),\n      disabled,\n      onClick,\n      children: [\n        children,\n        ctaType === \"link\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"absolute right-2 top-2\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          DeepLinkIcon,\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"h-2.5 w-2.5\", {\n              \"text-text-button-disabled\": disabled && variant !== \"success\",\n              \"text-text-button\": !disabled && variant !== \"success\",\n              \"text-text-button-success\": variant === \"success\"\n              // success is likely to be always disabled\n            })\n          }\n        ) })\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionButton.tsx\n\nvar ActionButton = ({\n  text,\n  loading,\n  disabled,\n  variant,\n  onClick,\n  ctaType\n}) => {\n  const ButtonContent = () => {\n    if (loading)\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"span\", { className: \"flex flex-row items-center justify-center gap-2 text-nowrap\", children: [\n        text,\n        \" \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SpinnerDots, {})\n      ] });\n    if (variant === \"success\")\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"span\", { className: \"flex flex-row items-center justify-center gap-2 text-nowrap\", children: [\n        text,\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(CheckIcon, {})\n      ] });\n    return text;\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    Button,\n    {\n      onClick: () => onClick(),\n      disabled,\n      variant,\n      ctaType,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"min-w-0 truncate\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ButtonContent, {}) })\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionCheckboxGroup.tsx\n\n\n\n// src/ui/internal/Checkbox.tsx\n\n\n\n// src/ui/internal/icons/CheckboxCheckIcon.tsx\n\nvar SvgComponent = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M12.6 5.398a.85.85 0 0 1-.001 1.202l-4.784 4.773a.85.85 0 0 1-1.193.008L3.934 8.77a.85.85 0 0 1 1.184-1.22l2.088 2.027 4.192-4.182a.85.85 0 0 1 1.202.002Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\nvar CheckboxCheckIcon_default = SvgComponent;\n\n// src/ui/internal/Checkbox.tsx\n\nvar Checkbox = ({\n  label,\n  value,\n  onChange,\n  name,\n  disabled,\n  inputValue\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const labelId = `${id}_label`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"flex h-full gap-2.5\", {\n        \"cursor-pointer\": !disabled,\n        \"cursor-not-allowed\": disabled\n      }),\n      onClick: () => !disabled && onChange(!value),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex h-full items-center\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"input\",\n            {\n              type: \"checkbox\",\n              name,\n              className: \"hidden\",\n              defaultValue: inputValue\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"span\",\n            {\n              role: \"checkbox\",\n              id,\n              \"aria-labelledby\": labelId,\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-lg border transition-colors motion-reduce:transition-none\",\n                {\n                  \"border-input-stroke bg-input-bg\": !value && !disabled,\n                  \"border-input-stroke-selected bg-input-bg-selected\": value && !disabled,\n                  \"border-input-stroke-disabled bg-input-bg\": !value && disabled,\n                  \"border-input-stroke-disabled bg-input-bg-disabled\": value && disabled\n                }\n              ),\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                CheckboxCheckIcon_default,\n                {\n                  className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"h-full w-full text-input-bg\", {\n                    block: value,\n                    hidden: !value\n                  })\n                }\n              )\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"label\",\n          {\n            className: \"cursor-[inherit] text-text text-text-input\",\n            id: labelId,\n            children: label\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/utils.ts\nvar buildDefaultTextDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Type between ${min} and ${max} characters`;\n  if (min) return `Type minimum ${min} characters`;\n  if (max) return `Type maximum ${max} characters`;\n  return null;\n};\nvar buildDefaultNumberDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Enter a number between ${min} and ${max}`;\n  if (min) return `Enter a number greater than ${min}`;\n  if (max) return `Enter a number less than ${max}`;\n  return null;\n};\nvar buildDefaultDateDescription = ({\n  min,\n  max,\n  includeTime\n}) => {\n  const minDate = min ? new Date(min) : null;\n  const maxDate = max ? new Date(max) : null;\n  const formatter = new Intl.DateTimeFormat(\"en\", {\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: includeTime ? \"numeric\" : void 0,\n    minute: includeTime ? \"numeric\" : void 0\n  });\n  if (minDate && maxDate)\n    return `Pick a date between ${formatter.format(minDate)} and ${formatter.format(maxDate)}`;\n  if (minDate) return `Pick a date after ${formatter.format(minDate)}`;\n  if (maxDate) return `Pick a date before ${formatter.format(maxDate)}`;\n  return null;\n};\nvar buildDefaultCheckboxGroupDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Select between ${min} and ${max} options`;\n  if (min) return `Select minimum ${min} options`;\n  if (max) return `Select maximum ${max} options`;\n  return null;\n};\n\n// src/ui/internal/inputs/ActionCheckboxGroup.tsx\n\nvar validate = (values, { required, min, max }) => {\n  if (required && !values.length) {\n    return false;\n  }\n  if (min && values.length < min) {\n    return false;\n  }\n  if (max && values.length > max) {\n    return false;\n  }\n  return true;\n};\nvar normalizeValue = (value) => {\n  return Object.entries(value).filter(([, v]) => v).map(([k]) => k);\n};\nvar ActionCheckboxGroup = ({\n  placeholder: label,\n  // in base inputs it's placeholder, for selectables - label\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  min,\n  max,\n  description,\n  options = [],\n  required\n}) => {\n  const minChoices = min;\n  const maxChoices = max;\n  const isStandalone = !!button;\n  const finalDescription = description || buildDefaultCheckboxGroupDescription({\n    min: minChoices,\n    max: maxChoices\n  });\n  const hasInitiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    value: Object.fromEntries(\n      options.map((option) => [option.value, option.selected ?? false])\n    ),\n    valid: isStandalone ? !!hasInitiallySelectedOption : !(required && !hasInitiallySelectedOption)\n  });\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(state.valid);\n  }, []);\n  const extendedChange = (name2, value) => {\n    setState((prev) => {\n      const newValue = { ...prev.value, [name2]: value };\n      const normalizedValue2 = normalizeValue(newValue);\n      onChange?.(normalizedValue2);\n      const validity = validate(normalizedValue2, {\n        required: isStandalone,\n        min: minChoices,\n        max: maxChoices\n      });\n      onValidityChange?.(validity);\n      return {\n        value: newValue,\n        valid: validity\n      };\n    });\n    setTouched(true);\n  };\n  const normalizedValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => normalizeValue(state.value),\n    [state.value]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"py-1.5\", {\n        \"bg-bg-secondary rounded-input px-1.5 pt-2\": isStandalone\n      }),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(isStandalone && \"px-2\"), children: [\n          label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mb-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", { className: \"text-subtext text-text-input block font-semibold\", children: [\n            label,\n            required ? \"*\" : \"\"\n          ] }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"pt-2\", {\n                \"flex flex-col gap-3\": !isStandalone,\n                \"grid grid-cols-2 gap-x-4 gap-y-5\": isStandalone\n              }),\n              children: options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: \"inline-flex\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                    Checkbox,\n                    {\n                      label: option.label,\n                      value: state.value[option.value],\n                      inputValue: option.value,\n                      onChange: (value) => extendedChange(option.value, value),\n                      name,\n                      disabled\n                    }\n                  )\n                },\n                `${option.value}_${option.label}`\n              ))\n            }\n          )\n        ] }),\n        isStandalone && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mt-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionButton,\n          {\n            ...button,\n            onClick: () => button.onClick({ [name]: normalizedValue }),\n            disabled: button.disabled || !normalizedValue.length || !state.valid\n          }\n        ) }),\n        finalDescription && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"div\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"text-caption\",\n              touched && !state.valid ? \"text-text-error\" : \"text-text-secondary\",\n              isStandalone ? \"mb-2 mt-2.5 px-2\" : \"mt-3\"\n            ),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: finalDescription })\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionDateInput.tsx\n\n\n// src/ui/internal/icons/CalendarIcon.tsx\n\nvar SvgComponent2 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"g\", { clipPath: \"url(#a)\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          fillRule: \"evenodd\",\n          d: \"M5.805 1.232a.732.732 0 1 0-1.464 0v.37c-.362.006-.685.019-.969.048-.526.055-1.004.174-1.428.468-.29.2-.54.451-.741.74-.294.425-.412.902-.467 1.429-.049.462-.053 1.026-.053 1.7V10.43c0 .99 0 1.808.087 2.454.091.68.29 1.279.77 1.759.48.48 1.08.679 1.759.77.646.087 1.463.087 2.454.087h4.494c.99 0 1.808 0 2.454-.087.68-.091 1.279-.29 1.759-.77.48-.48.679-1.08.77-1.759.087-.646.087-1.463.087-2.454V5.988c0-.675-.004-1.239-.053-1.701-.055-.527-.173-1.004-.467-1.428-.2-.29-.452-.54-.741-.741-.425-.294-.902-.413-1.428-.468-.284-.03-.607-.042-.97-.048v-.37a.732.732 0 0 0-1.463 0v.366h-4.39v-.366Zm8.049 4.756c-.001-.685-.006-1.17-.045-1.55-.043-.406-.12-.607-.215-.746-.1-.145-.226-.27-.371-.37-.14-.097-.34-.174-.747-.216a9.532 9.532 0 0 0-.818-.04v.36a.732.732 0 0 1-1.463 0v-.365h-4.39v.366a.732.732 0 1 1-1.464 0v-.361c-.324.005-.59.016-.817.04-.407.042-.608.119-.747.215-.145.1-.27.226-.37.37-.097.14-.173.34-.216.748-.04.379-.044.864-.045 1.549h11.707ZM2.146 7.45v2.927c0 1.056.002 1.774.074 2.311.07.517.192.756.355.919.163.163.402.285.919.355.537.072 1.255.074 2.31.074h4.391c1.056 0 1.774-.002 2.311-.074.517-.07.756-.192.919-.355.163-.163.285-.402.355-.919.072-.537.074-1.255.074-2.311V7.451H2.146Z\",\n          clipRule: \"evenodd\"\n        }\n      ) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"clipPath\", { id: \"a\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { fill: \"#fff\", d: \"M0 0h16v16H0z\" }) }) })\n    ]\n  }\n);\nvar CalendarIcon_default = SvgComponent2;\n\n// src/ui/internal/inputs/BaseInputContainer.tsx\n\n\n\nvar BaseInputContainer = ({\n  children,\n  leftAdornment,\n  rightAdornment,\n  footer,\n  description,\n  standalone = true\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n      \"div\",\n      {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n          \"border-input-stroke peer relative flex min-h-10 flex-wrap items-center gap-1.5 gap-y-2 border p-1.5 transition-colors motion-reduce:transition-none\",\n          // focus, invalid, required\n          \"focus-within:has-[:invalid]:border-input-stroke-error focus-within:has-[:valid]:border-input-stroke-selected focus-within:hover:has-[:invalid]:border-input-stroke-error focus-within:hover:has-[:valid]:border-input-stroke-selected\",\n          // enabled,\n          \"hover:has-[:enabled]:border-input-stroke-hover\",\n          standalone ? \"rounded-input-standalone\" : \"rounded-input\"\n        ),\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex min-w-0 flex-[10] basis-1/2 items-center gap-1.5 pl-2.5\", children: [\n            leftAdornment && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { children: leftAdornment }),\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(children, {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"bg-input-bg text-text-input placeholder:text-text-input-placeholder disabled:text-text-input-disabled min-h-7 min-w-0 flex-1 truncate outline-none\",\n                children.props.className\n              )\n            })\n          ] }),\n          rightAdornment && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"max-w-full flex-1 whitespace-nowrap\", children: rightAdornment })\n        ]\n      }\n    ),\n    footer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mt-2\", children: footer }),\n    description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"text-caption text-text-secondary peer-[:focus-within:has(:invalid)]:text-text-error mt-1.5 font-medium\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description }) })\n  ] });\n};\n\n// src/ui/internal/inputs/ActionDateInput.tsx\n\nvar ActionDateInput = ({\n  type = \"date\",\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const minDate = min;\n  const maxDate = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      const value2 = e.currentTarget.value;\n      const validity = e.currentTarget.checkValidity();\n      setValue(value2);\n      setValid(validity);\n      onChange?.(value2);\n      onValidityChange?.(validity);\n    },\n    [onChange, onValidityChange]\n  );\n  const placeholderWithRequired = (placeholder || \"Enter a date\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      min: minDate,\n      max: maxDate,\n      pattern,\n      title: description\n    }),\n    [minDate, maxDate, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description: description ?? buildDefaultDateDescription({ min: minDate, max: maxDate }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(CalendarIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern || !touched ? \"text\" : type,\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          onFocus: () => setTouched(true),\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionEmailInput.tsx\n\n\n// src/ui/internal/icons/EmailIcon.tsx\n\nvar SvgComponent3 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M1.361 2.685a.764.764 0 0 0-.157.227A2.986 2.986 0 0 0 .75 4.5v7a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-7c0-.583-.166-1.128-.454-1.588a.75.75 0 0 0-.157-.227A2.995 2.995 0 0 0 12.25 1.5h-8.5c-.975 0-1.841.465-2.389 1.185ZM3.75 3h8.5c.27 0 .522.071.74.195L8.815 6.817a1.25 1.25 0 0 1-1.638-.001l-4.167-3.62C3.227 3.07 3.48 3 3.75 3Zm10 1.522V11.5a1.5 1.5 0 0 1-1.5 1.5h-8.5a1.5 1.5 0 0 1-1.5-1.5V4.524l3.942 3.424a2.75 2.75 0 0 0 3.605.002l3.953-3.428Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\nvar EmailIcon_default = SvgComponent3;\n\n// src/ui/internal/inputs/ActionEmailInput.tsx\n\nvar ActionEmailInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"hello@example.com\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(EmailIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"email\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionNumberInput.tsx\n\n\n// src/ui/internal/icons/NumberIcon.tsx\n\nvar SvgComponent4 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        d: \"M11.721 1a.75.75 0 0 0-.745.664l-.299 2.586h-4.5l.28-2.42a.745.745 0 0 0-1.48-.17l-.3 2.59H1.75a.75.75 0 0 0 0 1.5H4.5l-.515 4.5H1.75a.75.75 0 0 0 0 1.5h2.063l-.28 2.42a.745.745 0 1 0 1.48.17l.3-2.59h4.5l-.28 2.42a.745.745 0 0 0 1.48.17l.3-2.59h2.937a.75.75 0 0 0 0-1.5H11.5l.52-4.5h2.23a.75.75 0 0 0 0-1.5h-2.063l.279-2.414A.75.75 0 0 0 11.721 1Zm-1.736 9.25H5.5l.52-4.5h4.48l-.515 4.5Z\"\n      }\n    )\n  }\n);\nvar NumberIcon_default = SvgComponent4;\n\n// src/ui/internal/inputs/ActionNumberInput.tsx\n\nvar ActionNumberInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      min: !pattern ? min : void 0,\n      max: !pattern ? max : void 0,\n      pattern,\n      title: description\n    }),\n    [min, max, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description: description ?? buildDefaultNumberDescription({\n        min,\n        max\n      }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NumberIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"number\",\n          placeholder: placeholderWithRequired,\n          value,\n          step: \"any\",\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionRadioGroup.tsx\n\n\n\n// src/ui/internal/Radio.tsx\n\n\n\nvar Radio = ({\n  label,\n  value,\n  onChange,\n  name,\n  disabled,\n  inputValue\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const labelId = `${id}_label`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"flex h-full gap-2.5\", {\n        \"cursor-pointer\": !disabled,\n        \"cursor-not-allowed\": disabled\n      }),\n      onClick: () => !disabled && onChange(!value),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex h-full items-center\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"input\",\n            {\n              type: \"radio\",\n              name,\n              className: \"hidden\",\n              defaultValue: inputValue\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              role: \"radio\",\n              id,\n              \"aria-labelledby\": labelId,\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-full border transition-colors motion-reduce:transition-none\",\n                {\n                  \"border-input-stroke bg-input-bg\": !value && !disabled,\n                  \"border-input-stroke-selected bg-input-bg-selected\": value && !disabled,\n                  \"border-input-stroke-disabled bg-input-bg\": !value && disabled,\n                  \"border-input-stroke-disabled bg-input-bg-disabled\": value && disabled\n                }\n              ),\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"aspect-square h-[8px] rounded-full bg-input-bg\", {\n                    invisible: !value\n                  })\n                }\n              )\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"label\",\n          {\n            className: \"cursor-[inherit] text-text text-text-input\",\n            id: labelId,\n            children: label\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionRadioGroup.tsx\n\nvar ActionRadioGroup = ({\n  placeholder: label,\n  // in base inputs it's placeholder, for selectables - label\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  description,\n  options = [],\n  required\n}) => {\n  const isStandalone = !!button;\n  const hasInitiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    options.find((option) => option.selected)?.value ?? \"\"\n  );\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    isStandalone ? !!hasInitiallySelectedOption : !(required && !hasInitiallySelectedOption)\n  );\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (value2) => {\n      setValue(value2);\n      setValid(true);\n      setTouched(true);\n      onChange?.(value2);\n      onValidityChange?.(true);\n    },\n    [onChange, onValidityChange]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"py-1.5\", {\n        \"bg-bg-secondary rounded-input px-1.5 pt-2\": isStandalone\n      }),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(isStandalone && \"px-2\"), children: [\n          label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mb-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", { className: \"text-subtext text-text-input block font-semibold\", children: [\n            label,\n            required ? \"*\" : \"\"\n          ] }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"pt-2\", {\n                \"flex flex-col gap-3\": !isStandalone,\n                \"grid grid-cols-2 gap-x-4 gap-y-5\": isStandalone\n              }),\n              children: options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: \"inline-flex\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                    Radio,\n                    {\n                      label: option.label,\n                      value: option.value === value,\n                      inputValue: option.value,\n                      onChange: () => extendedChange(option.value),\n                      name,\n                      disabled\n                    }\n                  )\n                },\n                `${option.value}_${option.label}`\n              ))\n            }\n          )\n        ] }),\n        isStandalone && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mt-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionButton,\n          {\n            ...button,\n            onClick: () => button.onClick({ [name]: value }),\n            disabled: button.disabled || !value || !isValid\n          }\n        ) }),\n        description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"span\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"text-caption font-medium\",\n              touched && !isValid ? \"text-text-error\" : \"text-text-secondary\",\n              isStandalone ? \"mb-2 mt-2.5\" : \"mt-3\"\n            ),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description })\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionSelect.tsx\n\n\nvar ActionSelect = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  description,\n  required,\n  options = []\n}) => {\n  const isStandalone = !!button;\n  const placeholderValueId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const placeholderWithRequired = (placeholder || \"Select...\") + (required ? \"*\" : \"\");\n  const initiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    initiallySelectedOption?.value ?? placeholderValueId\n  );\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    isStandalone ? !!initiallySelectedOption : !(required && !initiallySelectedOption)\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity() && placeholderValueId !== value2;\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description,\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n        \"select\",\n        {\n          className: \"mr-1.5 cursor-pointer\",\n          value,\n          onChange: extendedChange,\n          required: button ? true : required,\n          disabled,\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", { disabled: true, value: placeholderValueId, children: placeholderWithRequired }),\n            options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", { value: option.value, children: option.label }, `${option.value}_${option.label}`))\n          ]\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionTextArea.tsx\n\n\nvar ActionTextArea = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      title: description\n    }),\n    [minLength, maxLength, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: false,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      footer: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"textarea\",\n        {\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          rows: 3,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionTextInput.tsx\n\n\nvar ActionTextInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          type: \"text\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionUrlInput.tsx\n\n\nvar ActionUrlInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"https://\") + (required ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(LinkIcon, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"url\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/layouts/presets.ts\nvar themeClassMap = {\n  default: \"dial-light\",\n  \"x-dark\": \"x-dark\",\n  \"x-light\": \"x-light\",\n  custom: \"custom\"\n};\n\n// src/ui/layouts/BaseBlinkLayout.tsx\n\nvar Linkable = ({\n  url,\n  className,\n  children\n}) => url ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"a\",\n  {\n    href: url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className,\n    children\n  }\n) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children });\nvar NotSupportedBlock = ({\n  message,\n  className\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        \"bg-bg-secondary text-subtext text-text-secondary rounded-xl border border-none p-3\"\n      ),\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-row gap-2\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigIcon, { className: \"text-icon-primary\" }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-col justify-center gap-[3px]\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"a\", { className: \"font-semibold\", children: \"This action is not supported\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", { children: message })\n        ] })\n      ] })\n    }\n  ) });\n};\nvar DisclaimerBlock = ({\n  type,\n  hidden,\n  ignorable,\n  onSkip,\n  className\n}) => {\n  if (type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED && !hidden) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Snackbar, { variant: \"error\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"p\", { children: [\n        \"This Action or it's origin has been flagged as an unsafe action, & has been blocked. If you believe this action has been blocked in error, please\",\n        \" \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"a\",\n          {\n            href: \"https://discord.gg/saydialect\",\n            className: \"cursor-pointer underline\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"submit an issue\"\n          }\n        ),\n        \".\",\n        !ignorable && \" Your action provider blocks execution of this action.\"\n      ] }),\n      ignorable && onSkip && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"button\",\n        {\n          className: \"hover:text-text-error-hover mt-3 font-semibold transition-colors motion-reduce:transition-none\",\n          onClick: onSkip,\n          children: \"Ignore warning & proceed\"\n        }\n      )\n    ] }) });\n  }\n  if (type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.UNKNOWN) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Snackbar, { variant: \"warning\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"p\", { children: [\n        \"This Action has not yet been registered. Only use it if you trust the source. This Action will not unfurl on X until it is registered.\",\n        !ignorable && \" Your action provider blocks execution of this action.\"\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"a\",\n        {\n          className: \"hover:text-text-warning-hover mt-3 inline-block font-semibold transition-colors motion-reduce:transition-none\",\n          href: \"https://discord.gg/saydialect\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Report\"\n        }\n      )\n    ] }) });\n  }\n  return null;\n};\nvar BaseBlinkLayout = ({\n  stylePreset = \"default\",\n  title,\n  description,\n  image,\n  websiteUrl,\n  websiteText,\n  securityState,\n  disclaimer,\n  buttons,\n  inputs,\n  form,\n  error,\n  success,\n  supportability,\n  id\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink\", themeClassMap[stylePreset]), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"border-stroke-primary bg-bg-primary shadow-action w-full cursor-default overflow-hidden rounded-2xl border\", children: [\n    image && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      Linkable,\n      {\n        url: websiteUrl,\n        className: \"block max-h-[100cqw] overflow-y-hidden px-5 pt-5\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"img\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"aspect-auto w-full rounded-xl object-cover object-center\"\n            ),\n            src: image,\n            alt: \"action-image\"\n          }\n        )\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-col p-5\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"mb-1 flex items-center gap-2\", children: [\n        websiteUrl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n          \"a\",\n          {\n            href: websiteUrl,\n            target: \"_blank\",\n            className: \"text-subtext group flex min-w-0 items-center gap-2 hover:cursor-pointer\",\n            rel: \"noopener noreferrer\",\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(LinkIcon, { className: \"text-icon-primary group-hover:text-icon-primary-hover h-4 min-w-4 transition-colors motion-reduce:transition-none\" }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-text-link group-hover:text-text-link-hover mt-[1px] block min-w-0 truncate transition-colors group-hover:underline motion-reduce:transition-none\", children: websiteText ?? websiteUrl })\n            ]\n          }\n        ),\n        websiteText && !websiteUrl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-link min-w-0 truncate\", children: websiteText }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n          \"a\",\n          {\n            href: \"https://docs.dialect.to/documentation/actions/security\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"mb-0.5 flex items-center\",\n            children: [\n              securityState === \"malicious\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"error\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ExclamationShieldIcon, { width: 13, height: 13 }),\n                  children: \"Blocked\"\n                }\n              ),\n              securityState === \"trusted\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"default\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InfoShieldIcon, { width: 13, height: 13 })\n                }\n              ),\n              securityState === \"unknown\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"warning\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InfoShieldIcon, { width: 13, height: 13 })\n                }\n              )\n            ]\n          }\n        )\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-text text-text-primary mb-1.5 break-words font-semibold\", children: title }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-secondary mb-4 break-words\", children: description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description }) }),\n      !supportability.isSupported ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NotSupportedBlock, { message: supportability.message }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [\n        disclaimer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          DisclaimerBlock,\n          {\n            className: \"mb-4\",\n            type: disclaimer.type,\n            ignorable: disclaimer.ignorable,\n            hidden: disclaimer.type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED ? disclaimer.hidden : false,\n            onSkip: disclaimer.type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED ? disclaimer.onSkip : void 0\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionContent,\n          {\n            form,\n            inputs,\n            buttons\n          },\n          id\n        ),\n        success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-success mt-1.5 flex justify-center\", children: success }),\n        error && !success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-error mt-1.5 flex justify-center\", children: error })\n      ] })\n    ] })\n  ] }) });\n};\nvar ActionContent = ({\n  form,\n  inputs,\n  buttons\n}) => {\n  if (form) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionForm, { form });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-col gap-4\", children: [\n    buttons && buttons.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"flex flex-wrap items-center gap-2\", children: buttons?.map((it, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"div\",\n      {\n        className: \"flex flex-grow basis-[calc(33.333%-2*4px)]\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionButton, { ...it })\n      },\n      index\n    )) }),\n    inputs?.map((input) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionInputFactory, { ...input }, input.name))\n  ] });\n};\nvar buildDefaultFormValues = (inputs) => {\n  return Object.fromEntries(\n    inputs.map((i) => {\n      if (i.type === \"checkbox\") {\n        return [\n          i.name,\n          i.options?.filter((o) => o.selected).map((o) => o.value)\n        ];\n      }\n      return i.type === \"radio\" || i.type === \"select\" ? [i.name, i.options?.find((o) => o.selected)?.value] : null;\n    }).filter((i) => !!i)\n  );\n};\nvar ActionForm = ({ form }) => {\n  const [values, setValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    buildDefaultFormValues(form.inputs)\n  );\n  const [validity, setValidity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    Object.fromEntries(form.inputs.map((i) => [i.name, false]))\n  );\n  const onChange = (name, value) => {\n    setValues((prev) => ({ ...prev, [name]: value }));\n  };\n  const onValidityChange = (name, state) => {\n    setValidity((prev) => ({ ...prev, [name]: state }));\n  };\n  const disabled = Object.values(validity).some((v) => !v);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-col gap-3\", children: [\n    form.inputs.map((input) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      ActionInputFactory,\n      {\n        ...input,\n        onChange: (v) => onChange(input.name, v),\n        onValidityChange: (v) => onValidityChange(input.name, v)\n      },\n      input.name\n    )),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      ActionButton,\n      {\n        ...form.button,\n        onClick: () => form.button.onClick(values),\n        disabled: form.button.disabled || disabled\n      }\n    )\n  ] });\n};\nvar ActionInputFactory = (input) => {\n  switch (input.type) {\n    case \"checkbox\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionCheckboxGroup, { ...input });\n    case \"radio\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionRadioGroup, { ...input });\n    case \"date\":\n    case \"datetime-local\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionDateInput, { ...input, type: input.type });\n    case \"select\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionSelect, { ...input });\n    case \"email\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionEmailInput, { ...input });\n    case \"number\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionNumberInput, { ...input });\n    case \"url\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionUrlInput, { ...input });\n    case \"textarea\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionTextArea, { ...input });\n    default:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionTextInput, { ...input });\n  }\n};\n\n// src/ui/Blink.tsx\n\nvar Blink = ({\n  _Layout: Layout = NormalizedBaseBlinkLayout,\n  stylePreset,\n  ...props\n}) => {\n  const LayoutWithPreset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (props2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Layout, { ...props2, stylePreset }),\n    [Layout, stylePreset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.BlinkContainer,\n    {\n      ...props,\n      selector: void 0,\n      Layout: LayoutWithPreset\n    }\n  );\n};\nvar NormalizedBaseBlinkLayout = (props) => {\n  const normalizedProps = useLayoutPropNormalizer(props);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(BaseBlinkLayout, { ...normalizedProps });\n};\n\n// src/ui/Miniblink.tsx\n\n\n\n// src/ui/internal/hooks/useIsolatedLayoutPropNormalizer.ts\n\n\nvar SOFT_LIMIT_FORM_INPUTS2 = 10;\nvar useIsolatedLayoutPropNormalizer = ({\n  executeFn,\n  executionStatus,\n  executingAction,\n  action,\n  component,\n  caption,\n  ...props\n}) => {\n  const asButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it) => {\n      return {\n        text: buttonLabelMap[executionStatus] ?? it.label,\n        loading: executionStatus === \"executing\" && it === executingAction,\n        disabled: action.disabled || action.type === \"completed\" || executionStatus !== \"idle\",\n        variant: buttonVariantMap[action.type === \"completed\" ? \"success\" : executionStatus],\n        ctaType: it.type === \"external-link\" && (executionStatus === \"idle\" || executionStatus === \"blocked\") ? \"link\" : \"button\",\n        onClick: async (params) => {\n          const extra = await executeFn(it.parentComponent ?? it, params);\n          if (!extra) {\n            return;\n          }\n          if (extra.type === \"external-link\") {\n            const result = window.confirm(\n              `This action redirects to another website: ${extra.data.externalLink}, the link will open in a new tab of your browser`\n            );\n            if (result) {\n              window.open(\n                extra.data.externalLink,\n                \"_blank\",\n                \"norefferer,noopener\"\n              );\n              return extra.onNext();\n            }\n            return extra.onCancel?.();\n          }\n        }\n      };\n    },\n    [action.disabled, action.type, executeFn, executingAction, executionStatus]\n  );\n  const asInputProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it, { placement } = {\n      placement: \"standalone\"\n    }) => {\n      return {\n        type: it.parameter.type ?? \"text\",\n        placeholder: it.parameter.label,\n        disabled: action.disabled || action.type === \"completed\" || executionStatus !== \"idle\",\n        name: it.parameter.name,\n        required: it.parameter.required,\n        min: it.parameter.min,\n        max: it.parameter.max,\n        pattern: it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent && (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isPatternAllowed)(it.parameter) ? it.parameter.pattern : void 0,\n        options: (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isParameterSelectable)(it.parameter) ? it.parameter.options : void 0,\n        description: it.parameter.patternDescription,\n        button: placement === \"standalone\" ? asButtonProps(it.toButtonActionComponent()) : void 0\n      };\n    },\n    [action.disabled, action.type, asButtonProps, executionStatus]\n  );\n  const asFormProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it) => {\n      return {\n        button: asButtonProps(it.toButtonActionComponent()),\n        inputs: it.parameters.toSpliced(SOFT_LIMIT_FORM_INPUTS2).map(\n          (parameter) => asInputProps(it.toInputActionComponent(parameter.name), {\n            placement: \"form\"\n          })\n        )\n      };\n    },\n    [asButtonProps, asInputProps]\n  );\n  const elementProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!component) {\n      return null;\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent || component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.MultiValueActionComponent) {\n      return {\n        elementType: \"input\",\n        element: asInputProps(component)\n      };\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.FormActionComponent) {\n      return { elementType: \"form\", element: asFormProps(component) };\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.ButtonActionComponent) {\n      return {\n        elementType: \"button\",\n        element: asButtonProps(component)\n      };\n    }\n    return null;\n  }, [asButtonProps, asFormProps, asInputProps, component]);\n  const normalizedCaption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!caption) {\n      return {};\n    }\n    if (caption.type === \"success\") {\n      return {\n        success: caption.text\n      };\n    }\n    if (caption.type === \"error\") {\n      return {\n        error: caption.text\n      };\n    }\n    return {};\n  }, [caption]);\n  if (!elementProps) {\n    return null;\n  }\n  return {\n    ...props,\n    websiteText: props.websiteText ?? props.websiteUrl ?? action.url,\n    ...elementProps,\n    ...normalizedCaption\n  };\n};\n\n// src/ui/layouts/IsolatedBlinkLayout.tsx\n\n\n\nvar IsolatedBlinkLayout = ({\n  stylePreset = \"default\",\n  id,\n  success,\n  error,\n  ...props\n}) => {\n  const element = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (props.elementType === \"form\") {\n      return { form: props.element };\n    }\n    if (props.elementType === \"button\") {\n      return { buttons: [props.element] };\n    }\n    if (props.elementType === \"input\") {\n      return { inputs: [props.element] };\n    }\n    return {};\n  }, [props.element, props.elementType]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink w-full\", themeClassMap[stylePreset]), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionContent, { ...element }, id),\n    success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-success mt-1.5 flex justify-center\", children: success }),\n    error && !success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-subtext text-text-error mt-1.5 flex justify-center\", children: error })\n  ] });\n};\n\n// src/ui/Miniblink.tsx\n\nvar Miniblink = ({\n  _Layout: Layout = NormalizedIsolatedBlinkLayout,\n  stylePreset,\n  ...props\n}) => {\n  const LayoutWithPreset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (props2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Layout, { ...props2, stylePreset }),\n    [Layout, stylePreset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.BlinkContainer, { ...props, securityLevel: \"all\", Layout: LayoutWithPreset });\n};\nvar NormalizedIsolatedBlinkLayout = (props) => {\n  const normalizedProps = useIsolatedLayoutPropNormalizer(props);\n  if (!normalizedProps) {\n    console.warn(\n      \"[@dialectlabs/blinks] No `selector` prop provided for Miniblink\"\n    );\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(IsolatedBlinkLayout, { ...normalizedProps });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2NodW5rLU1BNU1INU9RLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBR2tDO0FBQ2tCOztBQUVwRDtBQVFrQztBQUNGOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxpREFBaUQsSUFBSTtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBa0IsOENBQU87QUFDekIsdURBQXVELDJFQUFxQjtBQUM1RTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFPO0FBQ3hCO0FBQ0EsNEJBQTRCLGdGQUEwQixrQkFBa0IsK0VBQXlCO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOENBQU87QUFDdEIseUVBQXlFLHlFQUFtQjtBQUM1RjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsWUFBWTtBQUMxQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdGQUEwQixJQUFJLDBFQUFnQjtBQUMzRSxlQUFlLCtFQUFxQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOENBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUssV0FBVyx3QkFBd0I7QUFDeEU7QUFDQTtBQUNBLHlCQUF5QixzREFBSyxDQUFDLG9FQUFlLElBQUksMERBQTBEO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzREFBSyx3QkFBd0Isb0JBQW9CO0FBQzFFOztBQU9FIiwic291cmNlcyI6WyIvVXNlcnMvQ2lhbi9EZXNrdG9wL0ZPTW9sdDNEL2FwcC9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2NodW5rLU1BNU1INU9RLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91aS9CbGluay50c3hcbmltcG9ydCB7XG4gIEJsaW5rQ29udGFpbmVyXG59IGZyb20gXCJAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaG9va3MvdXNlTGF5b3V0UHJvcE5vcm1hbGl6ZXIudHN4XG5pbXBvcnQge1xuICBCdXR0b25BY3Rpb25Db21wb25lbnQsXG4gIEZvcm1BY3Rpb25Db21wb25lbnQsXG4gIGlzUGFyYW1ldGVyU2VsZWN0YWJsZSxcbiAgaXNQYXR0ZXJuQWxsb3dlZCxcbiAgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudCxcbiAgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnRcbn0gZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvdXRpbHMudHNcbnZhciBjb25maXJtTGlua1RyYW5zaXRpb24gPSAodXJsKSA9PiB7XG4gIHJldHVybiB3aW5kb3cuY29uZmlybShcbiAgICBgVGhpcyBhY3Rpb24gcmVkaXJlY3RzIHRvIGFub3RoZXIgd2Vic2l0ZTogJHt1cmx9LCB0aGUgbGluayB3aWxsIG9wZW4gaW4gYSBuZXcgdGFiIG9mIHlvdXIgYnJvd3NlcmBcbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9ob29rcy91aS1tYXBwZXJzLnRzXG52YXIgYnV0dG9uVmFyaWFudE1hcCA9IHtcbiAgXCJjaGVja2luZy1zdXBwb3J0YWJpbGl0eVwiOiBcImRlZmF1bHRcIixcbiAgYmxvY2tlZDogXCJkZWZhdWx0XCIsXG4gIGlkbGU6IFwiZGVmYXVsdFwiLFxuICBleGVjdXRpbmc6IFwiZGVmYXVsdFwiLFxuICBzdWNjZXNzOiBcInN1Y2Nlc3NcIixcbiAgZXJyb3I6IFwiZXJyb3JcIlxufTtcbnZhciBidXR0b25MYWJlbE1hcCA9IHtcbiAgXCJjaGVja2luZy1zdXBwb3J0YWJpbGl0eVwiOiBcIkxvYWRpbmdcIixcbiAgYmxvY2tlZDogbnVsbCxcbiAgaWRsZTogbnVsbCxcbiAgZXhlY3V0aW5nOiBcIkV4ZWN1dGluZ1wiLFxuICBzdWNjZXNzOiBcIkNvbXBsZXRlZFwiLFxuICBlcnJvcjogXCJGYWlsZWRcIlxufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2hvb2tzL3VzZUxheW91dFByb3BOb3JtYWxpemVyLnRzeFxudmFyIFNPRlRfTElNSVRfQlVUVE9OUyA9IDEwO1xudmFyIFNPRlRfTElNSVRfSU5QVVRTID0gMztcbnZhciBTT0ZUX0xJTUlUX0ZPUk1fSU5QVVRTID0gMTA7XG52YXIgdXNlTGF5b3V0UHJvcE5vcm1hbGl6ZXIgPSAoe1xuICBleGVjdXRlRm4sXG4gIGV4ZWN1dGlvblN0YXR1cyxcbiAgZXhlY3V0aW5nQWN0aW9uLFxuICBhY3Rpb24sXG4gIGNhcHRpb24sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IGFjdGlvbj8uYWN0aW9ucy5maWx0ZXIoKGl0KSA9PiBpdCBpbnN0YW5jZW9mIEJ1dHRvbkFjdGlvbkNvbXBvbmVudCkuZmlsdGVyKChpdCkgPT4gZXhlY3V0aW5nQWN0aW9uID8gZXhlY3V0aW5nQWN0aW9uID09PSBpdCA6IHRydWUpLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0JVVFRPTlMpID8/IFtdLFxuICAgIFthY3Rpb24sIGV4ZWN1dGluZ0FjdGlvbl1cbiAgKTtcbiAgY29uc3QgaW5wdXRzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBhY3Rpb24/LmFjdGlvbnMuZmlsdGVyKFxuICAgICAgKGl0KSA9PiBpdCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50IHx8IGl0IGluc3RhbmNlb2YgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudFxuICAgICkuZmlsdGVyKChpdCkgPT4gZXhlY3V0aW5nQWN0aW9uID8gZXhlY3V0aW5nQWN0aW9uID09PSBpdCA6IHRydWUpLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0lOUFVUUykgPz8gW10sXG4gICAgW2FjdGlvbiwgZXhlY3V0aW5nQWN0aW9uXVxuICApO1xuICBjb25zdCBmb3JtID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgW2Zvcm1Db21wb25lbnRdID0gYWN0aW9uPy5hY3Rpb25zLmZpbHRlcigoaXQpID0+IGl0IGluc3RhbmNlb2YgRm9ybUFjdGlvbkNvbXBvbmVudCkuZmlsdGVyKChpdCkgPT4gZXhlY3V0aW5nQWN0aW9uID8gZXhlY3V0aW5nQWN0aW9uID09PSBpdCA6IHRydWUpID8/IFtdO1xuICAgIHJldHVybiBmb3JtQ29tcG9uZW50O1xuICB9LCBbYWN0aW9uLCBleGVjdXRpbmdBY3Rpb25dKTtcbiAgY29uc3QgYXNCdXR0b25Qcm9wcyA9IChpdCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBidXR0b25MYWJlbE1hcFtleGVjdXRpb25TdGF0dXNdID8/IGl0LmxhYmVsLFxuICAgICAgbG9hZGluZzogZXhlY3V0aW9uU3RhdHVzID09PSBcImV4ZWN1dGluZ1wiICYmIGl0ID09PSBleGVjdXRpbmdBY3Rpb24sXG4gICAgICBkaXNhYmxlZDogYWN0aW9uLmRpc2FibGVkIHx8IGFjdGlvbi50eXBlID09PSBcImNvbXBsZXRlZFwiIHx8IGV4ZWN1dGlvblN0YXR1cyAhPT0gXCJpZGxlXCIsXG4gICAgICB2YXJpYW50OiBidXR0b25WYXJpYW50TWFwW2FjdGlvbi50eXBlID09PSBcImNvbXBsZXRlZFwiID8gXCJzdWNjZXNzXCIgOiBleGVjdXRpb25TdGF0dXNdLFxuICAgICAgY3RhVHlwZTogaXQudHlwZSA9PT0gXCJleHRlcm5hbC1saW5rXCIgJiYgKGV4ZWN1dGlvblN0YXR1cyA9PT0gXCJpZGxlXCIgfHwgZXhlY3V0aW9uU3RhdHVzID09PSBcImJsb2NrZWRcIikgPyBcImxpbmtcIiA6IFwiYnV0dG9uXCIsXG4gICAgICBvbkNsaWNrOiBhc3luYyAocGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4dHJhID0gYXdhaXQgZXhlY3V0ZUZuKGl0LnBhcmVudENvbXBvbmVudCA/PyBpdCwgcGFyYW1zKTtcbiAgICAgICAgaWYgKCFleHRyYSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmEudHlwZSA9PT0gXCJleHRlcm5hbC1saW5rXCIpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjb25maXJtTGlua1RyYW5zaXRpb24oZXh0cmEuZGF0YS5leHRlcm5hbExpbmspO1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKFxuICAgICAgICAgICAgICBleHRyYS5kYXRhLmV4dGVybmFsTGluayxcbiAgICAgICAgICAgICAgXCJfYmxhbmtcIixcbiAgICAgICAgICAgICAgXCJub3JlZmZlcmVyLG5vb3BlbmVyXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gZXh0cmEub25OZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBleHRyYS5vbkNhbmNlbD8uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBhc0lucHV0UHJvcHMgPSAoaXQsIHsgcGxhY2VtZW50IH0gPSB7XG4gICAgcGxhY2VtZW50OiBcInN0YW5kYWxvbmVcIlxuICB9KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGl0LnBhcmFtZXRlci50eXBlID8/IFwidGV4dFwiLFxuICAgICAgcGxhY2Vob2xkZXI6IGl0LnBhcmFtZXRlci5sYWJlbCxcbiAgICAgIGRpc2FibGVkOiBhY3Rpb24uZGlzYWJsZWQgfHwgYWN0aW9uLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgZXhlY3V0aW9uU3RhdHVzICE9PSBcImlkbGVcIixcbiAgICAgIG5hbWU6IGl0LnBhcmFtZXRlci5uYW1lLFxuICAgICAgcmVxdWlyZWQ6IGl0LnBhcmFtZXRlci5yZXF1aXJlZCxcbiAgICAgIG1pbjogaXQucGFyYW1ldGVyLm1pbixcbiAgICAgIG1heDogaXQucGFyYW1ldGVyLm1heCxcbiAgICAgIHBhdHRlcm46IGl0IGluc3RhbmNlb2YgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQgJiYgaXNQYXR0ZXJuQWxsb3dlZChpdC5wYXJhbWV0ZXIpID8gaXQucGFyYW1ldGVyLnBhdHRlcm4gOiB2b2lkIDAsXG4gICAgICBvcHRpb25zOiBpc1BhcmFtZXRlclNlbGVjdGFibGUoaXQucGFyYW1ldGVyKSA/IGl0LnBhcmFtZXRlci5vcHRpb25zIDogdm9pZCAwLFxuICAgICAgZGVzY3JpcHRpb246IGl0LnBhcmFtZXRlci5wYXR0ZXJuRGVzY3JpcHRpb24sXG4gICAgICBidXR0b246IHBsYWNlbWVudCA9PT0gXCJzdGFuZGFsb25lXCIgPyBhc0J1dHRvblByb3BzKGl0LnRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkpIDogdm9pZCAwXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgYXNGb3JtUHJvcHMgPSAoaXQpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgYnV0dG9uOiBhc0J1dHRvblByb3BzKGl0LnRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkpLFxuICAgICAgaW5wdXRzOiBpdC5wYXJhbWV0ZXJzLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0ZPUk1fSU5QVVRTKS5tYXAoXG4gICAgICAgIChwYXJhbWV0ZXIpID0+IGFzSW5wdXRQcm9wcyhpdC50b0lucHV0QWN0aW9uQ29tcG9uZW50KHBhcmFtZXRlci5uYW1lKSwge1xuICAgICAgICAgIHBsYWNlbWVudDogXCJmb3JtXCJcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9O1xuICB9O1xuICBjb25zdCBub3JtYWxpemVkQ2FwdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghY2FwdGlvbikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAoY2FwdGlvbi50eXBlID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogY2FwdGlvbi50ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoY2FwdGlvbi50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBjYXB0aW9uLnRleHRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfSwgW2NhcHRpb25dKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcm9wcyxcbiAgICB0aXRsZTogYWN0aW9uLnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgaW1hZ2U6IGFjdGlvbi5pY29uLFxuICAgIGJ1dHRvbnM6IGJ1dHRvbnMubWFwKGFzQnV0dG9uUHJvcHMpLFxuICAgIGlucHV0czogaW5wdXRzLm1hcCgoaSkgPT4gYXNJbnB1dFByb3BzKGkpKSxcbiAgICBmb3JtOiBmb3JtID8gYXNGb3JtUHJvcHMoZm9ybSkgOiB2b2lkIDAsXG4gICAgd2Vic2l0ZVRleHQ6IHByb3BzLndlYnNpdGVUZXh0ID8/IHByb3BzLndlYnNpdGVVcmwgPz8gYWN0aW9uLnVybCxcbiAgICAuLi5ub3JtYWxpemVkQ2FwdGlvblxuICB9O1xufTtcblxuLy8gc3JjL3VpL2xheW91dHMvQmFzZUJsaW5rTGF5b3V0LnRzeFxuaW1wb3J0IHtcbiAgRGlzY2xhaW1lclR5cGVcbn0gZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuaW1wb3J0IGNsc3g5IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTEwIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9CYWRnZS50c3hcbmltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciB2YXJpYW50Q2xhc3NlcyA9IHtcbiAgZXJyb3I6IHtcbiAgICBjb250YWluZXI6IFwiZ3JvdXAgYmctdHJhbnNwYXJlbnQtZXJyb3JcIixcbiAgICB0ZXh0OiBcInRleHQtdGV4dC1lcnJvciBncm91cC1ob3Zlcjp0ZXh0LXRleHQtZXJyb3ItaG92ZXJcIixcbiAgICBpY29uOiBcInRleHQtaWNvbi1lcnJvciBncm91cC1ob3Zlcjp0ZXh0LWljb24tZXJyb3ItaG92ZXJcIlxuICB9LFxuICB3YXJuaW5nOiB7XG4gICAgY29udGFpbmVyOiBcImdyb3VwIGJnLXRyYW5zcGFyZW50LXdhcm5pbmdcIixcbiAgICB0ZXh0OiBcInRleHQtdGV4dC13YXJuaW5nIGdyb3VwLWhvdmVyOnRleHQtdGV4dC13YXJuaW5nLWhvdmVyXCIsXG4gICAgaWNvbjogXCJ0ZXh0LWljb24td2FybmluZyBncm91cC1ob3Zlcjp0ZXh0LWljb24td2FybmluZy1ob3ZlclwiXG4gIH0sXG4gIGRlZmF1bHQ6IHtcbiAgICBjb250YWluZXI6IFwiZ3JvdXAgYmctdHJhbnNwYXJlbnQtZ3JleVwiLFxuICAgIHRleHQ6IFwidGV4dC10ZXh0LXByaW1hcnkgZ3JvdXAtaG92ZXI6dGV4dC10ZXh0LXByaW1hcnktaG92ZXJcIixcbiAgICBpY29uOiBcInRleHQtaWNvbi1wcmltYXJ5IGdyb3VwLWhvdmVyOnRleHQtaWNvbi1wcmltYXJ5LWhvdmVyXCJcbiAgfVxufTtcbnZhciBCYWRnZSA9ICh7XG4gIHZhcmlhbnQgPSBcImRlZmF1bHRcIixcbiAgY2hpbGRyZW4sXG4gIGNsYXNzTmFtZSxcbiAgaWNvblxufSkgPT4ge1xuICBjb25zdCB7IGNvbnRhaW5lciwgaWNvbjogaWNvbkNsYXNzTmFtZXMsIHRleHQgfSA9IHZhcmlhbnRDbGFzc2VzW3ZhcmlhbnRdO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNsc3goXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgXCJ0ZXh0LXN1YnRleHQgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xIHJvdW5kZWQtZnVsbCBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZVwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHtcbiAgICAgICAgICBcImFzcGVjdC1zcXVhcmUgcC0xXCI6ICFjaGlsZHJlbiAmJiBpY29uLFxuICAgICAgICAgIFwicHgtMS41IHB5LTFcIjogY2hpbGRyZW5cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGNoaWxkcmVuICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4KFxuICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICBcIm10LTAuNSB0cmFuc2l0aW9uLWNvbG9ycyBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGljb24gJiYgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeChcbiAgICAgICAgICAgICAgaWNvbkNsYXNzTmFtZXMsXG4gICAgICAgICAgICAgIFwidHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpY29uXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL1NpbXBsZU1hcmtkb3duLnRzeFxuaW1wb3J0IE1hcmtkb3duLCB7IFJ1bGVUeXBlLCBzYW5pdGl6ZXIgfSBmcm9tIFwibWFya2Rvd24tdG8tanN4XCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBMaW5rV2l0aENvbmZpcm0gPSAoe1xuICBocmVmLFxuICB0aXRsZSxcbiAgY2hpbGRyZW5cbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgIFwiYVwiLFxuICAgIHtcbiAgICAgIGhyZWYsXG4gICAgICBjbGFzc05hbWU6IFwidGV4dC10ZXh0LWxpbmsgaG92ZXI6dGV4dC10ZXh0LWxpbmstaG92ZXIgdW5kZXJsaW5lIHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIsXG4gICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICB0aXRsZSxcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgIGlmICghY29uZmlybUxpbmtUcmFuc2l0aW9uKGhyZWYpKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufTtcbnZhciBTaW1wbGVNYXJrZG93biA9ICh7IHRleHQgfSkgPT4ge1xuICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICBNYXJrZG93bixcbiAgICB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRpc2FibGVQYXJzaW5nUmF3SFRNTDogdHJ1ZSxcbiAgICAgICAgc2x1Z2lmeTogKHN0cikgPT4gYCR7c3RyfS0ke2lkfWAsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXR1cm4gdHlwZSBSZWFjdENoaWxkIGlzIGRlcHJlY2F0ZWQsIGFzc3VtaW5nIFJlYWN0Tm9kZVxuICAgICAgICByZW5kZXJSdWxlKG5leHQsIG5vZGUsIHJlbmRlckNoaWxkcmVuLCBzdGF0ZSkge1xuICAgICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLmltYWdlOlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUuZ2ZtVGFzazpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJtYi1bMC4xMjVlbV0gaW5saW5lLWJsb2NrXCIsIGNoaWxkcmVuOiBub2RlLmNvbXBsZXRlZCA/IFwiXFx1MjcwNVwiIDogXCJcXHUyQjFDXCIgfSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLmxpbms6XG4gICAgICAgICAgICAgIGNvbnN0IHNhbml0aXplZEhyZWYgPSBzYW5pdGl6ZXIobm9kZS50YXJnZXQpO1xuICAgICAgICAgICAgICBpZiAoc2FuaXRpemVkSHJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICAgICAgICAgICAgICAgIExpbmtXaXRoQ29uZmlybSxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogc2FuaXRpemVkSHJlZixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5vZGUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiByZW5kZXJDaGlsZHJlbihub2RlLmNoaWxkcmVuLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5rZXlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcInNwYW5cIiwgeyBjaGlsZHJlbjogcmVuZGVyQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgc3RhdGUpIH0sIHN0YXRlLmtleSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLmhlYWRpbmc6XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLnBhcmFncmFwaDpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwicFwiLCB7IGNsYXNzTmFtZTogXCJtYi1bMC4zNWVtXSBsYXN0Om1iLTBcIiwgY2hpbGRyZW46IHJlbmRlckNoaWxkcmVuKG5vZGUuY2hpbGRyZW4sIHN0YXRlKSB9LCBzdGF0ZS5rZXkpO1xuICAgICAgICAgICAgY2FzZSBSdWxlVHlwZS5ibG9ja1F1b3RlOlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJibG9ja3F1b3RlXCIsIHsgY2xhc3NOYW1lOiBcIm1iLVswLjM1ZW1dIGxhc3Q6bWItMFwiLCBjaGlsZHJlbjogcmVuZGVyQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgc3RhdGUpIH0sIHN0YXRlLmtleSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLmNvZGVCbG9jazpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwicHJlXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtd3JhcFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIoXCJjb2RlXCIsIHsgY2hpbGRyZW46IG5vZGUudGV4dCB9KSB9LCBzdGF0ZS5rZXkpO1xuICAgICAgICAgICAgY2FzZSBSdWxlVHlwZS5vcmRlcmVkTGlzdDpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgICAgICAgICAgIFwib2xcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibGlzdC1pbnNpZGUgbGlzdC1kZWNpbWFsIFtsaT4mXTpwcy00XCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogbm9kZS5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MihcImxpXCIsIHsgY2hpbGRyZW46IHJlbmRlckNoaWxkcmVuKGl0ZW0sIHN0YXRlKSB9LCBpbmRleCkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5rZXlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUudW5vcmRlcmVkTGlzdDpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgICAgICAgICAgIFwidWxcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibGlzdC1pbnNpZGUgbGlzdC1kaXNjIFtsaT4mXTpwcy00XCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogbm9kZS5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MihcImxpXCIsIHsgY2hpbGRyZW46IHJlbmRlckNoaWxkcmVuKGl0ZW0sIHN0YXRlKSB9LCBpbmRleCkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0ZS5rZXlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUuYnJlYWtUaGVtYXRpYzpcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwiaHJcIiwgeyBjbGFzc05hbWU6IFwibXktWzAuNWVtXVwiIH0sIHN0YXRlLmtleSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiB0ZXh0XG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL1NuYWNrYmFyLnRzeFxuaW1wb3J0IGNsc3gyIGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHZhcmlhbnRDbGFzc2VzMiA9IHtcbiAgZXJyb3I6IFwiYmctdHJhbnNwYXJlbnQtZXJyb3IgdGV4dC10ZXh0LWVycm9yIGJvcmRlci1zdHJva2UtZXJyb3JcIixcbiAgd2FybmluZzogXCJiZy10cmFuc3BhcmVudC13YXJuaW5nIHRleHQtdGV4dC13YXJuaW5nIGJvcmRlci1zdHJva2Utd2FybmluZ1wiXG59O1xudmFyIFNuYWNrYmFyID0gKHsgdmFyaWFudCA9IFwid2FybmluZ1wiLCBjaGlsZHJlbiB9KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDIoXG4gICAgICAgIHZhcmlhbnRDbGFzc2VzMlt2YXJpYW50XSxcbiAgICAgICAgXCJyb3VuZGVkLWxnIGJvcmRlciBwLTMgdGV4dC1zdWJ0ZXh0XCJcbiAgICAgICksXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9DaGVja0ljb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIENoZWNrSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDQoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNyxcbiAgICBoZWlnaHQ6IDE2LFxuICAgIHZpZXdCb3g6IFwiMCAwIDE3IDE2XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGQ6IFwiTTE1LjM0OCAzLjUwOWEuOTg0Ljk4NCAwIDAxMCAxLjQzN2wtOC4xNzMgOC4xNzJhLjk4NC45ODQgMCAwMS0xLjQzNyAwTDEuNjUyIDkuMDMyYS45ODQuOTg0IDAgMDEwLTEuNDM3Ljk4NC45ODQgMCAwMTEuNDM3IDBsMy4zODQgMy4zNTMgNy40MzgtNy40MzlhLjk4NC45ODQgMCAwMTEuNDM3IDB6XCIsXG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCJcbiAgICAgIH1cbiAgICApXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9Db25maWdJY29uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDUsIGpzeHMgYXMganN4czIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBDb25maWdJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4czIoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgZDogXCJNNy4wMzcgOC4xMDhhMi42NSAyLjY1IDAgMSAxIDEuMDctMS4wNzEgMS41MjIgMS41MjIgMCAwIDEgMS41NTMuMDk0IDEuNTIzIDEuNTIzIDAgMCAxIDEuNDk4LTEuMjM5aC4zOTh2LS40OWEuNjY2LjY2NiAwIDAgMC0uNTUtLjY1M2wtLjg2Ni0uMTUxYTQuNDg4IDQuNDg4IDAgMCAwLS40NDctMS4wNzhsLjUwNS0uNzJhLjY2Ni42NjYgMCAwIDAtLjA3Ni0uODRsLS41MTktLjUyOGEuNjY2LjY2NiAwIDAgMC0uODUyLS4wNzRsLS43Mi41MDVhNC40ODIgNC40ODIgMCAwIDAtMS4wNzgtLjQ0N0w2LjgwMi41NUEuNjY2LjY2NiAwIDAgMCA2LjE0OSAwaC0uNzM1YS42NjYuNjY2IDAgMCAwLS42NTMuNTVsLS4xNTIuODY2YTQuNDggNC40OCAwIDAgMC0xLjA3OC40NDdsLS43MjYtLjUwNWEuNjY2LjY2NiAwIDAgMC0uODQ2LjA3NGwtLjUyNy41MjdhLjY2Ni42NjYgMCAwIDAtLjA3NC44NTRsLjUwNS43MmMtLjE5NS4zMzgtLjM0Ni43LS40NDcgMS4wNzhsLS44NjYuMTUxYS42NjYuNjY2IDAgMCAwLS41NS42NTR2LjczNGEuNjY2LjY2NiAwIDAgMCAuNTUuNjUzbC44NjYuMTUyYy4xMDEuMzc3LjI1MS43NC40NDcgMS4wNzhsLS41MDUuNzE2YS42NjYuNjY2IDAgMCAwIC4wNzQuODU0bC41MjcuNTJhLjY2Ni42NjYgMCAwIDAgLjg1NC4wNzVsLjcyLS41MDVjLjMzOC4xOTUuNy4zNDYgMS4wNzguNDQ3bC4xNTEuODY2YS42NjYuNjY2IDAgMCAwIC42NTQuNTVoLjQ5di0uMzk4QTEuNTIzIDEuNTIzIDAgMCAxIDcuMTQzIDkuNjZhMS41MjIgMS41MjIgMCAwIDEtLjEwNy0xLjU1MlpNMTYgMTEuMTU4di41NzhhLjUyNC41MjQgMCAwIDEtLjQzNC41MDlsLS42ODMuMTJhMy41MyAzLjUzIDAgMCAxLS4zNTIuODZsLjM5OC41NjhhLjUyNC41MjQgMCAwIDEtLjA1OS42NzJsLS40MS40MWEuNTI0LjUyNCAwIDAgMS0uNjcyLjA1OWwtLjU2My0uNDAzYTMuNTM3IDMuNTM3IDAgMCAxLS44NS4zNTJsLS4xMy42ODNhLjUyNC41MjQgMCAwIDEtLjUxLjQzNGgtLjU3N2EuNTI0LjUyNCAwIDAgMS0uNTE4LS40MzRsLS4xMi0uNjgzYTMuNTM2IDMuNTM2IDAgMCAxLS44NDgtLjM1MmwtLjU2OC4zOThhLjUyNS41MjUgMCAwIDEtLjY3My0uMDU5bC0uNDEtLjQxYS41MjQuNTI0IDAgMCAxLS4wNTktLjY3MmwuNC0uNTYzYTMuNTM1IDMuNTM1IDAgMCAxLS4zNTItLjg1bC0uNjgzLS4xM2EuNTI0LjUyNCAwIDAgMS0uNDM0LS41MTh2LS41N2EuNTI0LjUyNCAwIDAgMSAuNDM0LS41MTdsLjY4My0uMTJhMy41NCAzLjU0IDAgMCAxIC4zNTItLjg0OGwtLjM5OC0uNTY3YS41MjQuNTI0IDAgMCAxIC4wNTktLjY3MmwuNDEtLjQxYS41MjQuNTI0IDAgMCAxIC42NzItLjA1OWwuNTY3LjM5OGMuMjY2LS4xNTQuNTUyLS4yNzIuODQ5LS4zNTJsLjExOS0uNjgzYS41MjQuNTI0IDAgMCAxIC41MTgtLjQzNGguNTc4YS41MjQuNTI0IDAgMCAxIC41MDkuNDM0bC4xMi42ODNjLjMuMDc5LjU5LjE5Ny44Ni4zNTJsLjU2Ni0uMzk4YS41MjQuNTI0IDAgMCAxIC42NzMuMDU5bC40MS40MWEuNTI0LjUyNCAwIDAgMSAuMDU4LjY3MmwtLjQwMS41NjdjLjE1NC4yNjYuMjcyLjU1Mi4zNTIuODQ5bC42ODMuMTE5YS41MjQuNTI0IDAgMCAxIC40MzQuNTE4Wm0tMi45OTEuMjg5YTEuNTYzIDEuNTYzIDAgMSAwLTMuMTI2IDAgMS41NjMgMS41NjMgMCAwIDAgMy4xMjYgMFpcIlxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOiBcIk02Ljg4NiA1Ljc3N2ExLjEwNSAxLjEwNSAwIDEgMS0yLjIxIDAgMS4xMDUgMS4xMDUgMCAwIDEgMi4yMSAwWlwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICBdXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9EZWVwTGlua0ljb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NiwganN4cyBhcyBqc3hzMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIERlZXBMaW5rSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeHMzKFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTAsXG4gICAgaGVpZ2h0OiAxMCxcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxMCAxMFwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NihcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTIuNSAxaDEuNzkzdjFIMi41YS41LjUgMCAwIDAtLjUuNXY1YS41LjUgMCAwIDAgLjUuNWg1YS41LjUgMCAwIDAgLjUtLjVWNS43MDdoMVY3LjVBMS41IDEuNSAwIDAgMSA3LjUgOWgtNUExLjUgMS41IDAgMCAxIDEgNy41di01QTEuNSAxLjUgMCAwIDEgMi41IDFaXCJcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgZDogXCJNOSA0SDhWMi43MDhsLTMgM0w0LjI5MyA1bDMtM0g2VjFoMi41YS41LjUgMCAwIDEgLjUuNVY0WlwiXG4gICAgICAgIH1cbiAgICAgIClcbiAgICBdXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9FeGNsYW1hdGlvblNoaWVsZEljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBFeGNsYW1hdGlvblNoaWVsZEljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g3KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICAgIFwicGF0aFwiLFxuICAgICAge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgIGQ6IFwibTguMzggMS4wODcgNS40ODMgMi4zMzRjLjY0MS4yOTEgMS4xMzcuOTA0IDEuMTM3IDEuNjYyLS4wMyAyLjkxNi0xLjIyNSA4LjE5NS02LjI0MSAxMC42MTZhMS43OTQgMS43OTQgMCAwIDEtMS41NDYgMGMtNS4wMTYtMi40Mi02LjIxMi03LjctNi4yMTItMTAuNjE2LS4wMjktLjc1OC40NjctMS4zNyAxLjEwOC0xLjY2Mmw1LjQ4My0yLjMzNGEuOTMyLjkzMiAwIDAgMSAuNzg4IDBabS0xLjMxMyAxMC4yOWMwIC41MjQuNDA4LjkzMy45MzMuOTMzYS45NC45NCAwIDAgMCAuOTMzLS45MzQuOTYuOTYgMCAwIDAtLjkzMy0uOTMzLjk0Ljk0IDAgMCAwLS45MzMuOTM0Wk04IDQuMTA5YS45LjkgMCAwIDAtLjkuOXYzLjYwNmEuOS45IDAgMCAwIDEuOCAwVjUuMDFhLjkuOSAwIDAgMC0uOS0uOVpcIixcbiAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaWNvbnMvSW5mb1NoaWVsZEljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBJbmZvU2hpZWxkSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDgoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgZDogXCJNMTMuODYzIDMuNDIgOC4zOCAxLjA4OGEuOTMyLjkzMiAwIDAgMC0uNzg3IDBMMi4xMDggMy40MjFjLS42NDEuMjkxLTEuMTM3LjkwNC0xLjEwOCAxLjY2MiAwIDIuOTE2IDEuMTk2IDguMTk1IDYuMjEyIDEwLjYxNi40OTYuMjMzIDEuMDUuMjMzIDEuNTQ2IDAgNS4wMTYtMi40MiA2LjIxMi03LjcgNi4yNDEtMTAuNjE2IDAtLjc1OC0uNDk2LTEuMzctMS4xMzctMS42NjJabS02LjMzIDcuMzVoLS41ODJhLjY5LjY5IDAgMCAwLS43LjdjMCAuNDA4LjI5Mi43LjcuN2gyLjIxNmMuMzc5IDAgLjctLjI5Mi43LS43IDAtLjM4LS4zMjEtLjctLjctLjdoLS4yMzRWOC4yMDRjMC0uMzgtLjMyLS43LS43LS43SDcuMjA4YS42OS42OSAwIDAgMC0uNy43YzAgLjQwOC4yOTIuNy43LjdoLjMyNnYxLjg2NlptLS40NjYtNS4xMzNjMCAuNTI1LjQwOC45MzMuOTMzLjkzM2EuOTQuOTQgMCAwIDAgLjkzMy0uOTMzQS45Ni45NiAwIDAgMCA4IDQuNzA0YS45NC45NCAwIDAgMC0uOTMzLjkzM1pcIixcbiAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaWNvbnMvTGlua0ljb24udHN4XG5pbXBvcnQgXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDksIGpzeHMgYXMganN4czQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBMaW5rSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeHM0KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czQoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgY2xpcFBhdGg6IFwidXJsKCNhKVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4OShcInBhdGhcIiwgeyBkOiBcIk03LjQwOSA5Ljc3NCA5Ljc3NCA3LjQxYS44MzYuODM2IDAgMSAwLTEuMTgzLTEuMTgzTDYuMjI2IDguNTkyQS44MzYuODM2IDAgMSAwIDcuNDEgOS43NzRaXCIgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwicGF0aFwiLCB7IGQ6IFwiTTEwLjc2LjUwM0E0LjcwOSA0LjcwOSAwIDAgMCA3LjQxIDEuODg5TDUuODMgMy40NjdBLjgzNi44MzYgMCAxIDAgNy4wMTQgNC42NUw4LjU5IDMuMDcyYTMuMDY3IDMuMDY3IDAgMCAxIDQuMzM4IDQuMzM3TDExLjM1IDguOTg3YS44MzUuODM1IDAgMSAwIDEuMTgyIDEuMTgybDEuNTc4LTEuNTc3YTQuNzM4IDQuNzM4IDAgMCAwLTMuMzUtOC4wOVpNNS4yNCAxNS40OTdhNC43MDYgNC43MDYgMCAwIDAgMy4zNTEtMS4zODZsMS41NzgtMS41NzdhLjgzNi44MzYgMCAxIDAtMS4xODItMS4xODNsLTEuNTc4IDEuNTc4YTMuMDY3IDMuMDY3IDAgMSAxLTQuMzM3LTQuMzM3TDQuNjUgNy4wMTRBLjgzNi44MzYgMCAxIDAgMy40NjcgNS44M0wxLjg4OSA3LjQxYTQuNzM3IDQuNzM3IDAgMCAwIDMuMzUxIDguMDg4WlwiIH0pXG4gICAgICBdIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDkoXCJkZWZzXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwiY2xpcFBhdGhcIiwgeyBpZDogXCJhXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OShcInBhdGhcIiwgeyBmaWxsOiBcIiNmZmZcIiwgZDogXCJNMCAwaDE2djE2SDB6XCIgfSkgfSkgfSlcbiAgICBdXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9TcGlubmVyRG90cy50c3hcbmltcG9ydCB7IHVzZU1lbW8gYXMgdXNlTWVtbzIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3ggYXMganN4MTAsIGpzeHMgYXMganN4czUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBQT0lOVFMgPSBbMCwgNDUsIDkwLCAxMzUsIDE4MCwgMjI1LCAyNzAsIDMxNV07XG52YXIgU3Bpbm5lckRvdHMgPSAoe1xuICB3aWR0aCA9IDE2XG59KSA9PiB7XG4gIGNvbnN0IGRvdHMgPSB1c2VNZW1vMihcbiAgICAoKSA9PiBQT0lOVFMubWFwKChwb2ludCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gxMChcbiAgICAgIFwiY2lyY2xlXCIsXG4gICAgICB7XG4gICAgICAgIGN5OiAxMixcbiAgICAgICAgY3g6IDEyLFxuICAgICAgICByOiA0LFxuICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoJHtwb2ludH0sIDI0LCAyNClgLFxuICAgICAgICBmaWxsT3BhY2l0eTogaW5kZXggPCAyID8gMCA6IDFcbiAgICAgIH0sXG4gICAgICBwb2ludFxuICAgICkpLFxuICAgIFtdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czUoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4MTAoXCJzdHlsZVwiLCB7IGNoaWxkcmVuOiBcIkBrZXlmcmFtZXMgc3Bpbnt0b3t0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fVwiIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMChcbiAgICAgIFwic3ZnXCIsXG4gICAgICB7XG4gICAgICAgIHZpZXdCb3g6IFwiMCAwIDQ4IDQ4XCIsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBcImRhdGEtdGVzdGlkXCI6IFwicm90YXRpbmctZG90cy1zdmdcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwicm90YXRpbmctZG90cy1sb2FkaW5nXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IFwiMXNcIixcbiAgICAgICAgICBhbmltYXRpb246IFwic3BpbiAxcyBzdGVwcyg4LCBlbmQpIGluZmluaXRlXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGRvdHNcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvQnV0dG9uLnRzeFxuaW1wb3J0IGNsc3gzIGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MTEsIGpzeHMgYXMganN4czYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBCdXR0b24gPSAoe1xuICBvbkNsaWNrLFxuICBkaXNhYmxlZCxcbiAgdmFyaWFudCA9IFwiZGVmYXVsdFwiLFxuICBjaGlsZHJlbixcbiAgY3RhVHlwZSA9IFwiYnV0dG9uXCJcbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzNihcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDMoXG4gICAgICAgIFwicm91bmRlZC1idXR0b24gdGV4dC10ZXh0IHJlbGF0aXZlIGZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LW5vd3JhcCBweC01IHB5LTMgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWNvbG9ycyBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiLFxuICAgICAgICB7XG4gICAgICAgICAgXCJiZy1idXR0b24tZGlzYWJsZWQgdGV4dC10ZXh0LWJ1dHRvbi1kaXNhYmxlZFwiOiBkaXNhYmxlZCAmJiB2YXJpYW50ICE9PSBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBcImJnLWJ1dHRvbiB0ZXh0LXRleHQtYnV0dG9uIGhvdmVyOmJnLWJ1dHRvbi1ob3ZlclwiOiAhZGlzYWJsZWQgJiYgdmFyaWFudCAhPT0gXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJiZy1idXR0b24tc3VjY2VzcyB0ZXh0LXRleHQtYnV0dG9uLXN1Y2Nlc3NcIjogdmFyaWFudCA9PT0gXCJzdWNjZXNzXCJcbiAgICAgICAgICAvLyBzdWNjZXNzIGlzIGxpa2VseSB0byBiZSBhbHdheXMgZGlzYWJsZWRcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgb25DbGljayxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBjdGFUeXBlID09PSBcImxpbmtcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4MTEoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImFic29sdXRlIHJpZ2h0LTIgdG9wLTJcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcbiAgICAgICAgICBEZWVwTGlua0ljb24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4MyhcImgtMi41IHctMi41XCIsIHtcbiAgICAgICAgICAgICAgXCJ0ZXh0LXRleHQtYnV0dG9uLWRpc2FibGVkXCI6IGRpc2FibGVkICYmIHZhcmlhbnQgIT09IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICBcInRleHQtdGV4dC1idXR0b25cIjogIWRpc2FibGVkICYmIHZhcmlhbnQgIT09IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICBcInRleHQtdGV4dC1idXR0b24tc3VjY2Vzc1wiOiB2YXJpYW50ID09PSBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAvLyBzdWNjZXNzIGlzIGxpa2VseSB0byBiZSBhbHdheXMgZGlzYWJsZWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICApIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25CdXR0b24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTIsIGpzeHMgYXMganN4czcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25CdXR0b24gPSAoe1xuICB0ZXh0LFxuICBsb2FkaW5nLFxuICBkaXNhYmxlZCxcbiAgdmFyaWFudCxcbiAgb25DbGljayxcbiAgY3RhVHlwZVxufSkgPT4ge1xuICBjb25zdCBCdXR0b25Db250ZW50ID0gKCkgPT4ge1xuICAgIGlmIChsb2FkaW5nKVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzNyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdGV4dC1ub3dyYXBcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgdGV4dCxcbiAgICAgICAgXCIgXCIsXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihTcGlubmVyRG90cywge30pXG4gICAgICBdIH0pO1xuICAgIGlmICh2YXJpYW50ID09PSBcInN1Y2Nlc3NcIilcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czcoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtbm93cmFwXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHRleHQsXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihDaGVja0ljb24sIHt9KVxuICAgICAgXSB9KTtcbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcbiAgICBCdXR0b24sXG4gICAge1xuICAgICAgb25DbGljazogKCkgPT4gb25DbGljaygpLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICB2YXJpYW50LFxuICAgICAgY3RhVHlwZSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm1pbi13LTAgdHJ1bmNhdGVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMihCdXR0b25Db250ZW50LCB7fSkgfSlcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkNoZWNrYm94R3JvdXAudHN4XG5pbXBvcnQgY2xzeDUgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbyBhcyB1c2VNZW1vMywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL0NoZWNrYm94LnRzeFxuaW1wb3J0IGNsc3g0IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VJZCBhcyB1c2VJZDIgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0NoZWNrYm94Q2hlY2tJY29uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDEzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU3ZnQ29tcG9uZW50ID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTMoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhcbiAgICAgIFwicGF0aFwiLFxuICAgICAge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgIGQ6IFwiTTEyLjYgNS4zOThhLjg1Ljg1IDAgMCAxLS4wMDEgMS4yMDJsLTQuNzg0IDQuNzczYS44NS44NSAwIDAgMS0xLjE5My4wMDhMMy45MzQgOC43N2EuODUuODUgMCAwIDEgMS4xODQtMS4yMmwyLjA4OCAyLjAyNyA0LjE5Mi00LjE4MmEuODUuODUgMCAwIDEgMS4yMDIuMDAyWlwiLFxuICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgICAgIH1cbiAgICApXG4gIH1cbik7XG52YXIgQ2hlY2tib3hDaGVja0ljb25fZGVmYXVsdCA9IFN2Z0NvbXBvbmVudDtcblxuLy8gc3JjL3VpL2ludGVybmFsL0NoZWNrYm94LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDE0LCBqc3hzIGFzIGpzeHM4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQ2hlY2tib3ggPSAoe1xuICBsYWJlbCxcbiAgdmFsdWUsXG4gIG9uQ2hhbmdlLFxuICBuYW1lLFxuICBkaXNhYmxlZCxcbiAgaW5wdXRWYWx1ZVxufSkgPT4ge1xuICBjb25zdCBpZCA9IHVzZUlkMigpO1xuICBjb25zdCBsYWJlbElkID0gYCR7aWR9X2xhYmVsYDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzOChcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDQoXCJmbGV4IGgtZnVsbCBnYXAtMi41XCIsIHtcbiAgICAgICAgXCJjdXJzb3ItcG9pbnRlclwiOiAhZGlzYWJsZWQsXG4gICAgICAgIFwiY3Vyc29yLW5vdC1hbGxvd2VkXCI6IGRpc2FibGVkXG4gICAgICB9KSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+ICFkaXNhYmxlZCAmJiBvbkNoYW5nZSghdmFsdWUpLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaC1mdWxsIGl0ZW1zLWNlbnRlclwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogaW5wdXRWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDE0KFxuICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGxhYmVsSWQsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDQoXG4gICAgICAgICAgICAgICAgXCJtdC0wLjUgZmxleCBhc3BlY3Qtc3F1YXJlIGgtWzE2cHhdIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlciB0cmFuc2l0aW9uLWNvbG9ycyBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWlucHV0LXN0cm9rZSBiZy1pbnB1dC1iZ1wiOiAhdmFsdWUgJiYgIWRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlLXNlbGVjdGVkIGJnLWlucHV0LWJnLXNlbGVjdGVkXCI6IHZhbHVlICYmICFkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWlucHV0LXN0cm9rZS1kaXNhYmxlZCBiZy1pbnB1dC1iZ1wiOiAhdmFsdWUgJiYgZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICBcImJvcmRlci1pbnB1dC1zdHJva2UtZGlzYWJsZWQgYmctaW5wdXQtYmctZGlzYWJsZWRcIjogdmFsdWUgJiYgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTQoXG4gICAgICAgICAgICAgICAgQ2hlY2tib3hDaGVja0ljb25fZGVmYXVsdCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsc3g0KFwiaC1mdWxsIHctZnVsbCB0ZXh0LWlucHV0LWJnXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2s6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46ICF2YWx1ZVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgICAgICAgICBcImxhYmVsXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImN1cnNvci1baW5oZXJpdF0gdGV4dC10ZXh0IHRleHQtdGV4dC1pbnB1dFwiLFxuICAgICAgICAgICAgaWQ6IGxhYmVsSWQsXG4gICAgICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL3V0aWxzLnRzXG52YXIgYnVpbGREZWZhdWx0VGV4dERlc2NyaXB0aW9uID0gKHtcbiAgbWluLFxuICBtYXhcbn0pID0+IHtcbiAgaWYgKG1pbiAmJiBtYXgpIHJldHVybiBgVHlwZSBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9IGNoYXJhY3RlcnNgO1xuICBpZiAobWluKSByZXR1cm4gYFR5cGUgbWluaW11bSAke21pbn0gY2hhcmFjdGVyc2A7XG4gIGlmIChtYXgpIHJldHVybiBgVHlwZSBtYXhpbXVtICR7bWF4fSBjaGFyYWN0ZXJzYDtcbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGJ1aWxkRGVmYXVsdE51bWJlckRlc2NyaXB0aW9uID0gKHtcbiAgbWluLFxuICBtYXhcbn0pID0+IHtcbiAgaWYgKG1pbiAmJiBtYXgpIHJldHVybiBgRW50ZXIgYSBudW1iZXIgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fWA7XG4gIGlmIChtaW4pIHJldHVybiBgRW50ZXIgYSBudW1iZXIgZ3JlYXRlciB0aGFuICR7bWlufWA7XG4gIGlmIChtYXgpIHJldHVybiBgRW50ZXIgYSBudW1iZXIgbGVzcyB0aGFuICR7bWF4fWA7XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBidWlsZERlZmF1bHREYXRlRGVzY3JpcHRpb24gPSAoe1xuICBtaW4sXG4gIG1heCxcbiAgaW5jbHVkZVRpbWVcbn0pID0+IHtcbiAgY29uc3QgbWluRGF0ZSA9IG1pbiA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICBjb25zdCBtYXhEYXRlID0gbWF4ID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW5cIiwge1xuICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgIG1vbnRoOiBcIm51bWVyaWNcIixcbiAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgIGhvdXI6IGluY2x1ZGVUaW1lID8gXCJudW1lcmljXCIgOiB2b2lkIDAsXG4gICAgbWludXRlOiBpbmNsdWRlVGltZSA/IFwibnVtZXJpY1wiIDogdm9pZCAwXG4gIH0pO1xuICBpZiAobWluRGF0ZSAmJiBtYXhEYXRlKVxuICAgIHJldHVybiBgUGljayBhIGRhdGUgYmV0d2VlbiAke2Zvcm1hdHRlci5mb3JtYXQobWluRGF0ZSl9IGFuZCAke2Zvcm1hdHRlci5mb3JtYXQobWF4RGF0ZSl9YDtcbiAgaWYgKG1pbkRhdGUpIHJldHVybiBgUGljayBhIGRhdGUgYWZ0ZXIgJHtmb3JtYXR0ZXIuZm9ybWF0KG1pbkRhdGUpfWA7XG4gIGlmIChtYXhEYXRlKSByZXR1cm4gYFBpY2sgYSBkYXRlIGJlZm9yZSAke2Zvcm1hdHRlci5mb3JtYXQobWF4RGF0ZSl9YDtcbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGJ1aWxkRGVmYXVsdENoZWNrYm94R3JvdXBEZXNjcmlwdGlvbiA9ICh7XG4gIG1pbixcbiAgbWF4XG59KSA9PiB7XG4gIGlmIChtaW4gJiYgbWF4KSByZXR1cm4gYFNlbGVjdCBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9IG9wdGlvbnNgO1xuICBpZiAobWluKSByZXR1cm4gYFNlbGVjdCBtaW5pbXVtICR7bWlufSBvcHRpb25zYDtcbiAgaWYgKG1heCkgcmV0dXJuIGBTZWxlY3QgbWF4aW11bSAke21heH0gb3B0aW9uc2A7XG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25DaGVja2JveEdyb3VwLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDE1LCBqc3hzIGFzIGpzeHM5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgdmFsaWRhdGUgPSAodmFsdWVzLCB7IHJlcXVpcmVkLCBtaW4sIG1heCB9KSA9PiB7XG4gIGlmIChyZXF1aXJlZCAmJiAhdmFsdWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobWluICYmIHZhbHVlcy5sZW5ndGggPCBtaW4pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG1heCAmJiB2YWx1ZXMubGVuZ3RoID4gbWF4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBub3JtYWxpemVWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmZpbHRlcigoWywgdl0pID0+IHYpLm1hcCgoW2tdKSA9PiBrKTtcbn07XG52YXIgQWN0aW9uQ2hlY2tib3hHcm91cCA9ICh7XG4gIHBsYWNlaG9sZGVyOiBsYWJlbCxcbiAgLy8gaW4gYmFzZSBpbnB1dHMgaXQncyBwbGFjZWhvbGRlciwgZm9yIHNlbGVjdGFibGVzIC0gbGFiZWxcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgb3B0aW9ucyA9IFtdLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBtaW5DaG9pY2VzID0gbWluO1xuICBjb25zdCBtYXhDaG9pY2VzID0gbWF4O1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgZmluYWxEZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8IGJ1aWxkRGVmYXVsdENoZWNrYm94R3JvdXBEZXNjcmlwdGlvbih7XG4gICAgbWluOiBtaW5DaG9pY2VzLFxuICAgIG1heDogbWF4Q2hvaWNlc1xuICB9KTtcbiAgY29uc3QgaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vMyhcbiAgICAoKSA9PiBvcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnNlbGVjdGVkKSxcbiAgICBbb3B0aW9uc11cbiAgKTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgdmFsdWU6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIG9wdGlvbnMubWFwKChvcHRpb24pID0+IFtvcHRpb24udmFsdWUsIG9wdGlvbi5zZWxlY3RlZCA/PyBmYWxzZV0pXG4gICAgKSxcbiAgICB2YWxpZDogaXNTdGFuZGFsb25lID8gISFoYXNJbml0aWFsbHlTZWxlY3RlZE9wdGlvbiA6ICEocmVxdWlyZWQgJiYgIWhhc0luaXRpYWxseVNlbGVjdGVkT3B0aW9uKVxuICB9KTtcbiAgY29uc3QgW3RvdWNoZWQsIHNldFRvdWNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/LihzdGF0ZS52YWxpZCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZXh0ZW5kZWRDaGFuZ2UgPSAobmFtZTIsIHZhbHVlKSA9PiB7XG4gICAgc2V0U3RhdGUoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0geyAuLi5wcmV2LnZhbHVlLCBbbmFtZTJdOiB2YWx1ZSB9O1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlMiA9IG5vcm1hbGl6ZVZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIG9uQ2hhbmdlPy4obm9ybWFsaXplZFZhbHVlMik7XG4gICAgICBjb25zdCB2YWxpZGl0eSA9IHZhbGlkYXRlKG5vcm1hbGl6ZWRWYWx1ZTIsIHtcbiAgICAgICAgcmVxdWlyZWQ6IGlzU3RhbmRhbG9uZSxcbiAgICAgICAgbWluOiBtaW5DaG9pY2VzLFxuICAgICAgICBtYXg6IG1heENob2ljZXNcbiAgICAgIH0pO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgdmFsaWQ6IHZhbGlkaXR5XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHNldFRvdWNoZWQodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IHVzZU1lbW8zKFxuICAgICgpID0+IG5vcm1hbGl6ZVZhbHVlKHN0YXRlLnZhbHVlKSxcbiAgICBbc3RhdGUudmFsdWVdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNsc3g1KFwicHktMS41XCIsIHtcbiAgICAgICAgXCJiZy1iZy1zZWNvbmRhcnkgcm91bmRlZC1pbnB1dCBweC0xLjUgcHQtMlwiOiBpc1N0YW5kYWxvbmVcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4NShpc1N0YW5kYWxvbmUgJiYgXCJweC0yXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgIGxhYmVsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtYi0xXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czkoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LWlucHV0IGJsb2NrIGZvbnQtc2VtaWJvbGRcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgcmVxdWlyZWQgPyBcIipcIiA6IFwiXCJcbiAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDUoXCJwdC0yXCIsIHtcbiAgICAgICAgICAgICAgICBcImZsZXggZmxleC1jb2wgZ2FwLTNcIjogIWlzU3RhbmRhbG9uZSxcbiAgICAgICAgICAgICAgICBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLXgtNCBnYXAteS01XCI6IGlzU3RhbmRhbG9uZVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IG9wdGlvbnMubWFwKChvcHRpb24pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICAgICAgICAgICAgICAgICAgQ2hlY2tib3gsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZVtvcHRpb24udmFsdWVdLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKHZhbHVlKSA9PiBleHRlbmRlZENoYW5nZShvcHRpb24udmFsdWUsIHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGAke29wdGlvbi52YWx1ZX1fJHtvcHRpb24ubGFiZWx9YFxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXSB9KSxcbiAgICAgICAgaXNTdGFuZGFsb25lICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtdC00XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiBub3JtYWxpemVkVmFsdWUgfSksXG4gICAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8ICFub3JtYWxpemVkVmFsdWUubGVuZ3RoIHx8ICFzdGF0ZS52YWxpZFxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSxcbiAgICAgICAgZmluYWxEZXNjcmlwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsc3g1KFxuICAgICAgICAgICAgICBcInRleHQtY2FwdGlvblwiLFxuICAgICAgICAgICAgICB0b3VjaGVkICYmICFzdGF0ZS52YWxpZCA/IFwidGV4dC10ZXh0LWVycm9yXCIgOiBcInRleHQtdGV4dC1zZWNvbmRhcnlcIixcbiAgICAgICAgICAgICAgaXNTdGFuZGFsb25lID8gXCJtYi0yIG10LTIuNSBweC0yXCIgOiBcIm10LTNcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTUoU2ltcGxlTWFya2Rvd24sIHsgdGV4dDogZmluYWxEZXNjcmlwdGlvbiB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uRGF0ZUlucHV0LnRzeFxuaW1wb3J0IHtcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyLFxuICB1c2VJZCBhcyB1c2VJZDMsXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzQsXG4gIHVzZVN0YXRlIGFzIHVzZVN0YXRlMlxufSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0NhbGVuZGFySWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxNiwganN4cyBhcyBqc3hzMTAgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTdmdDb21wb25lbnQyID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4czEwKFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTYoXCJnXCIsIHsgY2xpcFBhdGg6IFwidXJsKCNhKVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICAgIGQ6IFwiTTUuODA1IDEuMjMyYS43MzIuNzMyIDAgMSAwLTEuNDY0IDB2LjM3Yy0uMzYyLjAwNi0uNjg1LjAxOS0uOTY5LjA0OC0uNTI2LjA1NS0xLjAwNC4xNzQtMS40MjguNDY4LS4yOS4yLS41NC40NTEtLjc0MS43NC0uMjk0LjQyNS0uNDEyLjkwMi0uNDY3IDEuNDI5LS4wNDkuNDYyLS4wNTMgMS4wMjYtLjA1MyAxLjdWMTAuNDNjMCAuOTkgMCAxLjgwOC4wODcgMi40NTQuMDkxLjY4LjI5IDEuMjc5Ljc3IDEuNzU5LjQ4LjQ4IDEuMDguNjc5IDEuNzU5Ljc3LjY0Ni4wODcgMS40NjMuMDg3IDIuNDU0LjA4N2g0LjQ5NGMuOTkgMCAxLjgwOCAwIDIuNDU0LS4wODcuNjgtLjA5MSAxLjI3OS0uMjkgMS43NTktLjc3LjQ4LS40OC42NzktMS4wOC43Ny0xLjc1OS4wODctLjY0Ni4wODctMS40NjMuMDg3LTIuNDU0VjUuOTg4YzAtLjY3NS0uMDA0LTEuMjM5LS4wNTMtMS43MDEtLjA1NS0uNTI3LS4xNzMtMS4wMDQtLjQ2Ny0xLjQyOC0uMi0uMjktLjQ1Mi0uNTQtLjc0MS0uNzQxLS40MjUtLjI5NC0uOTAyLS40MTMtMS40MjgtLjQ2OC0uMjg0LS4wMy0uNjA3LS4wNDItLjk3LS4wNDh2LS4zN2EuNzMyLjczMiAwIDAgMC0xLjQ2MyAwdi4zNjZoLTQuMzl2LS4zNjZabTguMDQ5IDQuNzU2Yy0uMDAxLS42ODUtLjAwNi0xLjE3LS4wNDUtMS41NS0uMDQzLS40MDYtLjEyLS42MDctLjIxNS0uNzQ2LS4xLS4xNDUtLjIyNi0uMjctLjM3MS0uMzctLjE0LS4wOTctLjM0LS4xNzQtLjc0Ny0uMjE2YTkuNTMyIDkuNTMyIDAgMCAwLS44MTgtLjA0di4zNmEuNzMyLjczMiAwIDAgMS0xLjQ2MyAwdi0uMzY1aC00LjM5di4zNjZhLjczMi43MzIgMCAxIDEtMS40NjQgMHYtLjM2MWMtLjMyNC4wMDUtLjU5LjAxNi0uODE3LjA0LS40MDcuMDQyLS42MDguMTE5LS43NDcuMjE1LS4xNDUuMS0uMjcuMjI2LS4zNy4zNy0uMDk3LjE0LS4xNzMuMzQtLjIxNi43NDgtLjA0LjM3OS0uMDQ0Ljg2NC0uMDQ1IDEuNTQ5aDExLjcwN1pNMi4xNDYgNy40NXYyLjkyN2MwIDEuMDU2LjAwMiAxLjc3NC4wNzQgMi4zMTEuMDcuNTE3LjE5Mi43NTYuMzU1LjkxOS4xNjMuMTYzLjQwMi4yODUuOTE5LjM1NS41MzcuMDcyIDEuMjU1LjA3NCAyLjMxLjA3NGg0LjM5MWMxLjA1NiAwIDEuNzc0LS4wMDIgMi4zMTEtLjA3NC41MTctLjA3Ljc1Ni0uMTkyLjkxOS0uMzU1LjE2My0uMTYzLjI4NS0uNDAyLjM1NS0uOTE5LjA3Mi0uNTM3LjA3NC0xLjI1NS4wNzQtMi4zMTFWNy40NTFIMi4xNDZaXCIsXG4gICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gICAgICAgIH1cbiAgICAgICkgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTYoXCJkZWZzXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNihcImNsaXBQYXRoXCIsIHsgaWQ6IFwiYVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE2KFwicGF0aFwiLCB7IGZpbGw6IFwiI2ZmZlwiLCBkOiBcIk0wIDBoMTZ2MTZIMHpcIiB9KSB9KSB9KVxuICAgIF1cbiAgfVxuKTtcbnZhciBDYWxlbmRhckljb25fZGVmYXVsdCA9IFN2Z0NvbXBvbmVudDI7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQmFzZUlucHV0Q29udGFpbmVyLnRzeFxuaW1wb3J0IGNsc3g2IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQge1xuICBjbG9uZUVsZW1lbnRcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MTcsIGpzeHMgYXMganN4czExIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQmFzZUlucHV0Q29udGFpbmVyID0gKHtcbiAgY2hpbGRyZW4sXG4gIGxlZnRBZG9ybm1lbnQsXG4gIHJpZ2h0QWRvcm5tZW50LFxuICBmb290ZXIsXG4gIGRlc2NyaXB0aW9uLFxuICBzdGFuZGFsb25lID0gdHJ1ZVxufSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMShcImRpdlwiLCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMxMShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xzeDYoXG4gICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlIHBlZXIgcmVsYXRpdmUgZmxleCBtaW4taC0xMCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0xLjUgZ2FwLXktMiBib3JkZXIgcC0xLjUgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICAvLyBmb2N1cywgaW52YWxpZCwgcmVxdWlyZWRcbiAgICAgICAgICBcImZvY3VzLXdpdGhpbjpoYXMtWzppbnZhbGlkXTpib3JkZXItaW5wdXQtc3Ryb2tlLWVycm9yIGZvY3VzLXdpdGhpbjpoYXMtWzp2YWxpZF06Ym9yZGVyLWlucHV0LXN0cm9rZS1zZWxlY3RlZCBmb2N1cy13aXRoaW46aG92ZXI6aGFzLVs6aW52YWxpZF06Ym9yZGVyLWlucHV0LXN0cm9rZS1lcnJvciBmb2N1cy13aXRoaW46aG92ZXI6aGFzLVs6dmFsaWRdOmJvcmRlci1pbnB1dC1zdHJva2Utc2VsZWN0ZWRcIixcbiAgICAgICAgICAvLyBlbmFibGVkLFxuICAgICAgICAgIFwiaG92ZXI6aGFzLVs6ZW5hYmxlZF06Ym9yZGVyLWlucHV0LXN0cm9rZS1ob3ZlclwiLFxuICAgICAgICAgIHN0YW5kYWxvbmUgPyBcInJvdW5kZWQtaW5wdXQtc3RhbmRhbG9uZVwiIDogXCJyb3VuZGVkLWlucHV0XCJcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czExKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggbWluLXctMCBmbGV4LVsxMF0gYmFzaXMtMS8yIGl0ZW1zLWNlbnRlciBnYXAtMS41IHBsLTIuNVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbGVmdEFkb3JubWVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTcoXCJkaXZcIiwgeyBjaGlsZHJlbjogbGVmdEFkb3JubWVudCB9KSxcbiAgICAgICAgICAgIGNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsc3g2KFxuICAgICAgICAgICAgICAgIFwiYmctaW5wdXQtYmcgdGV4dC10ZXh0LWlucHV0IHBsYWNlaG9sZGVyOnRleHQtdGV4dC1pbnB1dC1wbGFjZWhvbGRlciBkaXNhYmxlZDp0ZXh0LXRleHQtaW5wdXQtZGlzYWJsZWQgbWluLWgtNyBtaW4tdy0wIGZsZXgtMSB0cnVuY2F0ZSBvdXRsaW5lLW5vbmVcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdIH0pLFxuICAgICAgICAgIHJpZ2h0QWRvcm5tZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtYXgtdy1mdWxsIGZsZXgtMSB3aGl0ZXNwYWNlLW5vd3JhcFwiLCBjaGlsZHJlbjogcmlnaHRBZG9ybm1lbnQgfSlcbiAgICAgICAgXVxuICAgICAgfVxuICAgICksXG4gICAgZm9vdGVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtdC0yXCIsIGNoaWxkcmVuOiBmb290ZXIgfSksXG4gICAgZGVzY3JpcHRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeDE3KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInRleHQtY2FwdGlvbiB0ZXh0LXRleHQtc2Vjb25kYXJ5IHBlZXItWzpmb2N1cy13aXRoaW46aGFzKDppbnZhbGlkKV06dGV4dC10ZXh0LWVycm9yIG10LTEuNSBmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE3KFNpbXBsZU1hcmtkb3duLCB7IHRleHQ6IGRlc2NyaXB0aW9uIH0pIH0pXG4gIF0gfSk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkRhdGVJbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxOCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbkRhdGVJbnB1dCA9ICh7XG4gIHR5cGUgPSBcImRhdGVcIixcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBwYXR0ZXJuLFxuICBtaW4sXG4gIG1heCxcbiAgZGVzY3JpcHRpb24sXG4gIHJlcXVpcmVkXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQzKCk7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlMihcIlwiKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlMighaXNTdGFuZGFsb25lICYmICFyZXF1aXJlZCk7XG4gIGNvbnN0IFt0b3VjaGVkLCBzZXRUb3VjaGVkXSA9IHVzZVN0YXRlMihmYWxzZSk7XG4gIGNvbnN0IG1pbkRhdGUgPSBtaW47XG4gIGNvbnN0IG1heERhdGUgPSBtYXg7XG4gIHVzZUVmZmVjdDIoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIChlKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZTIgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICBjb25zdCB2YWxpZGl0eSA9IGUuY3VycmVudFRhcmdldC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgc2V0VmFsaWQodmFsaWRpdHkpO1xuICAgICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgICB9LFxuICAgIFtvbkNoYW5nZSwgb25WYWxpZGl0eUNoYW5nZV1cbiAgKTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJFbnRlciBhIGRhdGVcIikgKyAocmVxdWlyZWQgPyBcIipcIiA6IFwiXCIpO1xuICBjb25zdCB2YWxpZGF0aW9uUHJvcHMgPSB1c2VNZW1vNChcbiAgICAoKSA9PiAoe1xuICAgICAgbWluOiBtaW5EYXRlLFxuICAgICAgbWF4OiBtYXhEYXRlLFxuICAgICAgcGF0dGVybixcbiAgICAgIHRpdGxlOiBkZXNjcmlwdGlvblxuICAgIH0pLFxuICAgIFttaW5EYXRlLCBtYXhEYXRlLCBwYXR0ZXJuLCBkZXNjcmlwdGlvbl1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxOChcbiAgICBCYXNlSW5wdXRDb250YWluZXIsXG4gICAge1xuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdERhdGVEZXNjcmlwdGlvbih7IG1pbjogbWluRGF0ZSwgbWF4OiBtYXhEYXRlIH0pLFxuICAgICAgbGVmdEFkb3JubWVudDogLyogQF9fUFVSRV9fICovIGpzeDE4KFwibGFiZWxcIiwgeyBodG1sRm9yOiBpZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxOChDYWxlbmRhckljb25fZGVmYXVsdCwgeyBjbGFzc05hbWU6IFwidGV4dC1pY29uLXByaW1hcnlcIiB9KSB9KSxcbiAgICAgIHJpZ2h0QWRvcm5tZW50OiBidXR0b24gPyAvKiBAX19QVVJFX18gKi8ganN4MTgoXG4gICAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBidXR0b24ub25DbGljayh7IFtuYW1lXTogdmFsdWUgfSksXG4gICAgICAgICAgZGlzYWJsZWQ6IGJ1dHRvbi5kaXNhYmxlZCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCAhaXNWYWxpZFxuICAgICAgICB9XG4gICAgICApIDogbnVsbCxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTgoXG4gICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6IHBhdHRlcm4gfHwgIXRvdWNoZWQgPyBcInRleHRcIiA6IHR5cGUsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICBvbkZvY3VzOiAoKSA9PiBzZXRUb3VjaGVkKHRydWUpLFxuICAgICAgICAgIC4uLnZhbGlkYXRpb25Qcm9wcyxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkVtYWlsSW5wdXQudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MywgdXNlSWQgYXMgdXNlSWQ0LCB1c2VNZW1vIGFzIHVzZU1lbW81LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0VtYWlsSWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxOSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFN2Z0NvbXBvbmVudDMgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gxOShcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE5KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgZDogXCJNMS4zNjEgMi42ODVhLjc2NC43NjQgMCAwIDAtLjE1Ny4yMjdBMi45ODYgMi45ODYgMCAwIDAgLjc1IDQuNXY3YTMgMyAwIDAgMCAzIDNoOC41YTMgMyAwIDAgMCAzLTN2LTdjMC0uNTgzLS4xNjYtMS4xMjgtLjQ1NC0xLjU4OGEuNzUuNzUgMCAwIDAtLjE1Ny0uMjI3QTIuOTk1IDIuOTk1IDAgMCAwIDEyLjI1IDEuNWgtOC41Yy0uOTc1IDAtMS44NDEuNDY1LTIuMzg5IDEuMTg1Wk0zLjc1IDNoOC41Yy4yNyAwIC41MjIuMDcxLjc0LjE5NUw4LjgxNSA2LjgxN2ExLjI1IDEuMjUgMCAwIDEtMS42MzgtLjAwMWwtNC4xNjctMy42MkMzLjIyNyAzLjA3IDMuNDggMyAzLjc1IDNabTEwIDEuNTIyVjExLjVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC04LjVhMS41IDEuNSAwIDAgMS0xLjUtMS41VjQuNTI0bDMuOTQyIDMuNDI0YTIuNzUgMi43NSAwIDAgMCAzLjYwNS4wMDJsMy45NTMtMy40MjhaXCIsXG4gICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBFbWFpbEljb25fZGVmYXVsdCA9IFN2Z0NvbXBvbmVudDM7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uRW1haWxJbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbkVtYWlsSW5wdXQgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIHBhdHRlcm4sXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWRcbn0pID0+IHtcbiAgY29uc3QgaWQgPSB1c2VJZDQoKTtcbiAgY29uc3QgaXNTdGFuZGFsb25lID0gISFidXR0b247XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUzKFwiXCIpO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGUzKCFpc1N0YW5kYWxvbmUgJiYgIXJlcXVpcmVkKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gbWluO1xuICBjb25zdCBtYXhMZW5ndGggPSBtYXg7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJoZWxsb0BleGFtcGxlLmNvbVwiKSArIChyZXF1aXJlZCA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW81KFxuICAgICgpID0+ICh7XG4gICAgICBtaW5MZW5ndGgsXG4gICAgICBtYXhMZW5ndGgsXG4gICAgICBwYXR0ZXJuLFxuICAgICAgdGl0bGU6IGRlc2NyaXB0aW9uXG4gICAgfSksXG4gICAgW21pbkxlbmd0aCwgbWF4TGVuZ3RoLCBwYXR0ZXJuLCBkZXNjcmlwdGlvbl1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMChcbiAgICBCYXNlSW5wdXRDb250YWluZXIsXG4gICAge1xuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdFRleHREZXNjcmlwdGlvbih7IG1pbjogbWluTGVuZ3RoLCBtYXg6IG1heExlbmd0aCB9KSxcbiAgICAgIGxlZnRBZG9ybm1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBqc3gyMChcImxhYmVsXCIsIHsgaHRtbEZvcjogaWQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjAoRW1haWxJY29uX2RlZmF1bHQsIHsgY2xhc3NOYW1lOiBcInRleHQtaWNvbi1wcmltYXJ5XCIgfSkgfSksXG4gICAgICByaWdodEFkb3JubWVudDogYnV0dG9uID8gLyogQF9fUFVSRV9fICovIGpzeDIwKFxuICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IHZhbHVlIH0pLFxuICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgdmFsdWUgPT09IFwiXCIgfHwgIWlzVmFsaWRcbiAgICAgICAgfVxuICAgICAgKSA6IG51bGwsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIwKFxuICAgICAgICBcImlucHV0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0eXBlOiBwYXR0ZXJuID8gXCJ0ZXh0XCIgOiBcImVtYWlsXCIsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25OdW1iZXJJbnB1dC50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q0LCB1c2VJZCBhcyB1c2VJZDUsIHVzZU1lbW8gYXMgdXNlTWVtbzYsIHVzZVN0YXRlIGFzIHVzZVN0YXRlNCB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaWNvbnMvTnVtYmVySWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFN2Z0NvbXBvbmVudDQgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyMShcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIxKFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTExLjcyMSAxYS43NS43NSAwIDAgMC0uNzQ1LjY2NGwtLjI5OSAyLjU4NmgtNC41bC4yOC0yLjQyYS43NDUuNzQ1IDAgMCAwLTEuNDgtLjE3bC0uMyAyLjU5SDEuNzVhLjc1Ljc1IDAgMCAwIDAgMS41SDQuNWwtLjUxNSA0LjVIMS43NWEuNzUuNzUgMCAwIDAgMCAxLjVoMi4wNjNsLS4yOCAyLjQyYS43NDUuNzQ1IDAgMSAwIDEuNDguMTdsLjMtMi41OWg0LjVsLS4yOCAyLjQyYS43NDUuNzQ1IDAgMCAwIDEuNDguMTdsLjMtMi41OWgyLjkzN2EuNzUuNzUgMCAwIDAgMC0xLjVIMTEuNWwuNTItNC41aDIuMjNhLjc1Ljc1IDAgMCAwIDAtMS41aC0yLjA2M2wuMjc5LTIuNDE0QS43NS43NSAwIDAgMCAxMS43MjEgMVptLTEuNzM2IDkuMjVINS41bC41Mi00LjVoNC40OGwtLjUxNSA0LjVaXCJcbiAgICAgIH1cbiAgICApXG4gIH1cbik7XG52YXIgTnVtYmVySWNvbl9kZWZhdWx0ID0gU3ZnQ29tcG9uZW50NDtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25OdW1iZXJJbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbk51bWJlcklucHV0ID0gKHtcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBwYXR0ZXJuLFxuICBtaW4sXG4gIG1heCxcbiAgZGVzY3JpcHRpb24sXG4gIHJlcXVpcmVkXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQ1KCk7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlNChcIlwiKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlNCghaXNTdGFuZGFsb25lICYmICFyZXF1aXJlZCk7XG4gIHVzZUVmZmVjdDQoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJUeXBlIGhlcmUuLi5cIikgKyAocmVxdWlyZWQgPyBcIipcIiA6IFwiXCIpO1xuICBjb25zdCB2YWxpZGF0aW9uUHJvcHMgPSB1c2VNZW1vNihcbiAgICAoKSA9PiAoe1xuICAgICAgbWluOiAhcGF0dGVybiA/IG1pbiA6IHZvaWQgMCxcbiAgICAgIG1heDogIXBhdHRlcm4gPyBtYXggOiB2b2lkIDAsXG4gICAgICBwYXR0ZXJuLFxuICAgICAgdGl0bGU6IGRlc2NyaXB0aW9uXG4gICAgfSksXG4gICAgW21pbiwgbWF4LCBwYXR0ZXJuLCBkZXNjcmlwdGlvbl1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcbiAgICBCYXNlSW5wdXRDb250YWluZXIsXG4gICAge1xuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdE51bWJlckRlc2NyaXB0aW9uKHtcbiAgICAgICAgbWluLFxuICAgICAgICBtYXhcbiAgICAgIH0pLFxuICAgICAgbGVmdEFkb3JubWVudDogLyogQF9fUFVSRV9fICovIGpzeDIyKFwibGFiZWxcIiwgeyBodG1sRm9yOiBpZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMihOdW1iZXJJY29uX2RlZmF1bHQsIHsgY2xhc3NOYW1lOiBcInRleHQtaWNvbi1wcmltYXJ5XCIgfSkgfSksXG4gICAgICByaWdodEFkb3JubWVudDogYnV0dG9uID8gLyogQF9fUFVSRV9fICovIGpzeDIyKFxuICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IHZhbHVlIH0pLFxuICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgdmFsdWUgPT09IFwiXCIgfHwgIWlzVmFsaWRcbiAgICAgICAgfVxuICAgICAgKSA6IG51bGwsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIyKFxuICAgICAgICBcImlucHV0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0eXBlOiBwYXR0ZXJuID8gXCJ0ZXh0XCIgOiBcIm51bWJlclwiLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcldpdGhSZXF1aXJlZCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBzdGVwOiBcImFueVwiLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25SYWRpb0dyb3VwLnRzeFxuaW1wb3J0IGNsc3g4IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazIsIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q1LCB1c2VNZW1vIGFzIHVzZU1lbW83LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTUgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL1JhZGlvLnRzeFxuaW1wb3J0IGNsc3g3IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VJZCBhcyB1c2VJZDYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyMywganN4cyBhcyBqc3hzMTIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBSYWRpbyA9ICh7XG4gIGxhYmVsLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIG5hbWUsXG4gIGRpc2FibGVkLFxuICBpbnB1dFZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQ2KCk7XG4gIGNvbnN0IGxhYmVsSWQgPSBgJHtpZH1fbGFiZWxgO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMihcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDcoXCJmbGV4IGgtZnVsbCBnYXAtMi41XCIsIHtcbiAgICAgICAgXCJjdXJzb3ItcG9pbnRlclwiOiAhZGlzYWJsZWQsXG4gICAgICAgIFwiY3Vyc29yLW5vdC1hbGxvd2VkXCI6IGRpc2FibGVkXG4gICAgICB9KSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+ICFkaXNhYmxlZCAmJiBvbkNoYW5nZSghdmFsdWUpLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGgtZnVsbCBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjMoXG4gICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGlucHV0VmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyMyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGxhYmVsSWQsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDcoXG4gICAgICAgICAgICAgICAgXCJtdC0wLjUgZmxleCBhc3BlY3Qtc3F1YXJlIGgtWzE2cHhdIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiAhZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICBcImJvcmRlci1pbnB1dC1zdHJva2Utc2VsZWN0ZWQgYmctaW5wdXQtYmctc2VsZWN0ZWRcIjogdmFsdWUgJiYgIWRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlLWRpc2FibGVkIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWlucHV0LXN0cm9rZS1kaXNhYmxlZCBiZy1pbnB1dC1iZy1kaXNhYmxlZFwiOiB2YWx1ZSAmJiBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMyhcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDcoXCJhc3BlY3Qtc3F1YXJlIGgtWzhweF0gcm91bmRlZC1mdWxsIGJnLWlucHV0LWJnXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgaW52aXNpYmxlOiAhdmFsdWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjMoXG4gICAgICAgICAgXCJsYWJlbFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjdXJzb3ItW2luaGVyaXRdIHRleHQtdGV4dCB0ZXh0LXRleHQtaW5wdXRcIixcbiAgICAgICAgICAgIGlkOiBsYWJlbElkLFxuICAgICAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25SYWRpb0dyb3VwLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDI0LCBqc3hzIGFzIGpzeHMxMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvblJhZGlvR3JvdXAgPSAoe1xuICBwbGFjZWhvbGRlcjogbGFiZWwsXG4gIC8vIGluIGJhc2UgaW5wdXRzIGl0J3MgcGxhY2Vob2xkZXIsIGZvciBzZWxlY3RhYmxlcyAtIGxhYmVsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBkZXNjcmlwdGlvbixcbiAgb3B0aW9ucyA9IFtdLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vNyhcbiAgICAoKSA9PiBvcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnNlbGVjdGVkKSxcbiAgICBbb3B0aW9uc11cbiAgKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZTUoXG4gICAgb3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5zZWxlY3RlZCk/LnZhbHVlID8/IFwiXCJcbiAgKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlNShcbiAgICBpc1N0YW5kYWxvbmUgPyAhIWhhc0luaXRpYWxseVNlbGVjdGVkT3B0aW9uIDogIShyZXF1aXJlZCAmJiAhaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24pXG4gICk7XG4gIGNvbnN0IFt0b3VjaGVkLCBzZXRUb3VjaGVkXSA9IHVzZVN0YXRlNShmYWxzZSk7XG4gIHVzZUVmZmVjdDUoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IHVzZUNhbGxiYWNrMihcbiAgICAodmFsdWUyKSA9PiB7XG4gICAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgc2V0VmFsaWQodHJ1ZSk7XG4gICAgICBzZXRUb3VjaGVkKHRydWUpO1xuICAgICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHRydWUpO1xuICAgIH0sXG4gICAgW29uQ2hhbmdlLCBvblZhbGlkaXR5Q2hhbmdlXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDgoXCJweS0xLjVcIiwge1xuICAgICAgICBcImJnLWJnLXNlY29uZGFyeSByb3VuZGVkLWlucHV0IHB4LTEuNSBwdC0yXCI6IGlzU3RhbmRhbG9uZVxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czEzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4OChpc1N0YW5kYWxvbmUgJiYgXCJweC0yXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgIGxhYmVsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyNChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtYi0xXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czEzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1pbnB1dCBibG9jayBmb250LXNlbWlib2xkXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIHJlcXVpcmVkID8gXCIqXCIgOiBcIlwiXG4gICAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsc3g4KFwicHQtMlwiLCB7XG4gICAgICAgICAgICAgICAgXCJmbGV4IGZsZXgtY29sIGdhcC0zXCI6ICFpc1N0YW5kYWxvbmUsXG4gICAgICAgICAgICAgICAgXCJncmlkIGdyaWQtY29scy0yIGdhcC14LTQgZ2FwLXktNVwiOiBpc1N0YW5kYWxvbmVcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBvcHRpb25zLm1hcCgob3B0aW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgICAgICAgICAgICAgICAgIFJhZGlvLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlOiBvcHRpb24udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6ICgpID0+IGV4dGVuZGVkQ2hhbmdlKG9wdGlvbi52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBgJHtvcHRpb24udmFsdWV9XyR7b3B0aW9uLmxhYmVsfWBcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSksXG4gICAgICAgIGlzU3RhbmRhbG9uZSAmJiAvKiBAX19QVVJFX18gKi8ganN4MjQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibXQtNFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI0KFxuICAgICAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBidXR0b24ub25DbGljayh7IFtuYW1lXTogdmFsdWUgfSksXG4gICAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8ICF2YWx1ZSB8fCAhaXNWYWxpZFxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSxcbiAgICAgICAgZGVzY3JpcHRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeDI0KFxuICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDgoXG4gICAgICAgICAgICAgIFwidGV4dC1jYXB0aW9uIGZvbnQtbWVkaXVtXCIsXG4gICAgICAgICAgICAgIHRvdWNoZWQgJiYgIWlzVmFsaWQgPyBcInRleHQtdGV4dC1lcnJvclwiIDogXCJ0ZXh0LXRleHQtc2Vjb25kYXJ5XCIsXG4gICAgICAgICAgICAgIGlzU3RhbmRhbG9uZSA/IFwibWItMiBtdC0yLjVcIiA6IFwibXQtM1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNChTaW1wbGVNYXJrZG93biwgeyB0ZXh0OiBkZXNjcmlwdGlvbiB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uU2VsZWN0LnRzeFxuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDYsIHVzZUlkIGFzIHVzZUlkNywgdXNlTWVtbyBhcyB1c2VNZW1vOCwgdXNlU3RhdGUgYXMgdXNlU3RhdGU2IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjUsIGpzeHMgYXMganN4czE0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQWN0aW9uU2VsZWN0ID0gKHtcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWQsXG4gIG9wdGlvbnMgPSBbXVxufSkgPT4ge1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgcGxhY2Vob2xkZXJWYWx1ZUlkID0gdXNlSWQ3KCk7XG4gIGNvbnN0IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkID0gKHBsYWNlaG9sZGVyIHx8IFwiU2VsZWN0Li4uXCIpICsgKHJlcXVpcmVkID8gXCIqXCIgOiBcIlwiKTtcbiAgY29uc3QgaW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vOChcbiAgICAoKSA9PiBvcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnNlbGVjdGVkKSxcbiAgICBbb3B0aW9uc11cbiAgKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZTYoXG4gICAgaW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24/LnZhbHVlID8/IHBsYWNlaG9sZGVyVmFsdWVJZFxuICApO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGU2KFxuICAgIGlzU3RhbmRhbG9uZSA/ICEhaW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gOiAhKHJlcXVpcmVkICYmICFpbml0aWFsbHlTZWxlY3RlZE9wdGlvbilcbiAgKTtcbiAgdXNlRWZmZWN0NigoKSA9PiB7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKGlzVmFsaWQpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGV4dGVuZGVkQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZTIgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgY29uc3QgdmFsaWRpdHkgPSBlLmN1cnJlbnRUYXJnZXQuY2hlY2tWYWxpZGl0eSgpICYmIHBsYWNlaG9sZGVyVmFsdWVJZCAhPT0gdmFsdWUyO1xuICAgIHNldFZhbHVlKHZhbHVlMik7XG4gICAgc2V0VmFsaWQodmFsaWRpdHkpO1xuICAgIG9uQ2hhbmdlPy4odmFsdWUyKTtcbiAgICBvblZhbGlkaXR5Q2hhbmdlPy4odmFsaWRpdHkpO1xuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI1KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBzdGFuZGFsb25lOiBpc1N0YW5kYWxvbmUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIHJpZ2h0QWRvcm5tZW50OiBidXR0b24gPyAvKiBAX19QVVJFX18gKi8ganN4MjUoXG4gICAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBidXR0b24ub25DbGljayh7IFtuYW1lXTogdmFsdWUgfSksXG4gICAgICAgICAgZGlzYWJsZWQ6IGJ1dHRvbi5kaXNhYmxlZCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCAhaXNWYWxpZFxuICAgICAgICB9XG4gICAgICApIDogbnVsbCxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE0KFxuICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIm1yLTEuNSBjdXJzb3ItcG9pbnRlclwiLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjUoXCJvcHRpb25cIiwgeyBkaXNhYmxlZDogdHJ1ZSwgdmFsdWU6IHBsYWNlaG9sZGVyVmFsdWVJZCwgY2hpbGRyZW46IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkIH0pLFxuICAgICAgICAgICAgb3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gLyogQF9fUFVSRV9fICovIGpzeDI1KFwib3B0aW9uXCIsIHsgdmFsdWU6IG9wdGlvbi52YWx1ZSwgY2hpbGRyZW46IG9wdGlvbi5sYWJlbCB9LCBgJHtvcHRpb24udmFsdWV9XyR7b3B0aW9uLmxhYmVsfWApKVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uVGV4dEFyZWEudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NywgdXNlTWVtbyBhcyB1c2VNZW1vOSwgdXNlU3RhdGUgYXMgdXNlU3RhdGU3IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25UZXh0QXJlYSA9ICh7XG4gIHBsYWNlaG9sZGVyLFxuICBuYW1lLFxuICBidXR0b24sXG4gIGRpc2FibGVkLFxuICBvbkNoYW5nZSxcbiAgb25WYWxpZGl0eUNoYW5nZSxcbiAgbWluLFxuICBtYXgsXG4gIGRlc2NyaXB0aW9uLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZTcoXCJcIik7XG4gIGNvbnN0IFtpc1ZhbGlkLCBzZXRWYWxpZF0gPSB1c2VTdGF0ZTcoIWlzU3RhbmRhbG9uZSAmJiAhcmVxdWlyZWQpO1xuICBjb25zdCBtaW5MZW5ndGggPSBtaW47XG4gIGNvbnN0IG1heExlbmd0aCA9IG1heDtcbiAgdXNlRWZmZWN0NygoKSA9PiB7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKGlzVmFsaWQpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGV4dGVuZGVkQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZTIgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgY29uc3QgdmFsaWRpdHkgPSBlLmN1cnJlbnRUYXJnZXQuY2hlY2tWYWxpZGl0eSgpO1xuICAgIHNldFZhbHVlKHZhbHVlMik7XG4gICAgc2V0VmFsaWQodmFsaWRpdHkpO1xuICAgIG9uQ2hhbmdlPy4odmFsdWUyKTtcbiAgICBvblZhbGlkaXR5Q2hhbmdlPy4odmFsaWRpdHkpO1xuICB9O1xuICBjb25zdCBwbGFjZWhvbGRlcldpdGhSZXF1aXJlZCA9IChwbGFjZWhvbGRlciB8fCBcIlR5cGUgaGVyZS4uLlwiKSArIChyZXF1aXJlZCA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW85KFxuICAgICgpID0+ICh7XG4gICAgICBtaW5MZW5ndGgsXG4gICAgICBtYXhMZW5ndGgsXG4gICAgICB0aXRsZTogZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgICBbbWluTGVuZ3RoLCBtYXhMZW5ndGgsIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBzdGFuZGFsb25lOiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/PyBidWlsZERlZmF1bHRUZXh0RGVzY3JpcHRpb24oeyBtaW46IG1pbkxlbmd0aCwgbWF4OiBtYXhMZW5ndGggfSksXG4gICAgICBmb290ZXI6IGJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcbiAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8IHZhbHVlID09PSBcIlwiIHx8ICFpc1ZhbGlkXG4gICAgICAgIH1cbiAgICAgICkgOiBudWxsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcbiAgICAgICAgXCJ0ZXh0YXJlYVwiLFxuICAgICAgICB7XG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcm93czogMyxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvblRleHRJbnB1dC50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q4LCB1c2VNZW1vIGFzIHVzZU1lbW8xMCwgdXNlU3RhdGUgYXMgdXNlU3RhdGU4IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25UZXh0SW5wdXQgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIHBhdHRlcm4sXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWRcbn0pID0+IHtcbiAgY29uc3QgaXNTdGFuZGFsb25lID0gISFidXR0b247XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGU4KFwiXCIpO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGU4KCFpc1N0YW5kYWxvbmUgJiYgIXJlcXVpcmVkKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gbWluO1xuICBjb25zdCBtYXhMZW5ndGggPSBtYXg7XG4gIHVzZUVmZmVjdDgoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJUeXBlIGhlcmUuLi5cIikgKyAocmVxdWlyZWQgPyBcIipcIiA6IFwiXCIpO1xuICBjb25zdCB2YWxpZGF0aW9uUHJvcHMgPSB1c2VNZW1vMTAoXG4gICAgKCkgPT4gKHtcbiAgICAgIG1pbkxlbmd0aCxcbiAgICAgIG1heExlbmd0aCxcbiAgICAgIHBhdHRlcm4sXG4gICAgICB0aXRsZTogZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgICBbbWluTGVuZ3RoLCBtYXhMZW5ndGgsIHBhdHRlcm4sIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI3KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBzdGFuZGFsb25lOiBpc1N0YW5kYWxvbmUsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPz8gYnVpbGREZWZhdWx0VGV4dERlc2NyaXB0aW9uKHsgbWluOiBtaW5MZW5ndGgsIG1heDogbWF4TGVuZ3RoIH0pLFxuICAgICAgcmlnaHRBZG9ybm1lbnQ6IGJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyNyhcbiAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8IHZhbHVlID09PSBcIlwiIHx8ICFpc1ZhbGlkXG4gICAgICAgIH1cbiAgICAgICkgOiBudWxsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNyhcbiAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25VcmxJbnB1dC50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q5LCB1c2VJZCBhcyB1c2VJZDgsIHVzZU1lbW8gYXMgdXNlTWVtbzExLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTkgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyOCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvblVybElucHV0ID0gKHtcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBwYXR0ZXJuLFxuICBtaW4sXG4gIG1heCxcbiAgZGVzY3JpcHRpb24sXG4gIHJlcXVpcmVkXG59KSA9PiB7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBpZCA9IHVzZUlkOCgpO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlOShcIlwiKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlOSghaXNTdGFuZGFsb25lICYmICFyZXF1aXJlZCk7XG4gIGNvbnN0IG1pbkxlbmd0aCA9IG1pbjtcbiAgY29uc3QgbWF4TGVuZ3RoID0gbWF4O1xuICB1c2VFZmZlY3Q5KCgpID0+IHtcbiAgICBvblZhbGlkaXR5Q2hhbmdlPy4oaXNWYWxpZCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZXh0ZW5kZWRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlMiA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICBjb25zdCB2YWxpZGl0eSA9IGUuY3VycmVudFRhcmdldC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgc2V0VmFsdWUodmFsdWUyKTtcbiAgICBzZXRWYWxpZCh2YWxpZGl0eSk7XG4gICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lih2YWxpZGl0eSk7XG4gIH07XG4gIGNvbnN0IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkID0gKHBsYWNlaG9sZGVyIHx8IFwiaHR0cHM6Ly9cIikgKyAocmVxdWlyZWQgPyBcIipcIiA6IFwiXCIpO1xuICBjb25zdCB2YWxpZGF0aW9uUHJvcHMgPSB1c2VNZW1vMTEoXG4gICAgKCkgPT4gKHtcbiAgICAgIG1pbkxlbmd0aCxcbiAgICAgIG1heExlbmd0aCxcbiAgICAgIHBhdHRlcm4sXG4gICAgICB0aXRsZTogZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgICBbbWluTGVuZ3RoLCBtYXhMZW5ndGgsIHBhdHRlcm4sIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI4KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBzdGFuZGFsb25lOiBpc1N0YW5kYWxvbmUsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPz8gYnVpbGREZWZhdWx0VGV4dERlc2NyaXB0aW9uKHsgbWluOiBtaW5MZW5ndGgsIG1heDogbWF4TGVuZ3RoIH0pLFxuICAgICAgbGVmdEFkb3JubWVudDogLyogQF9fUFVSRV9fICovIGpzeDI4KFwibGFiZWxcIiwgeyBodG1sRm9yOiBpZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOChMaW5rSWNvbiwgeyBjbGFzc05hbWU6IFwidGV4dC1pY29uLXByaW1hcnlcIiB9KSB9KSxcbiAgICAgIHJpZ2h0QWRvcm5tZW50OiBidXR0b24gPyAvKiBAX19QVVJFX18gKi8ganN4MjgoXG4gICAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBidXR0b24ub25DbGljayh7IFtuYW1lXTogdmFsdWUgfSksXG4gICAgICAgICAgZGlzYWJsZWQ6IGJ1dHRvbi5kaXNhYmxlZCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCAhaXNWYWxpZFxuICAgICAgICB9XG4gICAgICApIDogbnVsbCxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjgoXG4gICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6IHBhdHRlcm4gPyBcInRleHRcIiA6IFwidXJsXCIsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2xheW91dHMvcHJlc2V0cy50c1xudmFyIHRoZW1lQ2xhc3NNYXAgPSB7XG4gIGRlZmF1bHQ6IFwiZGlhbC1saWdodFwiLFxuICBcIngtZGFya1wiOiBcIngtZGFya1wiLFxuICBcIngtbGlnaHRcIjogXCJ4LWxpZ2h0XCIsXG4gIGN1c3RvbTogXCJjdXN0b21cIlxufTtcblxuLy8gc3JjL3VpL2xheW91dHMvQmFzZUJsaW5rTGF5b3V0LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQyLCBqc3ggYXMganN4MjksIGpzeHMgYXMganN4czE1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgTGlua2FibGUgPSAoe1xuICB1cmwsXG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW5cbn0pID0+IHVybCA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgXCJhXCIsXG4gIHtcbiAgICBocmVmOiB1cmwsXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgY2xhc3NOYW1lLFxuICAgIGNoaWxkcmVuXG4gIH1cbikgOiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJkaXZcIiwgeyBjbGFzc05hbWUsIGNoaWxkcmVuIH0pO1xudmFyIE5vdFN1cHBvcnRlZEJsb2NrID0gKHtcbiAgbWVzc2FnZSxcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJkaXZcIiwgeyBjbGFzc05hbWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNsc3g5KFxuICAgICAgICBcImJnLWJnLXNlY29uZGFyeSB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LXNlY29uZGFyeSByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItbm9uZSBwLTNcIlxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI5KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShDb25maWdJY29uLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWljb24tcHJpbWFyeVwiIH0pIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgZ2FwLVszcHhdXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI5KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJmb250LXNlbWlib2xkXCIsIGNoaWxkcmVuOiBcIlRoaXMgYWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWRcIiB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJwXCIsIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSlcbiAgICAgICAgXSB9KVxuICAgICAgXSB9KVxuICAgIH1cbiAgKSB9KTtcbn07XG52YXIgRGlzY2xhaW1lckJsb2NrID0gKHtcbiAgdHlwZSxcbiAgaGlkZGVuLFxuICBpZ25vcmFibGUsXG4gIG9uU2tpcCxcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIGlmICh0eXBlID09PSBEaXNjbGFpbWVyVHlwZS5CTE9DS0VEICYmICFoaWRkZW4pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KFwiZGl2XCIsIHsgY2xhc3NOYW1lLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNShTbmFja2JhciwgeyB2YXJpYW50OiBcImVycm9yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czE1KFwicFwiLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgIFwiVGhpcyBBY3Rpb24gb3IgaXQncyBvcmlnaW4gaGFzIGJlZW4gZmxhZ2dlZCBhcyBhbiB1bnNhZmUgYWN0aW9uLCAmIGhhcyBiZWVuIGJsb2NrZWQuIElmIHlvdSBiZWxpZXZlIHRoaXMgYWN0aW9uIGhhcyBiZWVuIGJsb2NrZWQgaW4gZXJyb3IsIHBsZWFzZVwiLFxuICAgICAgICBcIiBcIixcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI5KFxuICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kaXNjb3JkLmdnL3NheWRpYWxlY3RcIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjdXJzb3ItcG9pbnRlciB1bmRlcmxpbmVcIixcbiAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogXCJzdWJtaXQgYW4gaXNzdWVcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgXCIuXCIsXG4gICAgICAgICFpZ25vcmFibGUgJiYgXCIgWW91ciBhY3Rpb24gcHJvdmlkZXIgYmxvY2tzIGV4ZWN1dGlvbiBvZiB0aGlzIGFjdGlvbi5cIlxuICAgICAgXSB9KSxcbiAgICAgIGlnbm9yYWJsZSAmJiBvblNraXAgJiYgLyogQF9fUFVSRV9fICovIGpzeDI5KFxuICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImhvdmVyOnRleHQtdGV4dC1lcnJvci1ob3ZlciBtdC0zIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICBvbkNsaWNrOiBvblNraXAsXG4gICAgICAgICAgY2hpbGRyZW46IFwiSWdub3JlIHdhcm5pbmcgJiBwcm9jZWVkXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSkgfSk7XG4gIH1cbiAgaWYgKHR5cGUgPT09IERpc2NsYWltZXJUeXBlLlVOS05PV04pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KFwiZGl2XCIsIHsgY2xhc3NOYW1lLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNShTbmFja2JhciwgeyB2YXJpYW50OiBcIndhcm5pbmdcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTUoXCJwXCIsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgXCJUaGlzIEFjdGlvbiBoYXMgbm90IHlldCBiZWVuIHJlZ2lzdGVyZWQuIE9ubHkgdXNlIGl0IGlmIHlvdSB0cnVzdCB0aGUgc291cmNlLiBUaGlzIEFjdGlvbiB3aWxsIG5vdCB1bmZ1cmwgb24gWCB1bnRpbCBpdCBpcyByZWdpc3RlcmVkLlwiLFxuICAgICAgICAhaWdub3JhYmxlICYmIFwiIFlvdXIgYWN0aW9uIHByb3ZpZGVyIGJsb2NrcyBleGVjdXRpb24gb2YgdGhpcyBhY3Rpb24uXCJcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgICAgIFwiYVwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImhvdmVyOnRleHQtdGV4dC13YXJuaW5nLWhvdmVyIG10LTMgaW5saW5lLWJsb2NrIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vZGlzY29yZC5nZy9zYXlkaWFsZWN0XCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IFwiUmVwb3J0XCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSkgfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIEJhc2VCbGlua0xheW91dCA9ICh7XG4gIHN0eWxlUHJlc2V0ID0gXCJkZWZhdWx0XCIsXG4gIHRpdGxlLFxuICBkZXNjcmlwdGlvbixcbiAgaW1hZ2UsXG4gIHdlYnNpdGVVcmwsXG4gIHdlYnNpdGVUZXh0LFxuICBzZWN1cml0eVN0YXRlLFxuICBkaXNjbGFpbWVyLFxuICBidXR0b25zLFxuICBpbnB1dHMsXG4gIGZvcm0sXG4gIGVycm9yLFxuICBzdWNjZXNzLFxuICBzdXBwb3J0YWJpbGl0eSxcbiAgaWRcbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeDkoXCJibGlua1wiLCB0aGVtZUNsYXNzTWFwW3N0eWxlUHJlc2V0XSksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJvcmRlci1zdHJva2UtcHJpbWFyeSBiZy1iZy1wcmltYXJ5IHNoYWRvdy1hY3Rpb24gdy1mdWxsIGN1cnNvci1kZWZhdWx0IG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLTJ4bCBib3JkZXJcIiwgY2hpbGRyZW46IFtcbiAgICBpbWFnZSAmJiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgICBMaW5rYWJsZSxcbiAgICAgIHtcbiAgICAgICAgdXJsOiB3ZWJzaXRlVXJsLFxuICAgICAgICBjbGFzc05hbWU6IFwiYmxvY2sgbWF4LWgtWzEwMGNxd10gb3ZlcmZsb3cteS1oaWRkZW4gcHgtNSBwdC01XCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgICAgICAgXCJpbWdcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsc3g5KFxuICAgICAgICAgICAgICBcImFzcGVjdC1hdXRvIHctZnVsbCByb3VuZGVkLXhsIG9iamVjdC1jb3ZlciBvYmplY3QtY2VudGVyXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBzcmM6IGltYWdlLFxuICAgICAgICAgICAgYWx0OiBcImFjdGlvbi1pbWFnZVwiXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wgcC01XCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm1iLTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgd2Vic2l0ZVVybCAmJiAvKiBAX19QVVJFX18gKi8ganN4czE1KFxuICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhyZWY6IHdlYnNpdGVVcmwsXG4gICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwidGV4dC1zdWJ0ZXh0IGdyb3VwIGZsZXggbWluLXctMCBpdGVtcy1jZW50ZXIgZ2FwLTIgaG92ZXI6Y3Vyc29yLXBvaW50ZXJcIixcbiAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjkoTGlua0ljb24sIHsgY2xhc3NOYW1lOiBcInRleHQtaWNvbi1wcmltYXJ5IGdyb3VwLWhvdmVyOnRleHQtaWNvbi1wcmltYXJ5LWhvdmVyIGgtNCBtaW4tdy00IHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC10ZXh0LWxpbmsgZ3JvdXAtaG92ZXI6dGV4dC10ZXh0LWxpbmstaG92ZXIgbXQtWzFweF0gYmxvY2sgbWluLXctMCB0cnVuY2F0ZSB0cmFuc2l0aW9uLWNvbG9ycyBncm91cC1ob3Zlcjp1bmRlcmxpbmUgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIiwgY2hpbGRyZW46IHdlYnNpdGVUZXh0ID8/IHdlYnNpdGVVcmwgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIHdlYnNpdGVUZXh0ICYmICF3ZWJzaXRlVXJsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1saW5rIG1pbi13LTAgdHJ1bmNhdGVcIiwgY2hpbGRyZW46IHdlYnNpdGVUZXh0IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE1KFxuICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kb2NzLmRpYWxlY3QudG8vZG9jdW1lbnRhdGlvbi9hY3Rpb25zL3NlY3VyaXR5XCIsXG4gICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm1iLTAuNSBmbGV4IGl0ZW1zLWNlbnRlclwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgc2VjdXJpdHlTdGF0ZSA9PT0gXCJtYWxpY2lvdXNcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgICAgICAgICAgICAgQmFkZ2UsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeDI5KEV4Y2xhbWF0aW9uU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSksXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJCbG9ja2VkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNlY3VyaXR5U3RhdGUgPT09IFwidHJ1c3RlZFwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShJbmZvU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNlY3VyaXR5U3RhdGUgPT09IFwidW5rbm93blwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXJpYW50OiBcIndhcm5pbmdcIixcbiAgICAgICAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShJbmZvU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtdGV4dCB0ZXh0LXRleHQtcHJpbWFyeSBtYi0xLjUgYnJlYWstd29yZHMgZm9udC1zZW1pYm9sZFwiLCBjaGlsZHJlbjogdGl0bGUgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc3VidGV4dCB0ZXh0LXRleHQtc2Vjb25kYXJ5IG1iLTQgYnJlYWstd29yZHNcIiwgY2hpbGRyZW46IGRlc2NyaXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShTaW1wbGVNYXJrZG93biwgeyB0ZXh0OiBkZXNjcmlwdGlvbiB9KSB9KSxcbiAgICAgICFzdXBwb3J0YWJpbGl0eS5pc1N1cHBvcnRlZCA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShOb3RTdXBwb3J0ZWRCbG9jaywgeyBtZXNzYWdlOiBzdXBwb3J0YWJpbGl0eS5tZXNzYWdlIH0pIDogLyogQF9fUFVSRV9fICovIGpzeHMxNShGcmFnbWVudDIsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgZGlzY2xhaW1lciAmJiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgICAgICAgRGlzY2xhaW1lckJsb2NrLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJtYi00XCIsXG4gICAgICAgICAgICB0eXBlOiBkaXNjbGFpbWVyLnR5cGUsXG4gICAgICAgICAgICBpZ25vcmFibGU6IGRpc2NsYWltZXIuaWdub3JhYmxlLFxuICAgICAgICAgICAgaGlkZGVuOiBkaXNjbGFpbWVyLnR5cGUgPT09IERpc2NsYWltZXJUeXBlLkJMT0NLRUQgPyBkaXNjbGFpbWVyLmhpZGRlbiA6IGZhbHNlLFxuICAgICAgICAgICAgb25Ta2lwOiBkaXNjbGFpbWVyLnR5cGUgPT09IERpc2NsYWltZXJUeXBlLkJMT0NLRUQgPyBkaXNjbGFpbWVyLm9uU2tpcCA6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI5KFxuICAgICAgICAgIEFjdGlvbkNvbnRlbnQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICAgIGJ1dHRvbnNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkXG4gICAgICAgICksXG4gICAgICAgIHN1Y2Nlc3MgJiYgLyogQF9fUFVSRV9fICovIGpzeDI5KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LXN1Y2Nlc3MgbXQtMS41IGZsZXgganVzdGlmeS1jZW50ZXJcIiwgY2hpbGRyZW46IHN1Y2Nlc3MgfSksXG4gICAgICAgIGVycm9yICYmICFzdWNjZXNzICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1lcnJvciBtdC0xLjUgZmxleCBqdXN0aWZ5LWNlbnRlclwiLCBjaGlsZHJlbjogZXJyb3IgfSlcbiAgICAgIF0gfSlcbiAgICBdIH0pXG4gIF0gfSkgfSk7XG59O1xudmFyIEFjdGlvbkNvbnRlbnQgPSAoe1xuICBmb3JtLFxuICBpbnB1dHMsXG4gIGJ1dHRvbnNcbn0pID0+IHtcbiAgaWYgKGZvcm0pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KEFjdGlvbkZvcm0sIHsgZm9ybSB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC00XCIsIGNoaWxkcmVuOiBbXG4gICAgYnV0dG9ucyAmJiBidXR0b25zLmxlbmd0aCA+IDAgJiYgLyogQF9fUFVSRV9fICovIGpzeDI5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMlwiLCBjaGlsZHJlbjogYnV0dG9ucz8ubWFwKChpdCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtZ3JvdyBiYXNpcy1bY2FsYygzMy4zMzMlLTIqNHB4KV1cIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25CdXR0b24sIHsgLi4uaXQgfSlcbiAgICAgIH0sXG4gICAgICBpbmRleFxuICAgICkpIH0pLFxuICAgIGlucHV0cz8ubWFwKChpbnB1dCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDI5KEFjdGlvbklucHV0RmFjdG9yeSwgeyAuLi5pbnB1dCB9LCBpbnB1dC5uYW1lKSlcbiAgXSB9KTtcbn07XG52YXIgYnVpbGREZWZhdWx0Rm9ybVZhbHVlcyA9IChpbnB1dHMpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBpbnB1dHMubWFwKChpKSA9PiB7XG4gICAgICBpZiAoaS50eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBpLm5hbWUsXG4gICAgICAgICAgaS5vcHRpb25zPy5maWx0ZXIoKG8pID0+IG8uc2VsZWN0ZWQpLm1hcCgobykgPT4gby52YWx1ZSlcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLnR5cGUgPT09IFwicmFkaW9cIiB8fCBpLnR5cGUgPT09IFwic2VsZWN0XCIgPyBbaS5uYW1lLCBpLm9wdGlvbnM/LmZpbmQoKG8pID0+IG8uc2VsZWN0ZWQpPy52YWx1ZV0gOiBudWxsO1xuICAgIH0pLmZpbHRlcigoaSkgPT4gISFpKVxuICApO1xufTtcbnZhciBBY3Rpb25Gb3JtID0gKHsgZm9ybSB9KSA9PiB7XG4gIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSB1c2VTdGF0ZTEwKFxuICAgIGJ1aWxkRGVmYXVsdEZvcm1WYWx1ZXMoZm9ybS5pbnB1dHMpXG4gICk7XG4gIGNvbnN0IFt2YWxpZGl0eSwgc2V0VmFsaWRpdHldID0gdXNlU3RhdGUxMChcbiAgICBPYmplY3QuZnJvbUVudHJpZXMoZm9ybS5pbnB1dHMubWFwKChpKSA9PiBbaS5uYW1lLCBmYWxzZV0pKVxuICApO1xuICBjb25zdCBvbkNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIHNldFZhbHVlcygocHJldikgPT4gKHsgLi4ucHJldiwgW25hbWVdOiB2YWx1ZSB9KSk7XG4gIH07XG4gIGNvbnN0IG9uVmFsaWRpdHlDaGFuZ2UgPSAobmFtZSwgc3RhdGUpID0+IHtcbiAgICBzZXRWYWxpZGl0eSgocHJldikgPT4gKHsgLi4ucHJldiwgW25hbWVdOiBzdGF0ZSB9KSk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGVkID0gT2JqZWN0LnZhbHVlcyh2YWxpZGl0eSkuc29tZSgodikgPT4gIXYpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0zXCIsIGNoaWxkcmVuOiBbXG4gICAgZm9ybS5pbnB1dHMubWFwKChpbnB1dCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDI5KFxuICAgICAgQWN0aW9uSW5wdXRGYWN0b3J5LFxuICAgICAge1xuICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgb25DaGFuZ2U6ICh2KSA9PiBvbkNoYW5nZShpbnB1dC5uYW1lLCB2KSxcbiAgICAgICAgb25WYWxpZGl0eUNoYW5nZTogKHYpID0+IG9uVmFsaWRpdHlDaGFuZ2UoaW5wdXQubmFtZSwgdilcbiAgICAgIH0sXG4gICAgICBpbnB1dC5uYW1lXG4gICAgKSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDI5KFxuICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAge1xuICAgICAgICAuLi5mb3JtLmJ1dHRvbixcbiAgICAgICAgb25DbGljazogKCkgPT4gZm9ybS5idXR0b24ub25DbGljayh2YWx1ZXMpLFxuICAgICAgICBkaXNhYmxlZDogZm9ybS5idXR0b24uZGlzYWJsZWQgfHwgZGlzYWJsZWRcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59O1xudmFyIEFjdGlvbklucHV0RmFjdG9yeSA9IChpbnB1dCkgPT4ge1xuICBzd2l0Y2ggKGlucHV0LnR5cGUpIHtcbiAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjkoQWN0aW9uQ2hlY2tib3hHcm91cCwgeyAuLi5pbnB1dCB9KTtcbiAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjkoQWN0aW9uUmFkaW9Hcm91cCwgeyAuLi5pbnB1dCB9KTtcbiAgICBjYXNlIFwiZGF0ZVwiOlxuICAgIGNhc2UgXCJkYXRldGltZS1sb2NhbFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25EYXRlSW5wdXQsIHsgLi4uaW5wdXQsIHR5cGU6IGlucHV0LnR5cGUgfSk7XG4gICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25TZWxlY3QsIHsgLi4uaW5wdXQgfSk7XG4gICAgY2FzZSBcImVtYWlsXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KEFjdGlvbkVtYWlsSW5wdXQsIHsgLi4uaW5wdXQgfSk7XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25OdW1iZXJJbnB1dCwgeyAuLi5pbnB1dCB9KTtcbiAgICBjYXNlIFwidXJsXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KEFjdGlvblVybElucHV0LCB7IC4uLmlucHV0IH0pO1xuICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25UZXh0QXJlYSwgeyAuLi5pbnB1dCB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShBY3Rpb25UZXh0SW5wdXQsIHsgLi4uaW5wdXQgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy91aS9CbGluay50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gzMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEJsaW5rID0gKHtcbiAgX0xheW91dDogTGF5b3V0ID0gTm9ybWFsaXplZEJhc2VCbGlua0xheW91dCxcbiAgc3R5bGVQcmVzZXQsXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IExheW91dFdpdGhQcmVzZXQgPSB1c2VDYWxsYmFjazMoXG4gICAgKHByb3BzMikgPT4gLyogQF9fUFVSRV9fICovIGpzeDMwKExheW91dCwgeyAuLi5wcm9wczIsIHN0eWxlUHJlc2V0IH0pLFxuICAgIFtMYXlvdXQsIHN0eWxlUHJlc2V0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICAgIEJsaW5rQ29udGFpbmVyLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgc2VsZWN0b3I6IHZvaWQgMCxcbiAgICAgIExheW91dDogTGF5b3V0V2l0aFByZXNldFxuICAgIH1cbiAgKTtcbn07XG52YXIgTm9ybWFsaXplZEJhc2VCbGlua0xheW91dCA9IChwcm9wcykgPT4ge1xuICBjb25zdCBub3JtYWxpemVkUHJvcHMgPSB1c2VMYXlvdXRQcm9wTm9ybWFsaXplcihwcm9wcyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQmFzZUJsaW5rTGF5b3V0LCB7IC4uLm5vcm1hbGl6ZWRQcm9wcyB9KTtcbn07XG5cbi8vIHNyYy91aS9NaW5pYmxpbmsudHN4XG5pbXBvcnQge1xuICBCbGlua0NvbnRhaW5lciBhcyBCbGlua0NvbnRhaW5lcjJcbn0gZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s1IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9ob29rcy91c2VJc29sYXRlZExheW91dFByb3BOb3JtYWxpemVyLnRzXG5pbXBvcnQge1xuICBCdXR0b25BY3Rpb25Db21wb25lbnQgYXMgQnV0dG9uQWN0aW9uQ29tcG9uZW50MixcbiAgRm9ybUFjdGlvbkNvbXBvbmVudCBhcyBGb3JtQWN0aW9uQ29tcG9uZW50MixcbiAgaXNQYXJhbWV0ZXJTZWxlY3RhYmxlIGFzIGlzUGFyYW1ldGVyU2VsZWN0YWJsZTIsXG4gIGlzUGF0dGVybkFsbG93ZWQgYXMgaXNQYXR0ZXJuQWxsb3dlZDIsXG4gIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQgYXMgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudDIsXG4gIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50IGFzIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50MlxufSBmcm9tIFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazQsIHVzZU1lbW8gYXMgdXNlTWVtbzEyIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgU09GVF9MSU1JVF9GT1JNX0lOUFVUUzIgPSAxMDtcbnZhciB1c2VJc29sYXRlZExheW91dFByb3BOb3JtYWxpemVyID0gKHtcbiAgZXhlY3V0ZUZuLFxuICBleGVjdXRpb25TdGF0dXMsXG4gIGV4ZWN1dGluZ0FjdGlvbixcbiAgYWN0aW9uLFxuICBjb21wb25lbnQsXG4gIGNhcHRpb24sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IGFzQnV0dG9uUHJvcHMgPSB1c2VDYWxsYmFjazQoXG4gICAgKGl0KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBidXR0b25MYWJlbE1hcFtleGVjdXRpb25TdGF0dXNdID8/IGl0LmxhYmVsLFxuICAgICAgICBsb2FkaW5nOiBleGVjdXRpb25TdGF0dXMgPT09IFwiZXhlY3V0aW5nXCIgJiYgaXQgPT09IGV4ZWN1dGluZ0FjdGlvbixcbiAgICAgICAgZGlzYWJsZWQ6IGFjdGlvbi5kaXNhYmxlZCB8fCBhY3Rpb24udHlwZSA9PT0gXCJjb21wbGV0ZWRcIiB8fCBleGVjdXRpb25TdGF0dXMgIT09IFwiaWRsZVwiLFxuICAgICAgICB2YXJpYW50OiBidXR0b25WYXJpYW50TWFwW2FjdGlvbi50eXBlID09PSBcImNvbXBsZXRlZFwiID8gXCJzdWNjZXNzXCIgOiBleGVjdXRpb25TdGF0dXNdLFxuICAgICAgICBjdGFUeXBlOiBpdC50eXBlID09PSBcImV4dGVybmFsLWxpbmtcIiAmJiAoZXhlY3V0aW9uU3RhdHVzID09PSBcImlkbGVcIiB8fCBleGVjdXRpb25TdGF0dXMgPT09IFwiYmxvY2tlZFwiKSA/IFwibGlua1wiIDogXCJidXR0b25cIixcbiAgICAgICAgb25DbGljazogYXN5bmMgKHBhcmFtcykgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4dHJhID0gYXdhaXQgZXhlY3V0ZUZuKGl0LnBhcmVudENvbXBvbmVudCA/PyBpdCwgcGFyYW1zKTtcbiAgICAgICAgICBpZiAoIWV4dHJhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHRyYS50eXBlID09PSBcImV4dGVybmFsLWxpbmtcIikge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gd2luZG93LmNvbmZpcm0oXG4gICAgICAgICAgICAgIGBUaGlzIGFjdGlvbiByZWRpcmVjdHMgdG8gYW5vdGhlciB3ZWJzaXRlOiAke2V4dHJhLmRhdGEuZXh0ZXJuYWxMaW5rfSwgdGhlIGxpbmsgd2lsbCBvcGVuIGluIGEgbmV3IHRhYiBvZiB5b3VyIGJyb3dzZXJgXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICB3aW5kb3cub3BlbihcbiAgICAgICAgICAgICAgICBleHRyYS5kYXRhLmV4dGVybmFsTGluayxcbiAgICAgICAgICAgICAgICBcIl9ibGFua1wiLFxuICAgICAgICAgICAgICAgIFwibm9yZWZmZXJlcixub29wZW5lclwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBleHRyYS5vbk5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBleHRyYS5vbkNhbmNlbD8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgW2FjdGlvbi5kaXNhYmxlZCwgYWN0aW9uLnR5cGUsIGV4ZWN1dGVGbiwgZXhlY3V0aW5nQWN0aW9uLCBleGVjdXRpb25TdGF0dXNdXG4gICk7XG4gIGNvbnN0IGFzSW5wdXRQcm9wcyA9IHVzZUNhbGxiYWNrNChcbiAgICAoaXQsIHsgcGxhY2VtZW50IH0gPSB7XG4gICAgICBwbGFjZW1lbnQ6IFwic3RhbmRhbG9uZVwiXG4gICAgfSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogaXQucGFyYW1ldGVyLnR5cGUgPz8gXCJ0ZXh0XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBpdC5wYXJhbWV0ZXIubGFiZWwsXG4gICAgICAgIGRpc2FibGVkOiBhY3Rpb24uZGlzYWJsZWQgfHwgYWN0aW9uLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgZXhlY3V0aW9uU3RhdHVzICE9PSBcImlkbGVcIixcbiAgICAgICAgbmFtZTogaXQucGFyYW1ldGVyLm5hbWUsXG4gICAgICAgIHJlcXVpcmVkOiBpdC5wYXJhbWV0ZXIucmVxdWlyZWQsXG4gICAgICAgIG1pbjogaXQucGFyYW1ldGVyLm1pbixcbiAgICAgICAgbWF4OiBpdC5wYXJhbWV0ZXIubWF4LFxuICAgICAgICBwYXR0ZXJuOiBpdCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50MiAmJiBpc1BhdHRlcm5BbGxvd2VkMihpdC5wYXJhbWV0ZXIpID8gaXQucGFyYW1ldGVyLnBhdHRlcm4gOiB2b2lkIDAsXG4gICAgICAgIG9wdGlvbnM6IGlzUGFyYW1ldGVyU2VsZWN0YWJsZTIoaXQucGFyYW1ldGVyKSA/IGl0LnBhcmFtZXRlci5vcHRpb25zIDogdm9pZCAwLFxuICAgICAgICBkZXNjcmlwdGlvbjogaXQucGFyYW1ldGVyLnBhdHRlcm5EZXNjcmlwdGlvbixcbiAgICAgICAgYnV0dG9uOiBwbGFjZW1lbnQgPT09IFwic3RhbmRhbG9uZVwiID8gYXNCdXR0b25Qcm9wcyhpdC50b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpKSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9LFxuICAgIFthY3Rpb24uZGlzYWJsZWQsIGFjdGlvbi50eXBlLCBhc0J1dHRvblByb3BzLCBleGVjdXRpb25TdGF0dXNdXG4gICk7XG4gIGNvbnN0IGFzRm9ybVByb3BzID0gdXNlQ2FsbGJhY2s0KFxuICAgIChpdCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnV0dG9uOiBhc0J1dHRvblByb3BzKGl0LnRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkpLFxuICAgICAgICBpbnB1dHM6IGl0LnBhcmFtZXRlcnMudG9TcGxpY2VkKFNPRlRfTElNSVRfRk9STV9JTlBVVFMyKS5tYXAoXG4gICAgICAgICAgKHBhcmFtZXRlcikgPT4gYXNJbnB1dFByb3BzKGl0LnRvSW5wdXRBY3Rpb25Db21wb25lbnQocGFyYW1ldGVyLm5hbWUpLCB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IFwiZm9ybVwiXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9LFxuICAgIFthc0J1dHRvblByb3BzLCBhc0lucHV0UHJvcHNdXG4gICk7XG4gIGNvbnN0IGVsZW1lbnRQcm9wcyA9IHVzZU1lbW8xMigoKSA9PiB7XG4gICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQyIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50VHlwZTogXCJpbnB1dFwiLFxuICAgICAgICBlbGVtZW50OiBhc0lucHV0UHJvcHMoY29tcG9uZW50KVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEZvcm1BY3Rpb25Db21wb25lbnQyKSB7XG4gICAgICByZXR1cm4geyBlbGVtZW50VHlwZTogXCJmb3JtXCIsIGVsZW1lbnQ6IGFzRm9ybVByb3BzKGNvbXBvbmVudCkgfTtcbiAgICB9XG4gICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEJ1dHRvbkFjdGlvbkNvbXBvbmVudDIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnRUeXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBlbGVtZW50OiBhc0J1dHRvblByb3BzKGNvbXBvbmVudClcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbYXNCdXR0b25Qcm9wcywgYXNGb3JtUHJvcHMsIGFzSW5wdXRQcm9wcywgY29tcG9uZW50XSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRDYXB0aW9uID0gdXNlTWVtbzEyKCgpID0+IHtcbiAgICBpZiAoIWNhcHRpb24pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKGNhcHRpb24udHlwZSA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGNhcHRpb24udGV4dFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGNhcHRpb24udHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjogY2FwdGlvbi50ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH0sIFtjYXB0aW9uXSk7XG4gIGlmICghZWxlbWVudFByb3BzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5wcm9wcyxcbiAgICB3ZWJzaXRlVGV4dDogcHJvcHMud2Vic2l0ZVRleHQgPz8gcHJvcHMud2Vic2l0ZVVybCA/PyBhY3Rpb24udXJsLFxuICAgIC4uLmVsZW1lbnRQcm9wcyxcbiAgICAuLi5ub3JtYWxpemVkQ2FwdGlvblxuICB9O1xufTtcblxuLy8gc3JjL3VpL2xheW91dHMvSXNvbGF0ZWRCbGlua0xheW91dC50c3hcbmltcG9ydCBjbHN4MTAgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHVzZU1lbW8gYXMgdXNlTWVtbzEzIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MzEsIGpzeHMgYXMganN4czE2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgSXNvbGF0ZWRCbGlua0xheW91dCA9ICh7XG4gIHN0eWxlUHJlc2V0ID0gXCJkZWZhdWx0XCIsXG4gIGlkLFxuICBzdWNjZXNzLFxuICBlcnJvcixcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IHVzZU1lbW8xMygoKSA9PiB7XG4gICAgaWYgKHByb3BzLmVsZW1lbnRUeXBlID09PSBcImZvcm1cIikge1xuICAgICAgcmV0dXJuIHsgZm9ybTogcHJvcHMuZWxlbWVudCB9O1xuICAgIH1cbiAgICBpZiAocHJvcHMuZWxlbWVudFR5cGUgPT09IFwiYnV0dG9uXCIpIHtcbiAgICAgIHJldHVybiB7IGJ1dHRvbnM6IFtwcm9wcy5lbGVtZW50XSB9O1xuICAgIH1cbiAgICBpZiAocHJvcHMuZWxlbWVudFR5cGUgPT09IFwiaW5wdXRcIikge1xuICAgICAgcmV0dXJuIHsgaW5wdXRzOiBbcHJvcHMuZWxlbWVudF0gfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9LCBbcHJvcHMuZWxlbWVudCwgcHJvcHMuZWxlbWVudFR5cGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3gxMChcImJsaW5rIHctZnVsbFwiLCB0aGVtZUNsYXNzTWFwW3N0eWxlUHJlc2V0XSksIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDMxKEFjdGlvbkNvbnRlbnQsIHsgLi4uZWxlbWVudCB9LCBpZCksXG4gICAgc3VjY2VzcyAmJiAvKiBAX19QVVJFX18gKi8ganN4MzEoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc3VidGV4dCB0ZXh0LXRleHQtc3VjY2VzcyBtdC0xLjUgZmxleCBqdXN0aWZ5LWNlbnRlclwiLCBjaGlsZHJlbjogc3VjY2VzcyB9KSxcbiAgICBlcnJvciAmJiAhc3VjY2VzcyAmJiAvKiBAX19QVVJFX18gKi8ganN4MzEoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtc3VidGV4dCB0ZXh0LXRleHQtZXJyb3IgbXQtMS41IGZsZXgganVzdGlmeS1jZW50ZXJcIiwgY2hpbGRyZW46IGVycm9yIH0pXG4gIF0gfSk7XG59O1xuXG4vLyBzcmMvdWkvTWluaWJsaW5rLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDMyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgTWluaWJsaW5rID0gKHtcbiAgX0xheW91dDogTGF5b3V0ID0gTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXQsXG4gIHN0eWxlUHJlc2V0LFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBMYXlvdXRXaXRoUHJlc2V0ID0gdXNlQ2FsbGJhY2s1KFxuICAgIChwcm9wczIpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzMihMYXlvdXQsIHsgLi4ucHJvcHMyLCBzdHlsZVByZXNldCB9KSxcbiAgICBbTGF5b3V0LCBzdHlsZVByZXNldF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMihCbGlua0NvbnRhaW5lcjIsIHsgLi4ucHJvcHMsIHNlY3VyaXR5TGV2ZWw6IFwiYWxsXCIsIExheW91dDogTGF5b3V0V2l0aFByZXNldCB9KTtcbn07XG52YXIgTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZFByb3BzID0gdXNlSXNvbGF0ZWRMYXlvdXRQcm9wTm9ybWFsaXplcihwcm9wcyk7XG4gIGlmICghbm9ybWFsaXplZFByb3BzKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gTm8gYHNlbGVjdG9yYCBwcm9wIHByb3ZpZGVkIGZvciBNaW5pYmxpbmtcIlxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMihJc29sYXRlZEJsaW5rTGF5b3V0LCB7IC4uLm5vcm1hbGl6ZWRQcm9wcyB9KTtcbn07XG5cbmV4cG9ydCB7XG4gIEJsaW5rLFxuICBOb3JtYWxpemVkQmFzZUJsaW5rTGF5b3V0LFxuICBNaW5pYmxpbmssXG4gIE5vcm1hbGl6ZWRJc29sYXRlZEJsaW5rTGF5b3V0XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-MA5MH5OQ.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/hooks/solana/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/hooks/solana/index.js ***!
  \*********************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useActionSolanaWalletAdapter: () => (/* binding */ useActionSolanaWalletAdapter)\n/* harmony export */ });\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n/* harmony import */ var _solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/wallet-adapter-react */ \"(ssr)/./node_modules/@solana/wallet-adapter-react/lib/esm/useWallet.js\");\n/* harmony import */ var _solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-adapter-react-ui */ \"(ssr)/./node_modules/@solana/wallet-adapter-react-ui/lib/esm/useWalletModal.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bs58 */ \"bs58\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n// src/hooks/solana/useActionSolanaWalletAdapter.ts\n\n\n\n\n\n\nfunction useActionSolanaWalletAdapter(rpcUrlOrConnection) {\n  const wallet = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_4__.useWallet)();\n  const walletModal = (0,_solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_5__.useWalletModal)();\n  const finalConnection = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    return typeof rpcUrlOrConnection === \"string\" ? new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(rpcUrlOrConnection, \"confirmed\") : rpcUrlOrConnection;\n  }, [rpcUrlOrConnection]);\n  const adapter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    function verifySignDataValidity(data, opts) {\n      if (typeof data === \"string\") {\n        return true;\n      }\n      const errors = (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.verifySignMessageData)(data, opts);\n      if (errors.length > 0) {\n        console.warn(\n          `[@dialectlabs/blinks] Sign message data verification error: ${errors.join(\", \")}`\n        );\n      }\n      return errors.length === 0;\n    }\n    return new _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.ActionConfig(finalConnection, {\n      connect: async () => {\n        try {\n          await wallet.connect();\n        } catch {\n          walletModal.setVisible(true);\n          return null;\n        }\n        return wallet.publicKey?.toBase58() ?? null;\n      },\n      signTransaction: async (txData) => {\n        try {\n          const tx = await wallet.sendTransaction(\n            _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.VersionedTransaction.deserialize(Buffer.from(txData, \"base64\")),\n            finalConnection\n          );\n          return { signature: tx };\n        } catch {\n          return { error: \"Signing failed.\" };\n        }\n      },\n      signMessage: async (data) => {\n        if (!wallet.signMessage || !wallet.publicKey) {\n          return { error: \"Signing failed.\" };\n        }\n        try {\n          const isSignDataValid = verifySignDataValidity(data, {\n            expectedAddress: wallet.publicKey.toString()\n          });\n          if (!isSignDataValid) {\n            return { error: \"Signing failed.\" };\n          }\n          const text = typeof data === \"string\" ? data : (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.createSignMessageText)(data);\n          const encoded = new TextEncoder().encode(text);\n          const signed = await wallet.signMessage(encoded);\n          const encodedSignature = bs58__WEBPACK_IMPORTED_MODULE_2__.encode(signed);\n          return { signature: encodedSignature };\n        } catch (e) {\n          return { error: \"Signing failed.\" };\n        }\n      }\n    });\n  }, [finalConnection, wallet, walletModal]);\n  return { adapter };\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2hvb2tzL3NvbGFuYS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBS2tDO0FBQ3VCO0FBQ1E7QUFDRTtBQUMzQztBQUNRO0FBQ2hDO0FBQ0EsaUJBQWlCLHVFQUFTO0FBQzFCLHNCQUFzQiwrRUFBYztBQUNwQywwQkFBMEIsOENBQU87QUFDakMsd0RBQXdELHVEQUFVO0FBQ2xFLEdBQUc7QUFDSCxrQkFBa0IsOENBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0VBQXFCO0FBQzFDO0FBQ0E7QUFDQSx5RUFBeUUsa0JBQWtCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrRUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBb0I7QUFDaEM7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixVQUFVO0FBQ1YsbUJBQW1CO0FBQ25CO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSx5REFBeUQsK0VBQXFCO0FBQzlFO0FBQ0E7QUFDQSxtQ0FBbUMsd0NBQVc7QUFDOUMsbUJBQW1CO0FBQ25CLFVBQVU7QUFDVixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsV0FBVztBQUNYO0FBR0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9DaWFuL0Rlc2t0b3AvRk9Nb2x0M0QvYXBwL25vZGVfbW9kdWxlcy9AZGlhbGVjdGxhYnMvYmxpbmtzL2Rpc3QvaG9va3Mvc29sYW5hL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9ob29rcy9zb2xhbmEvdXNlQWN0aW9uU29sYW5hV2FsbGV0QWRhcHRlci50c1xuaW1wb3J0IHtcbiAgQWN0aW9uQ29uZmlnLFxuICBjcmVhdGVTaWduTWVzc2FnZVRleHQsXG4gIHZlcmlmeVNpZ25NZXNzYWdlRGF0YVxufSBmcm9tIFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgeyB1c2VXYWxsZXQgfSBmcm9tIFwiQHNvbGFuYS93YWxsZXQtYWRhcHRlci1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlV2FsbGV0TW9kYWwgfSBmcm9tIFwiQHNvbGFuYS93YWxsZXQtYWRhcHRlci1yZWFjdC11aVwiO1xuaW1wb3J0IHsgQ29ubmVjdGlvbiwgVmVyc2lvbmVkVHJhbnNhY3Rpb24gfSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG5pbXBvcnQgYnM1OCBmcm9tIFwiYnM1OFwiO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQWN0aW9uU29sYW5hV2FsbGV0QWRhcHRlcihycGNVcmxPckNvbm5lY3Rpb24pIHtcbiAgY29uc3Qgd2FsbGV0ID0gdXNlV2FsbGV0KCk7XG4gIGNvbnN0IHdhbGxldE1vZGFsID0gdXNlV2FsbGV0TW9kYWwoKTtcbiAgY29uc3QgZmluYWxDb25uZWN0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBycGNVcmxPckNvbm5lY3Rpb24gPT09IFwic3RyaW5nXCIgPyBuZXcgQ29ubmVjdGlvbihycGNVcmxPckNvbm5lY3Rpb24sIFwiY29uZmlybWVkXCIpIDogcnBjVXJsT3JDb25uZWN0aW9uO1xuICB9LCBbcnBjVXJsT3JDb25uZWN0aW9uXSk7XG4gIGNvbnN0IGFkYXB0ZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBmdW5jdGlvbiB2ZXJpZnlTaWduRGF0YVZhbGlkaXR5KGRhdGEsIG9wdHMpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVycm9ycyA9IHZlcmlmeVNpZ25NZXNzYWdlRGF0YShkYXRhLCBvcHRzKTtcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBTaWduIG1lc3NhZ2UgZGF0YSB2ZXJpZmljYXRpb24gZXJyb3I6ICR7ZXJyb3JzLmpvaW4oXCIsIFwiKX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBY3Rpb25Db25maWcoZmluYWxDb25uZWN0aW9uLCB7XG4gICAgICBjb25uZWN0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgd2FsbGV0LmNvbm5lY3QoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgd2FsbGV0TW9kYWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2FsbGV0LnB1YmxpY0tleT8udG9CYXNlNTgoKSA/PyBudWxsO1xuICAgICAgfSxcbiAgICAgIHNpZ25UcmFuc2FjdGlvbjogYXN5bmMgKHR4RGF0YSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHR4ID0gYXdhaXQgd2FsbGV0LnNlbmRUcmFuc2FjdGlvbihcbiAgICAgICAgICAgIFZlcnNpb25lZFRyYW5zYWN0aW9uLmRlc2VyaWFsaXplKEJ1ZmZlci5mcm9tKHR4RGF0YSwgXCJiYXNlNjRcIikpLFxuICAgICAgICAgICAgZmluYWxDb25uZWN0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4geyBzaWduYXR1cmU6IHR4IH07XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiB7IGVycm9yOiBcIlNpZ25pbmcgZmFpbGVkLlwiIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzaWduTWVzc2FnZTogYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKCF3YWxsZXQuc2lnbk1lc3NhZ2UgfHwgIXdhbGxldC5wdWJsaWNLZXkpIHtcbiAgICAgICAgICByZXR1cm4geyBlcnJvcjogXCJTaWduaW5nIGZhaWxlZC5cIiB9O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaXNTaWduRGF0YVZhbGlkID0gdmVyaWZ5U2lnbkRhdGFWYWxpZGl0eShkYXRhLCB7XG4gICAgICAgICAgICBleHBlY3RlZEFkZHJlc3M6IHdhbGxldC5wdWJsaWNLZXkudG9TdHJpbmcoKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghaXNTaWduRGF0YVZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogXCJTaWduaW5nIGZhaWxlZC5cIiB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0ZXh0ID0gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogY3JlYXRlU2lnbk1lc3NhZ2VUZXh0KGRhdGEpO1xuICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCk7XG4gICAgICAgICAgY29uc3Qgc2lnbmVkID0gYXdhaXQgd2FsbGV0LnNpZ25NZXNzYWdlKGVuY29kZWQpO1xuICAgICAgICAgIGNvbnN0IGVuY29kZWRTaWduYXR1cmUgPSBiczU4LmVuY29kZShzaWduZWQpO1xuICAgICAgICAgIHJldHVybiB7IHNpZ25hdHVyZTogZW5jb2RlZFNpZ25hdHVyZSB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IFwiU2lnbmluZyBmYWlsZWQuXCIgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZmluYWxDb25uZWN0aW9uLCB3YWxsZXQsIHdhbGxldE1vZGFsXSk7XG4gIHJldHVybiB7IGFkYXB0ZXIgfTtcbn1cbmV4cG9ydCB7XG4gIHVzZUFjdGlvblNvbGFuYVdhbGxldEFkYXB0ZXJcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/hooks/solana/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/index.css":
/*!*********************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/index.css ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"448c571c351d\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsiL1VzZXJzL0NpYW4vRGVza3RvcC9GT01vbHQzRC9hcHAvbm9kZV9tb2R1bGVzL0BkaWFsZWN0bGFicy9ibGlua3MvZGlzdC9pbmRleC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI0NDhjNTcxYzM1MWRcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/index.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.AbstractActionComponent),\n/* harmony export */   Action: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.Action),\n/* harmony export */   ActionConfig: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ActionConfig),\n/* harmony export */   ActionsRegistry: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ActionsRegistry),\n/* harmony export */   ActionsURLMapper: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ActionsURLMapper),\n/* harmony export */   BASELINE_ACTION_BLOCKCHAIN_IDS: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BASELINE_ACTION_BLOCKCHAIN_IDS),\n/* harmony export */   BASELINE_ACTION_VERSION: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BASELINE_ACTION_VERSION),\n/* harmony export */   BLINK_CLIENT_KEY_HEADER: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BLINK_CLIENT_KEY_HEADER),\n/* harmony export */   Blink: () => (/* reexport safe */ _chunk_MA5MH5OQ_js__WEBPACK_IMPORTED_MODULE_0__.Blink),\n/* harmony export */   BlinkContainer: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlinkContainer),\n/* harmony export */   BlockchainIds: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlockchainIds),\n/* harmony export */   ButtonActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ButtonActionComponent),\n/* harmony export */   DEFAULT_SUPPORTED_BLOCKCHAIN_IDS: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SUPPORTED_BLOCKCHAIN_IDS),\n/* harmony export */   DisclaimerType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.DisclaimerType),\n/* harmony export */   ExecutionType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ExecutionType),\n/* harmony export */   FormActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.FormActionComponent),\n/* harmony export */   MAX_SUPPORTED_ACTION_VERSION: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.MAX_SUPPORTED_ACTION_VERSION),\n/* harmony export */   Miniblink: () => (/* reexport safe */ _chunk_MA5MH5OQ_js__WEBPACK_IMPORTED_MODULE_0__.Miniblink),\n/* harmony export */   MultiValueActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.MultiValueActionComponent),\n/* harmony export */   NormalizedBaseBlinkLayout: () => (/* reexport safe */ _chunk_MA5MH5OQ_js__WEBPACK_IMPORTED_MODULE_0__.NormalizedBaseBlinkLayout),\n/* harmony export */   NormalizedIsolatedBlinkLayout: () => (/* reexport safe */ _chunk_MA5MH5OQ_js__WEBPACK_IMPORTED_MODULE_0__.NormalizedIsolatedBlinkLayout),\n/* harmony export */   SignMessageVerificationErrorType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.SignMessageVerificationErrorType),\n/* harmony export */   SingleValueActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.SingleValueActionComponent),\n/* harmony export */   checkSecurity: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.checkSecurity),\n/* harmony export */   createSignMessageText: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.createSignMessageText),\n/* harmony export */   defaultActionSupportStrategy: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.defaultActionSupportStrategy),\n/* harmony export */   getExtendedActionState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedActionState),\n/* harmony export */   getExtendedInterstitialState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedInterstitialState),\n/* harmony export */   getExtendedWebsiteState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedWebsiteState),\n/* harmony export */   isBlockchainSupported: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isBlockchainSupported),\n/* harmony export */   isInterstitial: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isInterstitial),\n/* harmony export */   isParameterSelectable: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isParameterSelectable),\n/* harmony export */   isPatternAllowed: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isPatternAllowed),\n/* harmony export */   isVersionSupported: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isVersionSupported),\n/* harmony export */   mergeActionStates: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.mergeActionStates),\n/* harmony export */   parseSignMessageText: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.parseSignMessageText),\n/* harmony export */   proxify: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.proxify),\n/* harmony export */   proxifyImage: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.proxifyImage),\n/* harmony export */   setClientKey: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.setClientKey),\n/* harmony export */   setProxyUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.setProxyUrl),\n/* harmony export */   unfurlUrlToActionApiUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.unfurlUrlToActionApiUrl),\n/* harmony export */   useAction: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useAction),\n/* harmony export */   useActionsRegistryInterval: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useActionsRegistryInterval),\n/* harmony export */   verifySignMessageData: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.verifySignMessageData)\n/* harmony export */ });\n/* harmony import */ var _chunk_MA5MH5OQ_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-MA5MH5OQ.js */ \"(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-MA5MH5OQ.js\");\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n\n\n// src/index.ts\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLNkI7O0FBRTdCO0FBQ3lDO0FBTXZDIiwic291cmNlcyI6WyIvVXNlcnMvQ2lhbi9EZXNrdG9wL0ZPTW9sdDNEL2FwcC9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJsaW5rLFxuICBNaW5pYmxpbmssXG4gIE5vcm1hbGl6ZWRCYXNlQmxpbmtMYXlvdXQsXG4gIE5vcm1hbGl6ZWRJc29sYXRlZEJsaW5rTGF5b3V0XG59IGZyb20gXCIuL2NodW5rLU1BNU1INU9RLmpzXCI7XG5cbi8vIHNyYy9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuZXhwb3J0IHtcbiAgQmxpbmssXG4gIE1pbmlibGluayxcbiAgTm9ybWFsaXplZEJhc2VCbGlua0xheW91dCxcbiAgTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXRcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/index.js\n");

/***/ })

};
;