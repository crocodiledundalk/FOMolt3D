"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/hooks/use-game-events.ts":
/*!**************************************!*\
  !*** ./src/hooks/use-game-events.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useGameEvents: () => (/* binding */ useGameEvents)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-query */ \"(app-pages-browser)/./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js\");\n/* harmony import */ var _lib_events_to_game_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/events/to-game-event */ \"(app-pages-browser)/./src/lib/events/to-game-event.ts\");\n/* harmony import */ var _lib_constants_routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/constants/routes */ \"(app-pages-browser)/./src/lib/constants/routes.ts\");\n/* __next_internal_client_entry_do_not_use__ useGameEvents auto */ \n\n\n\nconst MAX_EVENTS = 200;\nconst MAX_RETRIES = 10;\nconst BASE_DELAY = 1000;\n/** All event types we listen for via named SSE events */ const EVENT_TYPES = [\n    \"GameUpdated\",\n    \"KeysPurchased\",\n    \"Claimed\",\n    \"ReferralEarned\",\n    \"ReferralClaimed\",\n    \"RoundStarted\",\n    \"RoundConcluded\",\n    \"ProtocolFeeCollected\"\n];\n/**\n * Central SSE subscription hook.\n *\n * Events are stored in chronological order (oldest first).\n * De-duplicated by event key (signature:index).\n * Returns { events, connected }.\n */ function useGameEvents() {\n    const [events, setEvents] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [connected, setConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const retryCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const eventSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const seenKeys = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Set());\n    const queryClient = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__.useQueryClient)();\n    const handleProgramEvent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useGameEvents.useCallback[handleProgramEvent]\": (programEvent)=>{\n            // Update game state cache for GameUpdated events\n            if (programEvent.type === \"GameUpdated\") {\n                queryClient.setQueryData([\n                    \"gameState\"\n                ], {\n                    \"useGameEvents.useCallback[handleProgramEvent]\": (old)=>{\n                        if (!old) return old;\n                        const updatedGameState = {\n                            ...old.gameState,\n                            potLamports: programEvent.potLamports,\n                            totalKeys: programEvent.totalKeys,\n                            lastBuyer: programEvent.lastBuyer,\n                            timerEnd: programEvent.timerEnd,\n                            winnerPot: programEvent.winnerPot,\n                            nextRoundPot: programEvent.nextRoundPot\n                        };\n                        return {\n                            ...old,\n                            gameState: updatedGameState,\n                            keyPriceLamports: programEvent.nextKeyPrice,\n                            nextKeyPriceLamports: programEvent.nextKeyPrice\n                        };\n                    }\n                }[\"useGameEvents.useCallback[handleProgramEvent]\"]);\n            }\n            // Invalidate leaderboard and player state on buys/claims\n            if (programEvent.type === \"KeysPurchased\" || programEvent.type === \"Claimed\") {\n                queryClient.invalidateQueries({\n                    queryKey: [\n                        \"leaderboard\"\n                    ]\n                });\n                queryClient.invalidateQueries({\n                    queryKey: [\n                        \"playerState\"\n                    ]\n                });\n            }\n            // On round events, refetch game state entirely\n            if (programEvent.type === \"RoundStarted\" || programEvent.type === \"RoundConcluded\") {\n                queryClient.invalidateQueries({\n                    queryKey: [\n                        \"gameState\"\n                    ]\n                });\n            }\n            // Convert to feed event\n            const feedEvent = (0,_lib_events_to_game_event__WEBPACK_IMPORTED_MODULE_1__.toGameEvent)(programEvent);\n            if (!feedEvent) return;\n            // De-duplicate by key\n            if (seenKeys.current.has(feedEvent.id)) return;\n            seenKeys.current.add(feedEvent.id);\n            setEvents({\n                \"useGameEvents.useCallback[handleProgramEvent]\": (prev)=>{\n                    const next = [\n                        ...prev,\n                        feedEvent\n                    ];\n                    // Trim oldest events if over cap\n                    if (next.length > MAX_EVENTS) {\n                        const trimmed = next.slice(-MAX_EVENTS);\n                        // Rebuild seen keys from remaining events\n                        seenKeys.current = new Set(trimmed.map({\n                            \"useGameEvents.useCallback[handleProgramEvent]\": (e)=>e.id\n                        }[\"useGameEvents.useCallback[handleProgramEvent]\"]));\n                        return trimmed;\n                    }\n                    return next;\n                }\n            }[\"useGameEvents.useCallback[handleProgramEvent]\"]);\n        }\n    }[\"useGameEvents.useCallback[handleProgramEvent]\"], [\n        queryClient\n    ]);\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useGameEvents.useCallback[connect]\": ()=>{\n            if (eventSourceRef.current) {\n                eventSourceRef.current.close();\n            }\n            const es = new EventSource(_lib_constants_routes__WEBPACK_IMPORTED_MODULE_2__.API_ROUTES.EVENTS);\n            eventSourceRef.current = es;\n            es.onopen = ({\n                \"useGameEvents.useCallback[connect]\": ()=>{\n                    setConnected(true);\n                    setError(false);\n                    retryCount.current = 0;\n                }\n            })[\"useGameEvents.useCallback[connect]\"];\n            // Listen for each named event type\n            for (const eventType of EVENT_TYPES){\n                es.addEventListener(eventType, {\n                    \"useGameEvents.useCallback[connect]\": (msg)=>{\n                        try {\n                            const data = JSON.parse(msg.data);\n                            handleProgramEvent(data);\n                        } catch (e) {\n                        // Ignore malformed events\n                        }\n                    }\n                }[\"useGameEvents.useCallback[connect]\"]);\n            }\n            es.onerror = ({\n                \"useGameEvents.useCallback[connect]\": ()=>{\n                    es.close();\n                    setConnected(false);\n                    if (retryCount.current < MAX_RETRIES) {\n                        const delay = BASE_DELAY * Math.pow(2, retryCount.current);\n                        retryCount.current++;\n                        setTimeout(connect, delay);\n                    } else {\n                        setError(true);\n                    }\n                }\n            })[\"useGameEvents.useCallback[connect]\"];\n        }\n    }[\"useGameEvents.useCallback[connect]\"], [\n        handleProgramEvent\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useGameEvents.useEffect\": ()=>{\n            connect();\n            return ({\n                \"useGameEvents.useEffect\": ()=>{\n                    var _eventSourceRef_current;\n                    (_eventSourceRef_current = eventSourceRef.current) === null || _eventSourceRef_current === void 0 ? void 0 : _eventSourceRef_current.close();\n                }\n            })[\"useGameEvents.useEffect\"];\n        }\n    }[\"useGameEvents.useEffect\"], [\n        connect\n    ]);\n    return {\n        events,\n        connected,\n        error\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2UtZ2FtZS1ldmVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O21FQUVpRTtBQUNWO0FBSUU7QUFDTDtBQUVwRCxNQUFNTyxhQUFhO0FBQ25CLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsYUFBYTtBQUVuQix1REFBdUQsR0FDdkQsTUFBTUMsY0FBa0M7SUFDdEM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNEO0FBRUQ7Ozs7OztDQU1DLEdBQ00sU0FBU0M7SUFDZCxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR2IsK0NBQVFBLENBQWMsRUFBRTtJQUNwRCxNQUFNLENBQUNjLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDZ0IsT0FBT0MsU0FBUyxHQUFHakIsK0NBQVFBLENBQUM7SUFDbkMsTUFBTWtCLGFBQWFoQiw2Q0FBTUEsQ0FBQztJQUMxQixNQUFNaUIsaUJBQWlCakIsNkNBQU1BLENBQXFCO0lBQ2xELE1BQU1rQixXQUFXbEIsNkNBQU1BLENBQUMsSUFBSW1CO0lBQzVCLE1BQU1DLGNBQWNsQixxRUFBY0E7SUFFbEMsTUFBTW1CLHFCQUFxQnBCLGtEQUFXQTt5REFDcEMsQ0FBQ3FCO1lBQ0MsaURBQWlEO1lBQ2pELElBQUlBLGFBQWFDLElBQUksS0FBSyxlQUFlO2dCQUN2Q0gsWUFBWUksWUFBWSxDQUN0QjtvQkFBQztpQkFBWTtxRUFDYixDQUFDQzt3QkFDQyxJQUFJLENBQUNBLEtBQUssT0FBT0E7d0JBQ2pCLE1BQU1DLG1CQUFtQjs0QkFDdkIsR0FBR0QsSUFBSUUsU0FBUzs0QkFDaEJDLGFBQWFOLGFBQWFNLFdBQVc7NEJBQ3JDQyxXQUFXUCxhQUFhTyxTQUFTOzRCQUNqQ0MsV0FBV1IsYUFBYVEsU0FBUzs0QkFDakNDLFVBQVVULGFBQWFTLFFBQVE7NEJBQy9CQyxXQUFXVixhQUFhVSxTQUFTOzRCQUNqQ0MsY0FBY1gsYUFBYVcs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QU87UUFBRXpDO1FBQVFFO1FBQVdFO0lBQU07QUFDcEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9DaWFuL0Rlc2t0b3AvRk9Nb2x0M0QvYXBwL3NyYy9ob29rcy91c2UtZ2FtZS1ldmVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC1xdWVyeVwiO1xuaW1wb3J0IHR5cGUgeyBHYW1lRXZlbnQgfSBmcm9tIFwiQC90eXBlcy9nYW1lXCI7XG5pbXBvcnQgdHlwZSB7IEdhbWVTdGF0ZVJlc3BvbnNlIH0gZnJvbSBcIkAvdHlwZXMvYXBpXCI7XG5pbXBvcnQgdHlwZSB7IFByb2dyYW1FdmVudCwgUHJvZ3JhbUV2ZW50VHlwZSB9IGZyb20gXCJAL3R5cGVzL3Byb2dyYW0tZXZlbnRzXCI7XG5pbXBvcnQgeyB0b0dhbWVFdmVudCB9IGZyb20gXCJAL2xpYi9ldmVudHMvdG8tZ2FtZS1ldmVudFwiO1xuaW1wb3J0IHsgQVBJX1JPVVRFUyB9IGZyb20gXCJAL2xpYi9jb25zdGFudHMvcm91dGVzXCI7XG5cbmNvbnN0IE1BWF9FVkVOVFMgPSAyMDA7XG5jb25zdCBNQVhfUkVUUklFUyA9IDEwO1xuY29uc3QgQkFTRV9ERUxBWSA9IDEwMDA7XG5cbi8qKiBBbGwgZXZlbnQgdHlwZXMgd2UgbGlzdGVuIGZvciB2aWEgbmFtZWQgU1NFIGV2ZW50cyAqL1xuY29uc3QgRVZFTlRfVFlQRVM6IFByb2dyYW1FdmVudFR5cGVbXSA9IFtcbiAgXCJHYW1lVXBkYXRlZFwiLFxuICBcIktleXNQdXJjaGFzZWRcIixcbiAgXCJDbGFpbWVkXCIsXG4gIFwiUmVmZXJyYWxFYXJuZWRcIixcbiAgXCJSZWZlcnJhbENsYWltZWRcIixcbiAgXCJSb3VuZFN0YXJ0ZWRcIixcbiAgXCJSb3VuZENvbmNsdWRlZFwiLFxuICBcIlByb3RvY29sRmVlQ29sbGVjdGVkXCIsXG5dO1xuXG4vKipcbiAqIENlbnRyYWwgU1NFIHN1YnNjcmlwdGlvbiBob29rLlxuICpcbiAqIEV2ZW50cyBhcmUgc3RvcmVkIGluIGNocm9ub2xvZ2ljYWwgb3JkZXIgKG9sZGVzdCBmaXJzdCkuXG4gKiBEZS1kdXBsaWNhdGVkIGJ5IGV2ZW50IGtleSAoc2lnbmF0dXJlOmluZGV4KS5cbiAqIFJldHVybnMgeyBldmVudHMsIGNvbm5lY3RlZCB9LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlR2FtZUV2ZW50cygpIHtcbiAgY29uc3QgW2V2ZW50cywgc2V0RXZlbnRzXSA9IHVzZVN0YXRlPEdhbWVFdmVudFtdPihbXSk7XG4gIGNvbnN0IFtjb25uZWN0ZWQsIHNldENvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByZXRyeUNvdW50ID0gdXNlUmVmKDApO1xuICBjb25zdCBldmVudFNvdXJjZVJlZiA9IHVzZVJlZjxFdmVudFNvdXJjZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzZWVuS2V5cyA9IHVzZVJlZihuZXcgU2V0PHN0cmluZz4oKSk7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcblxuICBjb25zdCBoYW5kbGVQcm9ncmFtRXZlbnQgPSB1c2VDYWxsYmFjayhcbiAgICAocHJvZ3JhbUV2ZW50OiBQcm9ncmFtRXZlbnQpID0+IHtcbiAgICAgIC8vIFVwZGF0ZSBnYW1lIHN0YXRlIGNhY2hlIGZvciBHYW1lVXBkYXRlZCBldmVudHNcbiAgICAgIGlmIChwcm9ncmFtRXZlbnQudHlwZSA9PT0gXCJHYW1lVXBkYXRlZFwiKSB7XG4gICAgICAgIHF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YTxHYW1lU3RhdGVSZXNwb25zZT4oXG4gICAgICAgICAgW1wiZ2FtZVN0YXRlXCJdLFxuICAgICAgICAgIChvbGQpID0+IHtcbiAgICAgICAgICAgIGlmICghb2xkKSByZXR1cm4gb2xkO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEdhbWVTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgLi4ub2xkLmdhbWVTdGF0ZSxcbiAgICAgICAgICAgICAgcG90TGFtcG9ydHM6IHByb2dyYW1FdmVudC5wb3RMYW1wb3J0cyxcbiAgICAgICAgICAgICAgdG90YWxLZXlzOiBwcm9ncmFtRXZlbnQudG90YWxLZXlzLFxuICAgICAgICAgICAgICBsYXN0QnV5ZXI6IHByb2dyYW1FdmVudC5sYXN0QnV5ZXIsXG4gICAgICAgICAgICAgIHRpbWVyRW5kOiBwcm9ncmFtRXZlbnQudGltZXJFbmQsXG4gICAgICAgICAgICAgIHdpbm5lclBvdDogcHJvZ3JhbUV2ZW50Lndpbm5lclBvdCxcbiAgICAgICAgICAgICAgbmV4dFJvdW5kUG90OiBwcm9ncmFtRXZlbnQubmV4dFJvdW5kUG90LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICAgICAgZ2FtZVN0YXRlOiB1cGRhdGVkR2FtZVN0YXRlLFxuICAgICAgICAgICAgICBrZXlQcmljZUxhbXBvcnRzOiBwcm9ncmFtRXZlbnQubmV4dEtleVByaWNlLFxuICAgICAgICAgICAgICBuZXh0S2V5UHJpY2VMYW1wb3J0czogcHJvZ3JhbUV2ZW50Lm5leHRLZXlQcmljZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnZhbGlkYXRlIGxlYWRlcmJvYXJkIGFuZCBwbGF5ZXIgc3RhdGUgb24gYnV5cy9jbGFpbXNcbiAgICAgIGlmIChcbiAgICAgICAgcHJvZ3JhbUV2ZW50LnR5cGUgPT09IFwiS2V5c1B1cmNoYXNlZFwiIHx8XG4gICAgICAgIHByb2dyYW1FdmVudC50eXBlID09PSBcIkNsYWltZWRcIlxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFtcImxlYWRlcmJvYXJkXCJdIH0pO1xuICAgICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBbXCJwbGF5ZXJTdGF0ZVwiXSB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gT24gcm91bmQgZXZlbnRzLCByZWZldGNoIGdhbWUgc3RhdGUgZW50aXJlbHlcbiAgICAgIGlmIChcbiAgICAgICAgcHJvZ3JhbUV2ZW50LnR5cGUgPT09IFwiUm91bmRTdGFydGVkXCIgfHxcbiAgICAgICAgcHJvZ3JhbUV2ZW50LnR5cGUgPT09IFwiUm91bmRDb25jbHVkZWRcIlxuICAgICAgKSB7XG4gICAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IFtcImdhbWVTdGF0ZVwiXSB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCB0byBmZWVkIGV2ZW50XG4gICAgICBjb25zdCBmZWVkRXZlbnQgPSB0b0dhbWVFdmVudChwcm9ncmFtRXZlbnQpO1xuICAgICAgaWYgKCFmZWVkRXZlbnQpIHJldHVybjtcblxuICAgICAgLy8gRGUtZHVwbGljYXRlIGJ5IGtleVxuICAgICAgaWYgKHNlZW5LZXlzLmN1cnJlbnQuaGFzKGZlZWRFdmVudC5pZCkpIHJldHVybjtcbiAgICAgIHNlZW5LZXlzLmN1cnJlbnQuYWRkKGZlZWRFdmVudC5pZCk7XG5cbiAgICAgIHNldEV2ZW50cygocHJldikgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXYsIGZlZWRFdmVudF07XG4gICAgICAgIC8vIFRyaW0gb2xkZXN0IGV2ZW50cyBpZiBvdmVyIGNhcFxuICAgICAgICBpZiAobmV4dC5sZW5ndGggPiBNQVhfRVZFTlRTKSB7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZCA9IG5leHQuc2xpY2UoLU1BWF9FVkVOVFMpO1xuICAgICAgICAgIC8vIFJlYnVpbGQgc2VlbiBrZXlzIGZyb20gcmVtYWluaW5nIGV2ZW50c1xuICAgICAgICAgIHNlZW5LZXlzLmN1cnJlbnQgPSBuZXcgU2V0KHRyaW1tZWQubWFwKChlKSA9PiBlLmlkKSk7XG4gICAgICAgICAgcmV0dXJuIHRyaW1tZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtxdWVyeUNsaWVudF1cbiAgKTtcblxuICBjb25zdCBjb25uZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChldmVudFNvdXJjZVJlZi5jdXJyZW50KSB7XG4gICAgICBldmVudFNvdXJjZVJlZi5jdXJyZW50LmNsb3NlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZXMgPSBuZXcgRXZlbnRTb3VyY2UoQVBJX1JPVVRFUy5FVkVOVFMpO1xuICAgIGV2ZW50U291cmNlUmVmLmN1cnJlbnQgPSBlcztcblxuICAgIGVzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgIHNldENvbm5lY3RlZCh0cnVlKTtcbiAgICAgIHNldEVycm9yKGZhbHNlKTtcbiAgICAgIHJldHJ5Q291bnQuY3VycmVudCA9IDA7XG4gICAgfTtcblxuICAgIC8vIExpc3RlbiBmb3IgZWFjaCBuYW1lZCBldmVudCB0eXBlXG4gICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgRVZFTlRfVFlQRVMpIHtcbiAgICAgIGVzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCAobXNnOiBNZXNzYWdlRXZlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtc2cuZGF0YSkgYXMgUHJvZ3JhbUV2ZW50O1xuICAgICAgICAgIGhhbmRsZVByb2dyYW1FdmVudChkYXRhKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgLy8gSWdub3JlIG1hbGZvcm1lZCBldmVudHNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZXMub25lcnJvciA9ICgpID0+IHtcbiAgICAgIGVzLmNsb3NlKCk7XG4gICAgICBzZXRDb25uZWN0ZWQoZmFsc2UpO1xuXG4gICAgICBpZiAocmV0cnlDb3VudC5jdXJyZW50IDwgTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBCQVNFX0RFTEFZICogTWF0aC5wb3coMiwgcmV0cnlDb3VudC5jdXJyZW50KTtcbiAgICAgICAgcmV0cnlDb3VudC5jdXJyZW50Kys7XG4gICAgICAgIHNldFRpbWVvdXQoY29ubmVjdCwgZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2hhbmRsZVByb2dyYW1FdmVudF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29ubmVjdCgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBldmVudFNvdXJjZVJlZi5jdXJyZW50Py5jbG9zZSgpO1xuICAgIH07XG4gIH0sIFtjb25uZWN0XSk7XG5cbiAgcmV0dXJuIHsgZXZlbnRzLCBjb25uZWN0ZWQsIGVycm9yIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVF1ZXJ5Q2xpZW50IiwidG9HYW1lRXZlbnQiLCJBUElfUk9VVEVTIiwiTUFYX0VWRU5UUyIsIk1BWF9SRVRSSUVTIiwiQkFTRV9ERUxBWSIsIkVWRU5UX1RZUEVTIiwidXNlR2FtZUV2ZW50cyIsImV2ZW50cyIsInNldEV2ZW50cyIsImNvbm5lY3RlZCIsInNldENvbm5lY3RlZCIsImVycm9yIiwic2V0RXJyb3IiLCJyZXRyeUNvdW50IiwiZXZlbnRTb3VyY2VSZWYiLCJzZWVuS2V5cyIsIlNldCIsInF1ZXJ5Q2xpZW50IiwiaGFuZGxlUHJvZ3JhbUV2ZW50IiwicHJvZ3JhbUV2ZW50IiwidHlwZSIsInNldFF1ZXJ5RGF0YSIsIm9sZCIsInVwZGF0ZWRHYW1lU3RhdGUiLCJnYW1lU3RhdGUiLCJwb3RMYW1wb3J0cyIsInRvdGFsS2V5cyIsImxhc3RCdXllciIsInRpbWVyRW5kIiwid2lubmVyUG90IiwibmV4dFJvdW5kUG90Iiwia2V5UHJpY2VMYW1wb3J0cyIsIm5leHRLZXlQcmljZSIsIm5leHRLZXlQcmljZUxhbXBvcnRzIiwiaW52YWxpZGF0ZVF1ZXJpZXMiLCJxdWVyeUtleSIsImZlZWRFdmVudCIsImN1cnJlbnQiLCJoYXMiLCJpZCIsImFkZCIsInByZXYiLCJuZXh0IiwibGVuZ3RoIiwidHJpbW1lZCIsInNsaWNlIiwibWFwIiwiZSIsImNvbm5lY3QiLCJjbG9zZSIsImVzIiwiRXZlbnRTb3VyY2UiLCJFVkVOVFMiLCJvbm9wZW4iLCJldmVudFR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwibXNnIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsIm9uZXJyb3IiLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJzZXRUaW1lb3V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/use-game-events.ts\n"));

/***/ })

});